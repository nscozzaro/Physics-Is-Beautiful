!function(e){function t(t){for(var r,a,s=t[0],u=t[1],l=t[2],p=0,h=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(c&&c(t);h.length;)h.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={3:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=u;i.push([1945,0]),n()}({100:function(e,t,n){"use strict";e.exports=function(e){function t(t){var n=e.createElement.bind(null,t);return n.type=t,n}return{a:t("a"),abbr:t("abbr"),address:t("address"),area:t("area"),article:t("article"),aside:t("aside"),audio:t("audio"),b:t("b"),base:t("base"),bdi:t("bdi"),bdo:t("bdo"),big:t("big"),blockquote:t("blockquote"),body:t("body"),br:t("br"),button:t("button"),canvas:t("canvas"),caption:t("caption"),cite:t("cite"),code:t("code"),col:t("col"),colgroup:t("colgroup"),data:t("data"),datalist:t("datalist"),dd:t("dd"),del:t("del"),details:t("details"),dfn:t("dfn"),dialog:t("dialog"),div:t("div"),dl:t("dl"),dt:t("dt"),em:t("em"),embed:t("embed"),fieldset:t("fieldset"),figcaption:t("figcaption"),figure:t("figure"),footer:t("footer"),form:t("form"),h1:t("h1"),h2:t("h2"),h3:t("h3"),h4:t("h4"),h5:t("h5"),h6:t("h6"),head:t("head"),header:t("header"),hgroup:t("hgroup"),hr:t("hr"),html:t("html"),i:t("i"),iframe:t("iframe"),img:t("img"),input:t("input"),ins:t("ins"),kbd:t("kbd"),keygen:t("keygen"),label:t("label"),legend:t("legend"),li:t("li"),link:t("link"),main:t("main"),map:t("map"),mark:t("mark"),menu:t("menu"),menuitem:t("menuitem"),meta:t("meta"),meter:t("meter"),nav:t("nav"),noscript:t("noscript"),object:t("object"),ol:t("ol"),optgroup:t("optgroup"),option:t("option"),output:t("output"),p:t("p"),param:t("param"),picture:t("picture"),pre:t("pre"),progress:t("progress"),q:t("q"),rp:t("rp"),rt:t("rt"),ruby:t("ruby"),s:t("s"),samp:t("samp"),script:t("script"),section:t("section"),select:t("select"),small:t("small"),source:t("source"),span:t("span"),strong:t("strong"),style:t("style"),sub:t("sub"),summary:t("summary"),sup:t("sup"),table:t("table"),tbody:t("tbody"),td:t("td"),textarea:t("textarea"),tfoot:t("tfoot"),th:t("th"),thead:t("thead"),time:t("time"),title:t("title"),tr:t("tr"),track:t("track"),u:t("u"),ul:t("ul"),var:t("var"),video:t("video"),wbr:t("wbr"),circle:t("circle"),clipPath:t("clipPath"),defs:t("defs"),ellipse:t("ellipse"),g:t("g"),image:t("image"),line:t("line"),linearGradient:t("linearGradient"),mask:t("mask"),path:t("path"),pattern:t("pattern"),polygon:t("polygon"),polyline:t("polyline"),radialGradient:t("radialGradient"),rect:t("rect"),stop:t("stop"),svg:t("svg"),text:t("text"),tspan:t("tspan")}}(n(0))},1513:function(e,t,n){var r=n(494);e.exports=function(e){return e&&e.length?r(e):[]}},1514:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=l(o),a=l(n(419)),s=l(n(1517)),u=l(n(1541));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.markIt=function(e,t){var n=t.trim().replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&");return{__html:e[r.props.labelField].replace(RegExp(n,"gi"),function(e){return"<mark>"+(0,u.default)(e)+"</mark>"})}},r.shouldRenderSuggestions=function(e){var t=r.props,n=t.minQueryLength,o=t.isFocused;return e.length>=n&&o},r.renderSuggestion=function(e,t){var n=r.props.renderSuggestion;return"function"==typeof n?n(e,t):i.default.createElement("span",{dangerouslySetInnerHTML:r.markIt(e,t)})},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.shouldRenderSuggestions||this.shouldRenderSuggestions;return t.isFocused!==e.isFocused||!(0,s.default)(t.suggestions,e.suggestions)||n(e.query)||n(e.query)!==n(t.query)}},{key:"componentDidUpdate",value:function(e){var t,n,r,o,i,a=this.props,s=a.selectedIndex,u=a.classNames;if(this.suggestionsContainer&&e.selectedIndex!==s){var l=this.suggestionsContainer.querySelector(u.activeSuggestion);l&&(t=l,n=this.suggestionsContainer,r=n.offsetHeight,o=t.offsetHeight,(i=t.offsetTop-n.scrollTop)+o>=r?n.scrollTop+=i-r+o:i<0&&(n.scrollTop+=i))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.suggestions.map(function(e,n){return i.default.createElement("li",{key:n,onMouseDown:t.handleClick.bind(null,n),onTouchStart:t.handleClick.bind(null,n),onMouseOver:t.handleHover.bind(null,n),className:n===t.selectedIndex?t.classNames.activeSuggestion:""},this.renderSuggestion(e,t.query))}.bind(this)),r=t.shouldRenderSuggestions||this.shouldRenderSuggestions;return 0!==n.length&&r(t.query)?i.default.createElement("div",{ref:function(t){e.suggestionsContainer=t},className:this.props.classNames.suggestions},i.default.createElement("ul",null," ",n," ")):null}}]),t}();p.propTypes={query:a.default.string.isRequired,selectedIndex:a.default.number.isRequired,suggestions:a.default.array.isRequired,handleClick:a.default.func.isRequired,handleHover:a.default.func.isRequired,minQueryLength:a.default.number,shouldRenderSuggestions:a.default.func,isFocused:a.default.bool.isRequired,classNames:a.default.object,labelField:a.default.string.isRequired,renderSuggestion:a.default.func},p.defaultProps={minQueryLength:2},t.default=p},1515:function(e,t,n){"use strict";var r=n(1516);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},1516:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1517:function(e,t,n){var r=n(1518);e.exports=function(e,t){return r(e,t)}},1518:function(e,t,n){var r=n(1519),o=n(272);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},1519:function(e,t,n){var r=n(1520),o=n(701),i=n(1527),a=n(1530),s=n(1538),u=n(99),l=n(697),c=n(698),p=1,h="[object Arguments]",f="[object Array]",d="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,y){var b=u(e),E=u(t),C=b?f:s(e),w=E?f:s(t),O=(C=C==h?d:C)==d,S=(w=w==h?d:w)==d,_=C==w;if(_&&l(e)){if(!l(t))return!1;b=!0,O=!1}if(_&&!O)return y||(y=new r),b||c(e)?o(e,t,n,g,v,y):i(e,t,C,n,g,v,y);if(!(n&p)){var k=O&&m.call(e,"__wrapped__"),T=S&&m.call(t,"__wrapped__");if(k||T){var j=k?e.value():e,x=T?t.value():t;return y||(y=new r),v(j,x,n,g,y)}}return!!_&&(y||(y=new r),a(e,t,n,g,v,y))}},1520:function(e,t,n){var r=n(408),o=n(1521),i=n(1522),a=n(1523),s=n(1524),u=n(1525);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,e.exports=l},1521:function(e,t,n){var r=n(408);e.exports=function(){this.__data__=new r,this.size=0}},1522:function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},1523:function(e,t){e.exports=function(e){return this.__data__.get(e)}},1524:function(e,t){e.exports=function(e){return this.__data__.has(e)}},1525:function(e,t,n){var r=n(408),o=n(489),i=n(488),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}},1526:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},1527:function(e,t,n){var r=n(360),o=n(1528),i=n(410),a=n(701),s=n(1529),u=n(495),l=1,c=2,p="[object Boolean]",h="[object Date]",f="[object Error]",d="[object Map]",m="[object Number]",g="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",E="[object ArrayBuffer]",C="[object DataView]",w=r?r.prototype:void 0,O=w?w.valueOf:void 0;e.exports=function(e,t,n,r,w,S,_){switch(n){case C:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!S(new o(e),new o(t)));case p:case h:case m:return i(+e,+t);case f:return e.name==t.name&&e.message==t.message;case g:case y:return e==t+"";case d:var k=s;case v:var T=r&l;if(k||(k=u),e.size!=t.size&&!T)return!1;var j=_.get(e);if(j)return j==t;r|=c,_.set(e,t);var x=a(k(e),k(t),r,w,S,_);return _.delete(e),x;case b:if(O)return O.call(e)==O.call(t)}return!1}},1528:function(e,t,n){var r=n(262).Uint8Array;e.exports=r},1529:function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},1530:function(e,t,n){var r=n(1531),o=1,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,s,u){var l=n&o,c=r(e),p=c.length;if(p!=r(t).length&&!l)return!1;for(var h=p;h--;){var f=c[h];if(!(l?f in t:i.call(t,f)))return!1}var d=u.get(e);if(d&&u.get(t))return d==t;var m=!0;u.set(e,t),u.set(t,e);for(var g=l;++h<p;){var v=e[f=c[h]],y=t[f];if(a)var b=l?a(y,v,f,t,e,u):a(v,y,f,e,t,u);if(!(void 0===b?v===y||s(v,y,n,a,u):b)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var E=e.constructor,C=t.constructor;E!=C&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof C&&C instanceof C)&&(m=!1)}return u.delete(e),u.delete(t),m}},1531:function(e,t,n){var r=n(1532),o=n(1533),i=n(1535);e.exports=function(e){return r(e,i,o)}},1532:function(e,t,n){var r=n(686),o=n(99);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},1533:function(e,t,n){var r=n(685),o=n(1534),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return i.call(e,t)}))}:o;e.exports=s},1534:function(e,t){e.exports=function(){return[]}},1535:function(e,t,n){var r=n(696),o=n(1536),i=n(415);e.exports=function(e){return i(e)?r(e):o(e)}},1536:function(e,t,n){var r=n(699),o=n(1537),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},1537:function(e,t,n){var r=n(673)(Object.keys,Object);e.exports=r},1538:function(e,t,n){var r=n(1539),o=n(489),i=n(1540),a=n(688),s=n(702),u=n(326),l=n(679),c=l(r),p=l(o),h=l(i),f=l(a),d=l(s),m=u;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=m(new o)||i&&"[object Promise]"!=m(i.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case c:return"[object DataView]";case p:return"[object Map]";case h:return"[object Promise]";case f:return"[object Set]";case d:return"[object WeakMap]"}return t}),e.exports=m},1539:function(e,t,n){var r=n(295)(n(262),"DataView");e.exports=r},1540:function(e,t,n){var r=n(295)(n(262),"Promise");e.exports=r},1541:function(e,t,n){var r=n(1542),o=n(703),i=/[&<>"']/g,a=RegExp(i.source);e.exports=function(e){return(e=o(e))&&a.test(e)?e.replace(i,r):e}},1542:function(e,t,n){var r=n(1543)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=r},1543:function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},1544:function(e,t,n){var r=n(360),o=n(412),i=n(99),a=n(1545),s=1/0,u=r?r.prototype:void 0,l=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},1545:function(e,t,n){var r=n(326),o=n(272),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==i}},1546:function(e,t,n){"use strict";n.r(t);var r=function(e,t){return e.length===t.length&&e.every(function(e,n){return r=e,o=t[n],r===o;var r,o})};t.default=function(e,t){var n;void 0===t&&(t=r);var o,i=[],a=!1;return function(){for(var r=arguments.length,s=new Array(r),u=0;u<r;u++)s[u]=arguments[u];return a&&n===this&&t(s,i)?o:(o=e.apply(this,s),a=!0,n=this,i=s,o)}}},1547:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=f(o),a=n(46),s=f(n(419)),u=f(n(1548)),l=f(n(5)),c=n(1558),p=n(504),h=f(n(1560));function f(e){return e&&e.__esModule?e:{default:e}}var d="tag",m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.tag[e.labelField],n=e.connectDragSource,r=e.isDragging,o=e.connectDropTarget,a=e.readOnly,s=e.tag,u=e.classNames,c=s.className,f=void 0===c?"":c;return n(o(i.default.createElement("span",{className:(0,l.default)("tag-wrapper",u.tag,f),style:{opacity:r?0:1,cursor:(0,p.canDrag)(e)?"move":"auto"},onClick:e.onTagClicked,onKeyDown:e.onTagClicked,onTouchStart:e.onTagClicked},t,i.default.createElement(h.default,{tag:e.tag,className:u.remove,removeComponent:e.removeComponent,onClick:e.onDelete,readOnly:a}))))}}]),t}();m.propTypes={labelField:s.default.string,onDelete:s.default.func.isRequired,tag:s.default.shape({id:s.default.string.isRequired,className:s.default.string}),moveTag:s.default.func,removeComponent:s.default.func,onTagClicked:s.default.func,classNames:s.default.object,readOnly:s.default.bool,connectDragSource:s.default.func.isRequired,isDragging:s.default.bool.isRequired,connectDropTarget:s.default.func.isRequired},m.defaultProps={labelField:"text",readOnly:!1},t.default=(0,u.default)((0,a.DragSource)(d,c.tagSource,c.dragSource),(0,a.DropTarget)(d,c.tagTarget,c.dropCollect))(m)},1548:function(e,t,n){var r=n(1549)();e.exports=r},1549:function(e,t,n){var r=n(501),o=n(1550),i=n(705),a=n(706),s=n(99),u=n(1554),l="Expected a function",c=8,p=32,h=128,f=256;e.exports=function(e){return o(function(t){var n=t.length,o=n,d=r.prototype.thru;for(e&&t.reverse();o--;){var m=t[o];if("function"!=typeof m)throw new TypeError(l);if(d&&!g&&"wrapper"==a(m))var g=new r([],!0)}for(o=g?o:n;++o<n;){m=t[o];var v=a(m),y="wrapper"==v?i(m):void 0;g=y&&u(y[0])&&y[1]==(h|c|p|f)&&!y[4].length&&1==y[9]?g[a(y[0])].apply(g,y[3]):1==m.length&&u(m)?g[v]():g.thru(m)}return function(){var e=arguments,r=e[0];if(g&&1==e.length&&s(r))return g.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}},1550:function(e,t,n){var r=n(1551),o=n(681),i=n(682);e.exports=function(e){return i(o(e,void 0,r),e+"")}},1551:function(e,t,n){var r=n(493);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},1552:function(e,t,n){var r=n(702),o=r&&new r;e.exports=o},1553:function(e,t){e.exports={}},1554:function(e,t,n){var r=n(503),o=n(705),i=n(706),a=n(1555);e.exports=function(e){var t=i(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=o(n);return!!s&&e===s[0]}},1555:function(e,t,n){var r=n(503),o=n(501),i=n(502),a=n(99),s=n(272),u=n(1556),l=Object.prototype.hasOwnProperty;function c(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof o)return e;if(l.call(e,"__wrapped__"))return u(e)}return new o(e)}c.prototype=i.prototype,c.prototype.constructor=c,e.exports=c},1556:function(e,t,n){var r=n(503),o=n(501),i=n(1557);e.exports=function(e){if(e instanceof r)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},1557:function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},1558:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dropCollect=t.dragSource=t.tagTarget=t.tagSource=void 0;var r=n(16),o=n(504),i={beginDrag:function(e){return{id:e.tag.index,index:e.index}},canDrag:function(e){return(0,o.canDrag)(e)}},a={hover:function(e,t,n){var o=t.getItem().index,i=e.index;if(o!==i){var a=(0,r.findDOMNode)(n).getBoundingClientRect(),s=(a.right-a.left)/2,u=t.getClientOffset().x-a.left;o<i&&u<s||o>i&&u>s||(e.moveTag(o,i),t.getItem().index=i)}},canDrop:function(e){return(0,o.canDrop)(e)}};t.tagSource=i,t.tagTarget=a,t.dragSource=function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}},t.dropCollect=function(e){return{connectDropTarget:e.dropTarget()}}},1559:function(e,t,n){var r=n(703),o=/[\\^$.*+?()[\]{}|]/g,i=RegExp(o.source);e.exports=function(e){return(e=r(e))&&i.test(e)?e.replace(o,"\\$&"):e}},1560:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(419));function i(e){return e&&e.__esModule?e:{default:e}}var a=String.fromCharCode(215),s=function(e){var t=e.readOnly,n=e.removeComponent,o=e.onClick,i=e.className;if(t)return r.default.createElement("span",null);if(n){var s=n;return r.default.createElement(s,e)}return r.default.createElement("a",{onClick:o,className:i,onKeyDown:o},a)};s.propTypes={className:o.default.string,onClick:o.default.func.isRequired,readOnly:o.default.bool,removeComponent:o.default.func},t.default=s},1561:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.KEYS={ENTER:13,TAB:9,BACKSPACE:8,UP_ARROW:38,DOWN_ARROW:40,ESCAPE:27},t.DEFAULT_PLACEHOLDER="Add new tag",t.DEFAULT_LABEL_FIELD="text",t.DEFAULT_CLASSNAMES={tags:"ReactTags__tags",tagInput:"ReactTags__tagInput",tagInputField:"ReactTags__tagInputField",selected:"ReactTags__selected",tag:"ReactTags__tag",remove:"ReactTags__remove",suggestions:"ReactTags__suggestions",activeSuggestion:"ReactTags__activeSuggestion"},t.INPUT_FIELD_POSITIONS={INLINE:"inline",TOP:"top",BOTTOM:"bottom"}},1562:function(e,t,n){"use strict";var r=n(45),o=n(10);t.__esModule=!0,t.default=void 0;var i=o(n(14)),a=o(n(20)),s=o(n(5)),u=r(n(0)),l=o(n(328)),c=n(51),p=u.default.forwardRef(function(e,t){var n=e.bsPrefix,r=e.className,o=e.children,p=e.controlId,h=e.as,f=(0,a.default)(e,["bsPrefix","className","children","controlId","as"]);n=(0,c.useBootstrapPrefix)(n,"form-group");var d=(0,u.useMemo)(function(){return{controlId:p}},[p]);return u.default.createElement(l.default.Provider,{value:d},u.default.createElement(h,(0,i.default)({},f,{ref:t,className:(0,s.default)(r,n)}),o))});p.displayName="FormGroup",p.defaultProps={as:"div"};var h=p;t.default=h,e.exports=t.default},1563:function(e,t,n){"use strict";var r=n(45),o=n(10);t.__esModule=!0,t.default=void 0;var i=o(n(14)),a=o(n(20)),s=o(n(5)),u=r(n(0)),l=(o(n(112)),o(n(707))),c=o(n(328)),p=n(51),h=u.default.forwardRef(function(e,t){var n,r,o=e.bsPrefix,l=e.type,h=e.size,f=e.id,d=e.className,m=e.isValid,g=e.isInvalid,v=e.plaintext,y=e.readOnly,b=e.as,E=(0,a.default)(e,["bsPrefix","type","size","id","className","isValid","isInvalid","plaintext","readOnly","as"]),C=(0,u.useContext)(c.default).controlId;if(o=(0,p.useBootstrapPrefix)(o,"form-control"),v)(r={})[o+"-plaintext"]=!0,n=r;else if("file"===l){var w;(w={})[o+"-file"]=!0,n=w}else{var O;(O={})[o]=!0,O[o+"-"+h]=h,n=O}return u.default.createElement(b,(0,i.default)({},E,{type:l,ref:t,readOnly:y,id:f||C,className:(0,s.default)(d,n,m&&"is-valid",g&&"is-invalid")}))});h.displayName="FormControl",h.defaultProps={as:"input"},h.Feedback=l.default;var f=h;t.default=f,e.exports=t.default},1564:function(e,t,n){"use strict";var r=n(45),o=n(10);t.__esModule=!0,t.default=void 0;var i=o(n(14)),a=o(n(20)),s=o(n(5)),u=r(n(0)),l=n(51),c=o(n(328)),p=o(n(707)),h=o(n(1565)),f=o(n(1566)),d=u.default.forwardRef(function(e,t){var n=e.id,r=e.bsPrefix,o=e.inline,d=e.disabled,m=e.isValid,g=e.isInvalid,v=e.feedback,y=e.className,b=e.style,E=e.title,C=e.type,w=e.label,O=e.children,S=e.custom,_=(0,a.default)(e,["id","bsPrefix","inline","disabled","isValid","isInvalid","feedback","className","style","title","type","label","children","custom"]);r=(0,l.useBootstrapPrefix)(r,"form-check");var k=(0,u.useContext)(c.default).controlId,T=(0,u.useMemo)(function(){return{controlId:n||k,custom:S}},[k,S,n]),j=null!=w&&!1!==w&&!O,x=u.default.createElement(h.default,(0,i.default)({},_,{type:C,ref:t,isValid:m,isInvalid:g,isStatic:!j,disabled:d}));return u.default.createElement(c.default.Provider,{value:T},u.default.createElement("div",{style:b,className:(0,s.default)(y,!S&&r,S&&"custom-control custom-"+C,o&&(S?"custom-control":r)+"-inline")},O||u.default.createElement(u.default.Fragment,null,x,j&&u.default.createElement(f.default,{title:E},w),(m||g)&&u.default.createElement(p.default,{type:m?"valid":"invalid"},v))))});d.displayName="FormCheck",d.defaultProps={type:"checkbox",inline:!1,disabled:!1,isValid:!1,isInvalid:!1,title:""},d.Input=h.default,d.Label=f.default;var m=d;t.default=m,e.exports=t.default},1565:function(e,t,n){"use strict";var r=n(45),o=n(10);t.__esModule=!0,t.default=void 0;var i=o(n(14)),a=o(n(20)),s=o(n(5)),u=r(n(0)),l=n(51),c=o(n(328)),p=u.default.forwardRef(function(e,t){var n=e.id,r=e.bsPrefix,o=e.className,p=e.isValid,h=e.isInvalid,f=e.isStatic,d=(0,a.default)(e,["id","bsPrefix","className","isValid","isInvalid","isStatic"]);r=(0,l.useBootstrapPrefix)(r,"form-check-input");var m=(0,u.useContext)(c.default),g=m.controlId,v=m.custom;return u.default.createElement("input",(0,i.default)({},d,{ref:t,id:n||g,className:(0,s.default)(o,!v&&r,v&&"custom-control-input",p&&"is-valid",h&&"is-invalid",f&&"position-static")}))});p.displayName="FormCheckInput",p.defaultProps={type:"checkbox"};var h=p;t.default=h,e.exports=t.default},1566:function(e,t,n){"use strict";var r=n(45),o=n(10);t.__esModule=!0,t.default=void 0;var i=o(n(14)),a=o(n(20)),s=o(n(5)),u=r(n(0)),l=n(51),c=o(n(328)),p=u.default.forwardRef(function(e,t){var n=e.bsPrefix,r=e.className,o=e.htmlFor,p=(0,a.default)(e,["bsPrefix","className","htmlFor"]);n=(0,l.useBootstrapPrefix)(n,"form-check-label");var h=(0,u.useContext)(c.default),f=h.controlId,d=h.custom;return u.default.createElement("label",(0,i.default)({},p,{ref:t,htmlFor:o||f,className:(0,s.default)(r,!d&&n,d&&"custom-control-label")}))});p.displayName="FormCheckLabel",p.defaultProps={type:"checkbox"};var h=p;t.default=h,e.exports=t.default},1567:function(e,t,n){"use strict";var r=n(45),o=n(10);t.__esModule=!0,t.default=void 0;var i=o(n(14)),a=o(n(20)),s=o(n(5)),u=r(n(0)),l=(o(n(112)),o(n(48))),c=o(n(328)),p=n(51),h=u.default.forwardRef(function(e,t){var n=e.bsPrefix,r=e.column,o=e.srOnly,h=e.className,f=e.htmlFor,d=(0,a.default)(e,["bsPrefix","column","srOnly","className","htmlFor"]),m=(0,u.useContext)(c.default).controlId;n=(0,p.useBootstrapPrefix)(n,"form-label");var g=(0,s.default)(h,n,o&&"sr-only",r&&"col-form-label");return r?u.default.createElement(l.default,(0,i.default)({},d,{className:g,as:"label"})):u.default.createElement("label",(0,i.default)({},d,{htmlFor:f||m,ref:t,className:g}))});h.displayName="FormLabel",h.defaultProps={column:!1,srOnly:!1};var f=h;t.default=f,e.exports=t.default},1568:function(e,t,n){"use strict";var r=n(10);t.__esModule=!0,t.default=void 0;var o=r(n(14)),i=r(n(20)),a=r(n(5)),s=r(n(0)),u=n(51),l=s.default.forwardRef(function(e,t){var n=e.bsPrefix,r=e.className,l=e.as,c=(0,i.default)(e,["bsPrefix","className","as"]);return n=(0,u.useBootstrapPrefix)(n,"form-text"),s.default.createElement(l,(0,o.default)({},c,{ref:t,className:(0,a.default)(r,n)}))});l.displayName="FormText",l.defaultProps={as:"small"};var c=l;t.default=c,e.exports=t.default},1569:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},1570:function(e,t,n){(function(){var t,r,o,i,a;t=n(0),r=n(100),o=r.div,i=r.span,a=n(273).map,e.exports=function(e){(function(e,t){function n(){}n.prototype=(e.superclass=t).prototype,(e.prototype=new n).constructor=e,"function"==typeof t.extended&&t.extended(e);return e})(((function(e,t){var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}(t,e)).displayName="HighlightedText",t),e).prototype;function t(){t.superclass.apply(this,arguments)}return t.defaultProps={partitions:[],text:"",style:{},highlightStyle:{}},t.prototype.render=function(){var e=this;return o({className:"highlighted-text",style:this.props.style},a(function(t){var n,r,o;return n=t[0],r=t[1],o=t[2],i({key:e.props.text+""+n+r+o,className:o?"highlight":"",style:o?e.props.highlightStyle:{}},e.props.text.substring(n,r))})(this.props.partitions))},t}(t.Component)}).call(this)},1571:function(e,t){var n,r,o,i,a,s,u=[].slice,l={}.toString;function c(e,t){var n,r=function(o){return e.length>1?function(){var i=o?o.concat():[];return n=t&&n||this,i.push.apply(i,arguments)<e.length&&arguments.length?r.call(n,i):e.apply(n,i)}:e};return r()}n=c(function(e,t){return e.apply(null,t)}),r=function(e){return c(e)},o=c(function(e,t,n){return e(n,t)}),i=function(e){return function(t){return function(){return e(t(t)).apply(null,arguments)}}(function(t){return function(){return e(t(t)).apply(null,arguments)}})},a=c(function(e,t,n,r){return e(t(n),t(r))}),s=function(e){var t;return t={},function(){var n,r,o;return n=u.call(arguments),r=function(){var e,t,r,i=[];for(e=0,r=(t=n).length;e<r;++e)o=t[e],i.push(o+l.call(o).slice(8,-1));return i}().join(""),t[r]=r in t?t[r]:e.apply(null,n)}},e.exports={curry:r,flip:o,fix:i,apply:n,over:a,memoize:s}},1572:function(e,t){var n,r,o,i,a,s,u,l,c,p,h,f,d,m,g,v,y,b,E,C,w,O,S,_,k,T,j,x,D,P,N,A,L,R,I,M,U,q,B,F,H,W,Q,z,V,K,$,X,G,Y,J,Z,ee,te,ne,re,oe,ie,ae,se,ue,le,ce,pe,he,fe,de,me,ge,ve={}.toString,ye=[].slice;function be(e,t){var n,r=function(o){return e.length>1?function(){var i=o?o.concat():[];return n=t&&n||this,i.push.apply(i,arguments)<e.length&&arguments.length?r.call(n,i):e.apply(n,i)}:e};return r()}function Ee(e,t){for(var n=-1,r=t.length>>>0;++n<r;)if(e===t[n])return!0;return!1}function Ce(e){return!e}n=be(function(e,t){var n,r;for(n=0,r=t.length;n<r;++n)e(t[n]);return t}),r=be(function(e,t){var n,r,o,i=[];for(n=0,r=t.length;n<r;++n)o=t[n],i.push(e(o));return i}),o=function(e){var t,n,r,o=[];for(t=0,n=e.length;t<n;++t)(r=e[t])&&o.push(r);return o},i=be(function(e,t){var n,r,o,i=[];for(n=0,r=t.length;n<r;++n)e(o=t[n])&&i.push(o);return i}),a=be(function(e,t){var n,r,o,i=[];for(n=0,r=t.length;n<r;++n)e(o=t[n])||i.push(o);return i}),s=be(function(e,t){var n,r,o,i,a;for(n=[],r=[],o=0,i=t.length;o<i;++o)(e(a=t[o])?n:r).push(a);return[n,r]}),u=be(function(e,t){var n,r,o;for(n=0,r=t.length;n<r;++n)if(e(o=t[n]))return o}),l=c=function(e){return e[0]},p=function(e){if(e.length)return e.slice(1)},h=function(e){return e[e.length-1]},f=function(e){if(e.length)return e.slice(0,-1)},d=function(e){return!e.length},m=function(e){return e.concat().reverse()},g=function(e){var t,n,r,o;for(t=[],n=0,r=e.length;n<r;++n)Ee(o=e[n],t)||t.push(o);return t},v=be(function(e,t){var n,r,o,i,a,s=[];for(n=[],r=0,o=t.length;r<o;++r)Ee(a=e(i=t[r]),n)||(n.push(a),s.push(i));return s}),y=b=be(function(e,t,n){var r,o;for(r=0,o=n.length;r<o;++r)t=e(t,n[r]);return t}),E=C=be(function(e,t){return y(e,t[0],t.slice(1))}),w=be(function(e,t,n){var r;for(r=n.length-1;r>=0;--r)t=e(n[r],t);return t}),O=be(function(e,t){return w(e,t[t.length-1],t.slice(0,-1))}),S=be(function(e,t){var n,r,o;for(n=[],r=t;null!=(o=e(r));)n.push(o[0]),r=o[1];return n}),_=function(e){return[].concat.apply([],e)},k=be(function(e,t){var n;return[].concat.apply([],function(){var r,o,i,a=[];for(r=0,i=(o=t).length;r<i;++r)n=o[r],a.push(e(n));return a}())}),T=function(e){var t;return[].concat.apply([],function(){var n,r,o,i=[];for(n=0,o=(r=e).length;n<o;++n)t=r[n],"Array"===ve.call(t).slice(8,-1)?i.push(T(t)):i.push(t);return i}())},j=function(e){var t,n,r,o,i,a,s;t=ye.call(arguments,1),n=[];e:for(r=0,o=e.length;r<o;++r){for(i=e[r],a=0,s=t.length;a<s;++a)if(Ee(i,t[a]))continue e;n.push(i)}return n},x=function(e){var t,n,r,o,i,a,s;t=ye.call(arguments,1),n=[];e:for(r=0,o=e.length;r<o;++r){for(i=e[r],a=0,s=t.length;a<s;++a)if(!Ee(i,t[a]))continue e;n.push(i)}return n},D=function(){var e,t,n,r,o,i,a,s;for(t=[],n=0,r=(e=ye.call(arguments)).length;n<r;++n)for(i=0,a=(o=e[n]).length;i<a;++i)Ee(s=o[i],t)||t.push(s);return t},P=be(function(e,t){var n,r,o,i;for(n={},r=0,o=t.length;r<o;++r)(i=e(t[r]))in n?n[i]+=1:n[i]=1;return n}),N=be(function(e,t){var n,r,o,i,a;for(n={},r=0,o=t.length;r<o;++r)(a=e(i=t[r]))in n?n[a].push(i):n[a]=[i];return n}),A=function(e){var t,n;for(t=0,n=e.length;t<n;++t)if(!e[t])return!1;return!0},L=function(e){var t,n;for(t=0,n=e.length;t<n;++t)if(e[t])return!0;return!1},R=be(function(e,t){var n,r;for(n=0,r=t.length;n<r;++n)if(e(t[n]))return!0;return!1}),I=be(function(e,t){var n,r;for(n=0,r=t.length;n<r;++n)if(!e(t[n]))return!1;return!0}),M=function(e){return e.concat().sort(function(e,t){return e>t?1:e<t?-1:0})},U=be(function(e,t){return t.concat().sort(e)}),q=be(function(e,t){return t.concat().sort(function(t,n){return e(t)>e(n)?1:e(t)<e(n)?-1:0})}),B=function(e){var t,n,r;for(t=0,n=0,r=e.length;n<r;++n)t+=e[n];return t},F=function(e){var t,n,r;for(t=1,n=0,r=e.length;n<r;++n)t*=e[n];return t},H=W=function(e){var t,n,r;for(t=0,n=0,r=e.length;n<r;++n)t+=e[n];return t/e.length},Q=function(e){var t,n,r,o,i;for(t=e[0],n=0,o=(r=e.slice(1)).length;n<o;++n)(i=r[n])>t&&(t=i);return t},z=function(e){var t,n,r,o,i;for(t=e[0],n=0,o=(r=e.slice(1)).length;n<o;++n)(i=r[n])<t&&(t=i);return t},V=be(function(e,t){var n,r,o,i,a;for(n=t[0],r=0,i=(o=t.slice(1)).length;r<i;++r)e(a=o[r])>e(n)&&(n=a);return n}),K=be(function(e,t){var n,r,o,i,a;for(n=t[0],r=0,i=(o=t.slice(1)).length;r<i;++r)e(a=o[r])<e(n)&&(n=a);return n}),$=X=be(function(e,t,n){var r,o;return r=t,[t].concat(function(){var t,i,a,s=[];for(t=0,a=(i=n).length;t<a;++t)o=i[t],s.push(r=e(r,o));return s}())}),G=Y=be(function(e,t){if(t.length)return $(e,t[0],t.slice(1))}),J=be(function(e,t,n){return n=n.concat().reverse(),$(e,t,n).reverse()}),Z=be(function(e,t){if(t.length)return t=t.concat().reverse(),$(e,t[0],t.slice(1)).reverse()}),ee=be(function(e,t,n){return n.slice(e,t)}),te=be(function(e,t){return e<=0?t.slice(0,0):t.slice(0,e)}),ne=be(function(e,t){return e<=0?t:t.slice(e)}),re=be(function(e,t){return[te(e,t),ne(e,t)]}),oe=be(function(e,t){var n,r;if(!(n=t.length))return t;for(r=0;r<n&&e(t[r]);)r+=1;return t.slice(0,r)}),ie=be(function(e,t){var n,r;if(!(n=t.length))return t;for(r=0;r<n&&e(t[r]);)r+=1;return t.slice(r)}),ae=be(function(e,t){return[oe(e,t),ie(e,t)]}),se=be(function(e,t){return ae(function(){var e=arguments;return function(){var t,n;for(n=e[0].apply(this,arguments),t=1;t<e.length;++t)n=e[t](n);return n}}(e,Ce),t)}),ue=be(function(e,t){var n,r,o,i,a,s;for(n=[],r=t.length,o=0,i=e.length;o<i&&(a=o,s=e[o],a!==r);++o)n.push([s,t[a]]);return n}),le=be(function(e,t,n){var r,o,i,a,s,u;for(r=[],o=n.length,i=0,a=t.length;i<a&&(s=i,u=t[i],s!==o);++i)r.push(e(u,n[s]));return r}),ce=function(){var e,t,n,r,o,i,a,s,u,l=[];for(t=void 0,n=0,r=(e=ye.call(arguments)).length;n<r;++n)t<=(i=(o=e[n]).length)||(t=i);for(n=0;n<t;++n){for(a=n,s=[],u=0,r=e.length;u<r;++u)o=e[u],s.push(o[a]);l.push(s)}return l},pe=function(e){var t,n,r,o,i,a,s,u=[];for(n=void 0,r=0,o=(t=ye.call(arguments,1)).length;r<o;++r)n<=(a=(i=t[r]).length)||(n=a);for(r=0;r<n;++r)s=r,u.push(e.apply(null,l()));return u;function l(){var e,n,r,o=[];for(e=0,r=(n=t).length;e<r;++e)i=n[e],o.push(i[s]);return o}},he=be(function(e,t){return e<0?t[t.length+e]:t[e]}),fe=be(function(e,t){var n,r,o;for(n=0,r=t.length;n<r;++n)if(o=n,t[n]===e)return o}),de=be(function(e,t){var n,r,o,i=[];for(n=0,r=t.length;n<r;++n)o=n,t[n]===e&&i.push(o);return i}),me=be(function(e,t){var n,r,o;for(n=0,r=t.length;n<r;++n)if(o=n,e(t[n]))return o}),ge=be(function(e,t){var n,r,o,i=[];for(n=0,r=t.length;n<r;++n)o=n,e(t[n])&&i.push(o);return i}),e.exports={each:n,map:r,filter:i,compact:o,reject:a,partition:s,find:u,head:l,first:c,tail:p,last:h,initial:f,empty:d,reverse:m,difference:j,intersection:x,union:D,countBy:P,groupBy:N,fold:y,fold1:E,foldl:b,foldl1:C,foldr:w,foldr1:O,unfoldr:S,andList:A,orList:L,any:R,all:I,unique:g,uniqueBy:v,sort:M,sortWith:U,sortBy:q,sum:B,product:F,mean:H,average:W,concat:_,concatMap:k,flatten:T,maximum:Q,minimum:z,maximumBy:V,minimumBy:K,scan:$,scan1:G,scanl:X,scanl1:Y,scanr:J,scanr1:Z,slice:ee,take:te,drop:ne,splitAt:re,takeWhile:oe,dropWhile:ie,span:ae,breakList:se,zip:ue,zipWith:le,zipAll:ce,zipAllWith:pe,at:he,elemIndex:fe,elemIndices:de,findIndex:me,findIndices:ge}},1573:function(e,t){var n,r,o,i,a,s,u,l,c,p,h,f,d,m;function g(e,t){var n,r=function(o){return e.length>1?function(){var i=o?o.concat():[];return n=t&&n||this,i.push.apply(i,arguments)<e.length&&arguments.length?r.call(n,i):e.apply(n,i)}:e};return r()}n=function(e){var t,n,r=[];for(t in e)n=e[t],r.push(n);return r},r=function(e){var t,n=[];for(t in e)n.push(t);return n},o=function(e){var t,n,r,o={};for(t=0,n=e.length;t<n;++t)o[(r=e[t])[0]]=r[1];return o},i=function(e){var t,n,r=[];for(t in e)n=e[t],r.push([t,n]);return r},a=g(function(e,t){var n,r,o,i={};for(n=0,r=e.length;n<r;++n)o=n,i[e[n]]=t[o];return i}),s=function(e){var t,n,r,o;for(r in t=[],n=[],e)o=e[r],t.push(r),n.push(o);return[t,n]},u=function(e){var t;for(t in e)return!1;return!0},l=g(function(e,t){var n;for(n in t)e(t[n]);return t}),c=g(function(e,t){var n,r,o={};for(n in t)r=t[n],o[n]=e(r);return o}),p=function(e){var t,n,r={};for(t in e)(n=e[t])&&(r[t]=n);return r},h=g(function(e,t){var n,r,o={};for(n in t)e(r=t[n])&&(o[n]=r);return o}),f=g(function(e,t){var n,r,o={};for(n in t)e(r=t[n])||(o[n]=r);return o}),d=g(function(e,t){var n,r,o,i;for(o in n={},r={},t)(e(i=t[o])?n:r)[o]=i;return[n,r]}),m=g(function(e,t){var n,r;for(n in t)if(e(r=t[n]))return r}),e.exports={values:n,keys:r,pairsToObj:o,objToPairs:i,listsToObj:a,objToLists:s,empty:u,each:l,map:c,filter:h,compact:p,reject:f,partition:d,find:m}},1574:function(e,t){var n,r,o,i,a,s,u,l,c,p,h,f,d;function m(e,t){var n,r=function(o){return e.length>1?function(){var i=o?o.concat():[];return n=t&&n||this,i.push.apply(i,arguments)<e.length&&arguments.length?r.call(n,i):e.apply(n,i)}:e};return r()}n=m(function(e,t){return t.split(e)}),r=m(function(e,t){return t.join(e)}),o=function(e){return e.length?e.split("\n"):[]},i=function(e){return e.join("\n")},a=function(e){return e.length?e.split(/[ ]+/):[]},s=function(e){return e.join(" ")},u=function(e){return e.split("")},l=function(e){return e.join("")},c=function(e){return e.split("").reverse().join("")},p=m(function(e,t){var n,r;for(n="",r=0;r<e;++r)n+=t;return n}),h=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},f=function(e){return e.replace(/[-_]+(.)?/g,function(e,t){return(null!=t?t:"").toUpperCase()})},d=function(e){return e.replace(/([^-A-Z])([A-Z]+)/g,function(e,t,n){return t+"-"+(n.length>1?n:n.toLowerCase())}).replace(/^([A-Z]+)/,function(e,t){return t.length>1?t+"-":t.toLowerCase()})},e.exports={split:n,join:r,lines:o,unlines:i,words:a,unwords:s,chars:u,unchars:l,reverse:c,repeat:p,capitalize:h,camelize:f,dasherize:d}},1575:function(e,t){var n,r,o,i,a,s,u,l,c,p,h,f,d,m,g,v,y,b,E,C,w,O,S,_,k,T,j,x,D,P,N,A;function L(e,t){var n,r=function(o){return e.length>1?function(){var i=o?o.concat():[];return n=t&&n||this,i.push.apply(i,arguments)<e.length&&arguments.length?r.call(n,i):e.apply(n,i)}:e};return r()}n=L(function(e,t){return e>t?e:t}),r=L(function(e,t){return e<t?e:t}),o=function(e){return-e},i=Math.abs,a=function(e){return e<0?-1:e>0?1:0},s=L(function(e,t){return~~(e/t)}),u=L(function(e,t){return e%t}),l=L(function(e,t){return Math.floor(e/t)}),c=L(function(e,t){var n;return(e%(n=t)+n)%n}),p=function(e){return 1/e},f=2*(h=Math.PI),d=Math.exp,m=Math.sqrt,g=Math.log,v=L(function(e,t){return Math.pow(e,t)}),y=Math.sin,b=Math.tan,E=Math.cos,C=Math.asin,w=Math.acos,O=Math.atan,S=L(function(e,t){return Math.atan2(e,t)}),_=function(e){return~~e},k=Math.round,T=Math.ceil,j=Math.floor,x=function(e){return e!=e},D=function(e){return e%2==0},P=function(e){return e%2!=0},N=L(function(e,t){var n;for(e=Math.abs(e),t=Math.abs(t);0!==t;)n=e%t,e=t,t=n;return e}),A=L(function(e,t){return Math.abs(Math.floor(e/N(e,t)*t))}),e.exports={max:n,min:r,negate:o,abs:i,signum:a,quot:s,rem:u,div:l,mod:c,recip:p,pi:h,tau:f,exp:d,sqrt:m,ln:g,pow:v,sin:y,tan:b,cos:E,acos:w,asin:C,atan:O,atan2:S,truncate:_,round:k,ceiling:T,floor:j,isItNaN:x,even:D,odd:P,gcd:N,lcm:A}},1576:function(e,t,n){(function(){var t,r,o,i,a,s,u,l,c,p,h,f,d,m,g,v,y={}.toString;function b(e,t){var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}t=n(273),r=t.all,t.any,o=t.drop,i=t.camelize,t.difference,a=t.filter,t.find,s=t.findIndex,u=t.id,l=t.last,c=t.map,t.reject,p=n(329).isEqualToObject,f=(h=n(0)).createFactory,t=n(100),d=t.div,t.img,m=t.span,g=f(n(505)),v=n(362).cancelEvent,e.exports=function(e){var t,n,h,f;(function(e,t){function n(){}n.prototype=(e.superclass=t).prototype,(e.prototype=new n).constructor=e,"function"==typeof t.extended&&t.extended(e);return e})((b(E,e).displayName="SimpleSelect",E),e).prototype;function E(e){var t;E.superclass.call(this,e),this.state={highlightedUid:void 0,open:!1,scrollLock:!1,search:"",value:null!=(t=this.props)?t.defaultValue:void 0}}return E.defaultProps={delimiters:[],filterOptions:(t=function(e,t){return a(function(e){return e.label.toLowerCase().trim().indexOf(t.toLowerCase().trim())>-1})(e)},f=function(e){return t.length>1?function(){var r=e?e.concat():[];return h=n&&h||this,r.push.apply(r,arguments)<t.length&&arguments.length?f.call(h,r):t.apply(h,r)}:t},f()),firstOptionIndexToHighlight:u,onBlur:function(e){},onBlurResetsInput:!0,onFocus:function(e){},onKeyboardSelectionFailed:function(e){},onPaste:function(e){},placeholder:"",renderValue:function(e){var t;return t=e.label,d({className:"simple-value"},m(null,t))},serialize:function(e){return null!=e?e.value:void 0},style:{},tether:!1,uid:u},E.prototype.render=function(){var e,t,n,r,o,i,a,s,u,c,h,f,d,m,y,E,C,w,O,S,_,k,T,j,x,D,P,N,A,L,R,I,M,U,q,B=this;return(e=this.getComputedState()).filteredOptions,t=e.highlightedUid,n=e.onHighlightedUidChange,r=e.onOpenChange,o=e.onSearchChange,i=e.onValueChange,a=e.open,s=e.options,u=e.search,c=e.value,h=e.values,null!=(e=this.props)&&(f=e.autofocus,d=e.autosize,m=e.cancelKeyboardEventOnSelection,y=e.delimiters,E=e.disabled,C=e.dropdownDirection,w=e.groupId,O=e.groups,S=e.groupsAsColumns,_=e.hideResetButton,k=e.name,T=e.inputProps,j=e.onBlurResetsInput,x=e.renderToggleButton,D=e.renderGroupTitle,P=e.renderResetButton,N=e.serialize,A=e.tether,L=e.tetherProps,R=e.theme,I=e.transitionEnter,M=e.transitionLeave,U=e.transitionEnterTimeout,q=e.transitionLeaveTimeout,e.uid),g(b(b({autofocus:f,autosize:d,cancelKeyboardEventOnSelection:m,className:"simple-select"+(this.props.className?" "+this.props.className:""),delimiters:y,disabled:E,dropdownDirection:C,groupId:w,groups:O,groupsAsColumns:S,hideResetButton:_,highlightedUid:t,onHighlightedUidChange:n,inputProps:T,name:k,onBlurResetsInput:j,renderGroupTitle:D,renderResetButton:P,renderToggleButton:x,scrollLock:this.state.scrollLock,onScrollLockChange:function(e){return B.setState({scrollLock:e})},tether:A,tetherProps:L,theme:R,transitionEnter:I,transitionEnterTimeout:U,transitionLeave:M,transitionLeaveTimeout:q,ref:"select",anchor:l(h),onAnchorChange:function(e,t){return t()},open:a,onOpenChange:r,firstOptionIndexToHighlight:function(){return B.firstOptionIndexToHighlight(s,c)},options:s,renderOption:this.props.renderOption,renderNoResultsFound:this.props.renderNoResultsFound,search:u,onSearchChange:function(e,t){return o(e,t)},values:h,onValuesChange:function(e,t){var n,o;return 0===e.length?i(void 0,function(){return t()}):(n=l(e),o=!p(n,c),function(e){return o?i(n,e):e()}(function(){return t(),r(!1,function(){})}))},renderValue:function(e){return a&&(B.props.editable||u.length>0)?null:B.props.renderValue(e)},onKeyboardSelectionFailed:function(e){return o("",function(){return r(!1,function(){return B.props.onKeyboardSelectionFailed(e)})})},uid:function(e){return{uid:B.props.uid(e),open:a,search:u}},serialize:function(e){return N(e[0])},onBlur:function(e){var t,n;t=B.props.onBlurResetsInput,n=function(){return B.props.onBlur({value:c,open:a,originalEvent:e})},u.length>0&&t?o("",n):n()},onFocus:function(e){B.props.onFocus({value:c,open:a,originalEvent:e})},onPaste:function(){var e;switch(!1){case void 0!==(null!=(e=this.props)?e.valueFromPaste:void 0):return this.props.onPaste;default:return function(e){var t,n;if(t=e.clipboardData,n=B.props.valueFromPaste(s,c,t.getData("text")))return i(n,function(){return o("",function(){return r(!1)})}),v(e)}}}.call(this),placeholder:this.props.placeholder,style:this.props.style},function(){switch(!1){case"function"!=typeof this.props.restoreOnBackspace:return{restoreOnBackspace:this.props.restoreOnBackspace};default:return{}}}.call(this)),function(){switch(!1){case"function"!=typeof this.props.renderNoResultsFound:return{renderNoResultsFound:function(){return B.props.renderNoResultsFound(c,u)}};default:return{}}}.call(this)))},E.prototype.getComputedState=function(){var e,t,n,r,o,a,s,u,l,p,h,f,d,m,g,v=this;return e=this.props.hasOwnProperty("highlightedUid")?this.props.highlightedUid:this.state.highlightedUid,t=this.isOpen(),n=this.props.hasOwnProperty("search")?this.props.search:this.state.search,o=(r=this.value())||0===r?[r]:[],s=(a=c(function(e){return function(){switch(!1){case!(this.props.hasOwnProperty(e)&&this.props.hasOwnProperty(i("on-"+e+"-change"))):return function(t,n){return v.props[i("on-"+e+"-change")](t,function(){}),v.setState({},n)};case!(this.props.hasOwnProperty(e)&&!this.props.hasOwnProperty(i("on-"+e+"-change"))):return function(e,t){return t()};case!(!this.props.hasOwnProperty(e)&&this.props.hasOwnProperty(i("on-"+e+"-change"))):return function(t,n){var r;return v.setState(((r={})[e+""]=t,r),function(){return n(),v.props[i("on-"+e+"-change")](t,function(){})})};case!(!this.props.hasOwnProperty(e)&&!this.props.hasOwnProperty(i("on-"+e+"-change"))):return function(t,n){var r;return v.setState(((r={})[e+""]=t,r),n)}}}.call(v)})(["highlightedUid","open","search","value"]))[0],u=a[1],l=a[2],p=a[3],h=function(){var e;switch(!1){case!(null!=(e=this.props)&&e.children):return c(function(e){var t,n,r;return null!=(t=null!=e?e.props:void 0)&&(n=t.value,r=t.children),{label:r,value:n}})("Array"===y.call(this.props.children).slice(8,-1)?this.props.children:[this.props.children]);default:return[]}}.call(this),f=this.props.hasOwnProperty("options")?null!=(a=this.props.options)?a:[]:h,d=this.props.filterOptions(f,n),g=((m=function(){switch(!1){case"function"!=typeof this.props.createFromSearch:return this.props.createFromSearch(d,n);default:return null}}.call(this))?[(a=b({},m),a.newOption=!0,a)]:[]).concat(d),{highlightedUid:e,open:t,search:n,value:r,values:o,onHighlightedUidChange:s,onOpenChange:function(e,t){u(e,function(){if(t(),v.props.editable&&v.isOpen()&&r)return l(v.props.editable(r)+""+(1===n.length?n:""),function(){return v.highlightFirstSelectableOption(function(){})})})},onSearchChange:l,onValueChange:p,filteredOptions:d,options:g}},E.prototype.firstOptionIndexToHighlight=function(e,t){var n,i,a;return n=t?s(function(e){return p(e,t)},e):void 0,i=function(){var t;switch(!1){case void 0===n:return n;case 1!==e.length:case void 0!==(null!=(t=e[0])?t.newOption:void 0):return 0;default:return r(function(e){return"boolean"==typeof e.selectable&&!e.selectable})(o(1)(e))?0:1}}(),a=this.props.hasOwnProperty("search")?this.props.search:this.state.search,this.props.firstOptionIndexToHighlight(i,e,t,a)},E.prototype.focus=function(){this.refs.select.focus()},E.prototype.blur=function(){this.refs.select.blur()},E.prototype.highlightFirstSelectableOption=function(e){var t,n,r;null==e&&(e=function(){}),this.state.open?(n=(t=this.getComputedState()).options,r=t.value,this.refs.select.highlightAndScrollToSelectableOption(this.firstOptionIndexToHighlight(n,r),1,e)):e()},E.prototype.value=function(){return this.props.hasOwnProperty("value")?this.props.value:this.state.value},E.prototype.isOpen=function(){return this.props.hasOwnProperty("open")?this.props.open:this.state.open},E}(h.Component)}).call(this)},1577:function(e,t,n){(function(){var t,r,o,i;r=(t=n(0)).createFactory,o=n(100).path,i=r(n(708)),e.exports=function(e){(function(e,t){function n(){}n.prototype=(e.superclass=t).prototype,(e.prototype=new n).constructor=e,"function"==typeof t.extended&&t.extended(e);return e})(((function(e,t){var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}(t,e)).displayName="ToggleButton",t),e).prototype;function t(){t.superclass.apply(this,arguments)}return t.defaultProps={open:!1,flipped:!1},t.prototype.render=function(){return i({className:"react-selectize-toggle-button",style:{width:10,height:8}},o({d:function(){switch(!1){case!(this.props.open&&!this.props.flipped||!this.props.open&&this.props.flipped):return"M0 6 L5 1 L10 6 Z";default:return"M0 1 L5 6 L10 1 Z"}}.call(this)}))},t}(t.PureComponent)}).call(this)},1578:function(e,t,n){(function(){var t,r,o,i,a,s,u,l,c,p,h,f,d,m,g,v;function y(e,t){var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}t=n(273),r=t.filter,o=t.id,i=t.map,a=n(329).isEqualToObject,u=(s=n(0)).createFactory,t=n(100),l=t.div,t.input,c=t.span,p=n(16).findDOMNode,h=u(n(1579)),f=u(n(1586)),d=u(n(1588)),m=u(n(710)),t=n(362),g=t.cancelEvent,v=t.classNameFromObject,e.exports=function(e){(function(e,t){function n(){}n.prototype=(e.superclass=t).prototype,(e.prototype=new n).constructor=e,"function"==typeof t.extended&&t.extended(e);return e})((y(t,e).displayName="DropdownMenu",t),e).prototype;function t(){t.superclass.apply(this,arguments)}return t.defaultProps={className:"",dropdownDirection:1,groupId:function(e){return e.groupId},groupsAsColumns:!1,highlightedUid:void 0,onHighlightedUidChange:function(e,t){},onOptionClick:function(e){},onScrollLockChange:function(e){},options:[],renderNoResultsFound:function(){return l({className:"no-results-found"},"No results found")},renderGroupTitle:function(e,t){var n,r;return null!=t&&(n=t.groupId,r=t.title),l({className:"simple-group-title",key:n},r)},renderOption:function(e){var t,n,r;return null!=e&&(t=e.label,n=e.newOption,r=e.selectable),l({className:"simple-option "+(void 0===r||r?"":"not-selectable")},c(null,n?"Add "+t+" ...":t))},scrollLock:!1,style:{},tether:!1,tetherProps:{},theme:"default",transitionEnter:!1,transitionLeave:!1,transitionEnterTimeout:200,transitionLeaveTimeout:200,uid:o},t.prototype.render=function(){var e,t;return e=v(((t={})[this.props.theme+""]=1,t[this.props.className+""]=1,t.flipped=-1===this.props.dropdownDirection,t.tethered=this.props.tether,t)),this.props.tether?f(((t=y({},this.props.tetherProps)).options={attachment:"top left",targetAttachment:"bottom left",constraints:[{to:"scrollParent"}]},t),this.renderAnimatedDropdown({dynamicClassName:e})):this.renderAnimatedDropdown({dynamicClassName:e})},t.prototype.renderAnimatedDropdown=function(e){var t;return t=e.dynamicClassName,this.props.transitionEnter||this.props.transitionLeave?h({ref:"dropdownMenuWrapper",component:"div",transitionName:"custom",transitionEnter:this.props.transitionEnter,transitionLeave:this.props.transitionLeave,transitionEnterTimeout:this.props.transitionEnterTimeout,transitionLeaveTimeout:this.props.transitionLeaveTimeout,className:"dropdown-menu-wrapper "+t},this.renderDropdown(e)):this.renderDropdown(e)},t.prototype.renderOptions=function(e){var t=this;return i(function(n){var r,o;return r=e[n],o=t.props.uid(r),m(y({uid:o,ref:function(e){t["option-"+t.uidToString(o)]=e},key:t.uidToString(o),item:r,highlight:a(t.props.highlightedUid,o),selectable:null!=r?r.selectable:void 0,onMouseMove:function(e){e.currentTarget,t.props.scrollLock&&t.props.onScrollLockChange(!1)},onMouseOut:function(){t.props.scrollLock||t.props.onHighlightedUidChange(void 0,function(){})},renderItem:t.props.renderOption},function(){switch(!1){case!("boolean"==typeof(null!=r?r.selectable:void 0)&&!r.selectable):return{onClick:g};default:return{onClick:function(){t.props.scrollLock||t.props.onHighlightedUidChange(o,function(){}),t.props.onOptionClick(t.props.highlightedUid)},onMouseOver:function(e){if(e.currentTarget,"ontouchstart"in window)return!1;t.props.scrollLock||t.props.onHighlightedUidChange(o,function(){})}}}}()))})(function(){var t,n,r=[];for(t=0,n=e.length;t<n;++t)r.push(t);return r}())},t.prototype.renderDropdown=function(e){var t,n,o,a,s=this;return t=e.dynamicClassName,this.props.open?d({className:"dropdown-menu "+t,ref:function(e){e&&(s.dropdownMenu=e)},onHeightChange:function(e){s.refs.dropdownMenuWrapper&&(p(s.refs.dropdownMenuWrapper).style.height=e+"px")}},0===this.props.options.length?this.props.renderNoResultsFound():(null!=(n=this.props)&&null!=(o=n.groups)?o.length:void 0)>0?(a=i(function(e){var t,n;return t=s.props.groups[e],n=t.groupId,{index:e,group:t,options:r(function(e){return s.props.groupId(e)===n})(s.props.options)}})(function(){var e,t,n=[];for(e=0,t=this.props.groups.length;e<t;++e)n.push(e);return n}.call(this)),l({className:"groups "+(this.props.groupsAsColumns?"as-columns":"")},i(function(e){var t,n,r,o;return t=e.index,r=(n=e.group).groupId,o=e.options,l({key:r},s.props.renderGroupTitle(t,n,o),l({className:"options"},s.renderOptions(o)))})(r(function(e){return e.options.length>0})(a)))):this.renderOptions(this.props.options)):null},t.prototype.componentDidUpdate=function(e){var t,n,r;!function(e,t,n){var r={}.toString,o={}.hasOwnProperty,i=function(e,t){return o.call(e,t)},a=!0;return function e(t,o,s){var u,l,c,p,h,f,d,m;if(null==t||null==o)return t===o;if(t.__placeholder__||o.__placeholder__)return!0;if(t===o)return 0!==t||1/t==1/o;u=r.call(t);if(r.call(o)!=u)return!1;switch(u){case"[object String]":return t==String(o);case"[object Number]":return t!=+t?o!=+o:0==t?1/t==1/o:t==+o;case"[object Date]":case"[object Boolean]":return+t==+o;case"[object RegExp]":return t.source==o.source&&t.global==o.global&&t.multiline==o.multiline&&t.ignoreCase==o.ignoreCase}if("object"!=typeof t||"object"!=typeof o)return!1;l=s.length;for(;l--;)if(s[l]==t)return!0;s.push(t);c=0;p=!0;if("[object Array]"==u){if(h=t.length,f=o.length,a){switch(n){case"===":p=h===f;break;case"<==":p=h<=f;break;case"<<=":p=h<f}c=h,a=!1}else p=h===f,c=h;if(p)for(;c--&&(p=c in t==c in o&&e(t[c],o[c],s)););}else{if("constructor"in t!="constructor"in o||t.constructor!=o.constructor)return!1;for(d in t)if(i(t,d)&&(c++,!(p=i(o,d)&&e(t[d],o[d],s))))break;if(p){for(d in m=0,o)i(o,d)&&++m;a?p="<<="===n?c<m:"<=="===n?c<=m:c===m:(a=!1,p=c===m)}}s.pop();return p}(e,t,[])}(e.dropdownDirection,this.props.dropdownDirection,"===")&&this.props.open&&null!=(t=n=p(null!=(r=this.refs.dropdownMenuWrapper)?r:this.dropdownMenu))&&(t.style.bottom=function(){switch(!1){case-1!==this.props.dropdownDirection:return this.props.bottomAnchor().offsetHeight+n.style.marginBottom+"px";default:return""}}.call(this))},t.prototype.highlightAndScrollToOption=function(e,t){var n,r=this;null==t&&(t=function(){}),n=this.props.uid(this.props.options[e]),this.props.onHighlightedUidChange(n,function(){var e,o,i,a;return null!=(e=p(null!=r?r["option-"+r.uidToString(n)]:void 0))&&(o=e),o&&(i=o.parentElement,a=o.offsetHeight-1,o.offsetTop-i.scrollTop>=i.offsetHeight?i.scrollTop=o.offsetTop-i.offsetHeight+a:o.offsetTop-i.scrollTop+a<=0&&(i.scrollTop=o.offsetTop)),t()})},t.prototype.highlightAndScrollToSelectableOption=function(e,t,n){var r,o,i;null==n&&(n=function(){}),e<0||e>=this.props.options.length?this.props.onHighlightedUidChange(void 0,function(){return n(!1)}):"boolean"!=typeof(null!=(r=null!=(o=this.props)&&null!=(i=o.options)?i[e]:void 0)?r.selectable:void 0)||r.selectable?this.highlightAndScrollToOption(e,function(){return n(!0)}):this.highlightAndScrollToSelectableOption(e+t,t,n)},t.prototype.uidToString=function(e){return("object"==typeof e?JSON.stringify:o)(e)},t}(s.PureComponent)}).call(this)},1579:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(0)),i=l(n(1)),a=l(n(1580)),s=l(n(1584)),u=n(709);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}u.nameShape.isRequired,i.default.bool,i.default.bool,i.default.bool,(0,u.transitionTimeout)("Appear"),(0,u.transitionTimeout)("Enter"),(0,u.transitionTimeout)("Leave");var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=r=c(this,e.call.apply(e,[this].concat(a))),r._wrapChild=function(e){return o.default.createElement(s.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o.default.createElement(a.default,r({},this.props,{childFactory:this._wrapChild}))},t}(o.default.Component);p.displayName="CSSTransitionGroup",p.propTypes={},p.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.default=p,e.exports=t.default},1580:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(1581)),i=u(n(0)),a=u(n(1)),s=(u(n(1582)),n(1583));function u(e){return e&&e.__esModule?e:{default:e}}a.default.any,a.default.func,a.default.node;var l=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return i.performAppear=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(i._handleDoneAppearing.bind(i,e,t)):i._handleDoneAppearing(e,t)},i._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete i.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e,t)},i.performEnter=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(i._handleDoneEntering.bind(i,e,t)):i._handleDoneEntering(e,t)},i._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete i.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e,t)},i.performLeave=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(i._handleDoneLeaving.bind(i,e,t)):i._handleDoneLeaving(e,t)},i._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete i.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)?i.keysToEnter.push(e):i.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},i.childRefs=Object.create(null),i.state={children:(0,s.getChildMapping)(n.children)},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,s.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,s.mergeChildMappings)(n,t)}),t){var o=n&&n.hasOwnProperty(r);!t[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var i in n){var a=t&&t.hasOwnProperty(i);!n[i]||a||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],n=function(n){var r=e.state.children[n];if(r){var a="string"!=typeof r.ref,s=e.props.childFactory(r),u=function(t){e.childRefs[n]=t};s===r&&a&&(u=(0,o.default)(r.ref,u)),t.push(i.default.cloneElement(s,{key:n,ref:u}))}};for(var a in this.state.children)n(a);var s=r({},this.props);return delete s.transitionLeave,delete s.transitionName,delete s.transitionAppear,delete s.transitionEnter,delete s.childFactory,delete s.transitionLeaveTimeout,delete s.transitionEnterTimeout,delete s.transitionAppearTimeout,delete s.component,i.default.createElement(this.props.component,s,t)},t}(i.default.Component);l.displayName="TransitionGroup",l.propTypes={},l.defaultProps={component:"span",childFactory:function(e){return e}},t.default=l,e.exports=t.default},1581:function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter(function(e){return null!=e})).length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},1582:function(e,t,n){"use strict";e.exports=function(){}},1583:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return r.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},o=[];for(var i in e)t.hasOwnProperty(i)?o.length&&(r[i]=o,o=[]):o.push(i);var a=void 0,s={};for(var u in t){if(r.hasOwnProperty(u))for(a=0;a<r[u].length;a++){var l=r[u][a];s[r[u][a]]=n(l)}s[u]=n(u)}for(a=0;a<o.length;a++)s[o[a]]=n(o[a]);return s};var r=n(0)},1584:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=h(n(659)),i=h(n(661)),a=h(n(1585)),s=n(486),u=h(n(0)),l=h(n(1)),c=n(16),p=n(709);function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=[];s.transitionEnd&&d.push(s.transitionEnd),s.animationEnd&&d.push(s.animationEnd);l.default.node,p.nameShape.isRequired,l.default.bool,l.default.bool,l.default.bool,l.default.number,l.default.number,l.default.number;var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=f(this,e.call.apply(e,[this].concat(i))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,c.findDOMNode)(this);if(r){var a=this.props.name[e]||this.props.name+"-"+e,u=this.props.name[e+"Active"]||a+"-active",l=null,p=void 0;(0,o.default)(r,a),this.queueClassAndNode(u,r);var h=function(e){e&&e.target!==r||(clearTimeout(l),p&&p(),(0,i.default)(r,a),(0,i.default)(r,u),p&&p(),t&&t())};n?(l=setTimeout(h,n),this.transitionTimeouts.push(l)):s.transitionEnd&&(p=function(e,t){return d.length?d.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){d.length&&d.forEach(function(n){return e.removeEventListener(n,t,!1)})}}(r,h))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,a.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,o.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=r({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,u.default.cloneElement(u.default.Children.only(this.props.children),e)},t}(u.default.Component);m.displayName="CSSTransitionGroupChild",m.propTypes={},t.default=m,e.exports=t.default},1585:function(e,t,n){"use strict";var r=n(10);t.__esModule=!0,t.default=void 0;var o,i=r(n(93)),a="clearTimeout",s=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-l)),r=setTimeout(e,n);return l=t,r},u=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some(function(e){var t=u(e,"request");if(t in window)return a=u(e,"cancel"),s=function(e){return window[t](e)}});var l=(new Date).getTime();(o=function(e){return s(e)}).cancel=function(e){window[a]&&"function"==typeof window[a]&&window[a](e)};var c=o;t.default=c,e.exports=t.default},1586:function(e,t,n){(function(){var t,r,o,i,a,s;function u(e,t){var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}t=n(0),r=n(16),o=r.render,i=r.unmountComponentAtNode,a=n(1587),s=function(e){(function(e,t){function n(){}n.prototype=(e.superclass=t).prototype,(e.prototype=new n).constructor=e,"function"==typeof t.extended&&t.extended(e);return e})((u(t,e).displayName="ReactTether",t),e).prototype;function t(){t.superclass.apply(this,arguments)}return t.defaultProps={parentElement:function(){return document.body}},t.prototype.render=function(){return null},t.prototype.initTether=function(e){var t=this;this.node=document.createElement("div"),this.props.parentElement().appendChild(this.node),this.tether=new a(u({element:this.node,target:e.target()},e.options)),o(e.children,this.node,function(){return t.tether.position()})},t.prototype.destroyTether=function(){this.tether&&this.tether.destroy(),this.node&&(i(this.node),this.node.parentElement.removeChild(this.node)),this.node=this.tether=void 0},t.prototype.componentDidMount=function(){this.props.children&&this.initTether(this.props)},t.prototype.componentWillReceiveProps=function(e){var t=this;this.props.children&&!e.children?this.destroyTether():e.children&&!this.props.children?this.initTether(e):e.children&&(this.tether.setOptions(u({element:this.node,target:e.target()},e.options)),o(e.children,this.node,function(){return t.tether.position()}))},t.prototype.componentWillUnmount=function(){this.destroyTether()},t}(t.PureComponent),e.exports=s}).call(this)},1587:function(e,t,n){var r,o,i;/*! tether 1.4.6 */o=[],void 0===(i="function"==typeof(r=function(){"use strict";var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=void 0;void 0===n&&(n={modules:[]});var r=null;function o(e){var t=e.getBoundingClientRect(),n={};for(var r in t)n[r]=t[r];if(e.ownerDocument!==document){var i=e.ownerDocument.defaultView.frameElement;if(i){var a=o(i);n.top+=a.top,n.bottom+=a.top,n.left+=a.left,n.right+=a.left}}return n}function i(e){var t=(getComputedStyle(e)||{}).position,n=[];if("fixed"===t)return[e];for(var r=e;(r=r.parentNode)&&r&&1===r.nodeType;){var o=void 0;try{o=getComputedStyle(r)}catch(e){}if(null==o)return n.push(r),n;var i=o,a=i.overflow,s=i.overflowX,u=i.overflowY;/(auto|scroll|overlay)/.test(a+u+s)&&("absolute"!==t||["relative","absolute","fixed"].indexOf(o.position)>=0)&&n.push(r)}return n.push(e.ownerDocument.body),e.ownerDocument!==document&&n.push(e.ownerDocument.defaultView),n}var a,s=(a=0,function(){return++a}),u={},l=function(){var e=r;e&&document.body.contains(e)||((e=document.createElement("div")).setAttribute("data-tether-id",s()),m(e.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(e),r=e);var t=e.getAttribute("data-tether-id");return void 0===u[t]&&(u[t]=o(e),O(function(){delete u[t]})),u[t]};function c(){r&&document.body.removeChild(r),r=null}function p(e){var t=void 0;e===document?(t=document,e=document.documentElement):t=e.ownerDocument;var n=t.documentElement,r=o(e),i=l();return r.top-=i.top,r.left-=i.left,void 0===r.width&&(r.width=document.body.scrollWidth-r.left-r.right),void 0===r.height&&(r.height=document.body.scrollHeight-r.top-r.bottom),r.top=r.top-n.clientTop,r.left=r.left-n.clientLeft,r.right=t.body.clientWidth-r.width-r.left,r.bottom=t.body.clientHeight-r.height-r.top,r}function h(e){return e.offsetParent||document.documentElement}var f=null;function d(){if(f)return f;var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");m(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var r=e.offsetWidth;n===r&&(r=t.clientWidth),document.body.removeChild(t);var o=n-r;return f={width:o,height:o}}function m(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}),e}function g(e,t){if(void 0!==e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.remove(t)});else{var n=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),r=b(e).replace(n," ");E(e,r)}}function v(e,t){if(void 0!==e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.add(t)});else{g(e,t);var n=b(e)+" "+t;E(e,n)}}function y(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=b(e);return new RegExp("(^| )"+t+"( |$)","gi").test(n)}function b(e){return e.className instanceof e.ownerDocument.defaultView.SVGAnimatedString?e.className.baseVal:e.className}function E(e,t){e.setAttribute("class",t)}function C(e,t,n){n.forEach(function(n){-1===t.indexOf(n)&&y(e,n)&&g(e,n)}),t.forEach(function(t){y(e,t)||v(e,t)})}var w=[],O=function(e){w.push(e)},S=function(){for(var e=void 0;e=w.pop();)e()},_=function(){function n(){t(this,n)}return e(n,[{key:"on",value:function(e,t,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:r})}},{key:"once",value:function(e,t,n){this.on(e,t,n,!0)}},{key:"off",value:function(e,t){if(void 0!==this.bindings&&void 0!==this.bindings[e])if(void 0===t)delete this.bindings[e];else for(var n=0;n<this.bindings[e].length;)this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):++n}},{key:"trigger",value:function(e){if(void 0!==this.bindings&&this.bindings[e]){for(var t=0,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(;t<this.bindings[e].length;){var i=this.bindings[e][t],a=i.handler,s=i.ctx,u=i.once,l=s;void 0===l&&(l=this),a.apply(l,r),u?this.bindings[e].splice(t,1):++t}}}}]),n}();n.Utils={getActualBoundingClientRect:o,getScrollParents:i,getBounds:p,getOffsetParent:h,extend:m,addClass:v,removeClass:g,hasClass:y,updateClasses:C,defer:O,flush:S,uniqueId:s,Evented:_,getScrollBarSize:d,removeUtilElements:c};var k=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=(e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,n=a,r=!0,s=l=void 0}});function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}if(void 0===n)throw new Error("You must include the utils.js file before tether.js");var i=(X=n.Utils).getScrollParents,h=(p=X.getBounds,X.getOffsetParent),v=(m=X.extend,X.addClass),g=X.removeClass,d=(C=X.updateClasses,O=X.defer,S=X.flush,X.getScrollBarSize),c=X.removeUtilElements;function j(e,t){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return e+n>=t&&t>=e-n}var x,D,P,N,A=function(){if("undefined"==typeof document)return"";for(var e=document.createElement("div"),t=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<t.length;++n){var r=t[n];if(void 0!==e.style[r])return r}}(),L=[],R=function(){L.forEach(function(e){e.position(!1)}),S()};function I(){return"object"==typeof performance&&"function"==typeof performance.now?performance.now():+new Date}x=null,D=null,P=null,N=function e(){if(void 0!==D&&D>16)return D=Math.min(D-16,250),void(P=setTimeout(e,250));void 0!==x&&I()-x<10||(null!=P&&(clearTimeout(P),P=null),x=I(),R(),D=I()-x)},"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(e){window.addEventListener(e,N)});var M={center:"center",left:"right",right:"left"},U={middle:"middle",top:"bottom",bottom:"top"},q={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},B=function(e,t){var n=e.left,r=e.top;return"auto"===n&&(n=M[t.left]),"auto"===r&&(r=U[t.top]),{left:n,top:r}},F=function(e){var t=e.left,n=e.top;return void 0!==q[e.left]&&(t=q[e.left]),void 0!==q[e.top]&&(n=q[e.top]),{left:t,top:n}};function H(){for(var e={top:0,left:0},t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){var n=t.top,r=t.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof r&&(r=parseFloat(r,10)),e.top+=n,e.left+=r}),e}function W(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e}var Q=function(e){var t=e.split(" "),n=k(t,2);return{top:n[0],left:n[1]}},z=Q,V=function(r){function o(e){var r=this;t(this,o),T(Object.getPrototypeOf(o.prototype),"constructor",this).call(this),this.position=this.position.bind(this),L.push(this),this.history=[],this.setOptions(e,!1),n.modules.forEach(function(e){void 0!==e.initialize&&e.initialize.call(r)}),this.position()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,_),e(o,[{key:"getClass",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.options.classes;return void 0!==t&&t[e]?this.options.classes[e]:this.options.classPrefix?this.options.classPrefix+"-"+e:e}},{key:"setOptions",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],r={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=m(r,e);var o=this.options,a=o.element,s=o.target,u=o.targetModifier;if(this.element=a,this.target=s,this.targetModifier=u,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(e){if(void 0===t[e])throw new Error("Tether Error: Both element and target must be defined");void 0!==t[e].jquery?t[e]=t[e][0]:"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),v(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&v(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=z(this.options.targetAttachment),this.attachment=z(this.options.attachment),this.offset=Q(this.options.offset),this.targetOffset=Q(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=i(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return p(this.target);if("visible"===this.targetModifier)return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:((i={height:(e=p(this.target)).height,width:e.width,top:e.top,left:e.left}).height=Math.min(i.height,e.height-(pageYOffset-e.top)),i.height=Math.min(i.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),i.height=Math.min(innerHeight,i.height),i.height-=2,i.width=Math.min(i.width,e.width-(pageXOffset-e.left)),i.width=Math.min(i.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),i.width=Math.min(innerWidth,i.width),i.width-=2,i.top<pageYOffset&&(i.top=pageYOffset),i.left<pageXOffset&&(i.left=pageXOffset),i);if("scroll-handle"===this.targetModifier){var e=void 0,t=this.target;t===document.body?(t=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=p(t);var n=getComputedStyle(t),r=0;(t.scrollWidth>t.clientWidth||[n.overflow,n.overflowX].indexOf("scroll")>=0||this.target!==document.body)&&(r=15);var o=e.height-parseFloat(n.borderTopWidth)-parseFloat(n.borderBottomWidth)-r,i={width:15,height:.975*o*(o/t.scrollHeight),left:e.left+e.width-parseFloat(n.borderLeftWidth)-15},a=0;o<408&&this.target===document.body&&(a=-11e-5*Math.pow(o,2)-.00727*o+22.58),this.target!==document.body&&(i.height=Math.max(i.height,24));var s=this.target.scrollTop/(t.scrollHeight-o);return i.top=s*(o-i.height-a)+e.top+parseFloat(n.borderTopWidth),this.target===document.body&&(i.height=Math.max(i.height,24)),i}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(e,t){return void 0===this._cache&&(this._cache={}),void 0===this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]}},{key:"enable",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&v(this.target,this.getClass("enabled")),v(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(t){t!==e.target.ownerDocument&&t.addEventListener("scroll",e.position)}),t&&this.position()}},{key:"disable",value:function(){var e=this;g(this.target,this.getClass("enabled")),g(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.position)})}},{key:"destroy",value:function(){var e=this;this.disable(),L.forEach(function(t,n){t===e&&L.splice(n,1)}),0===L.length&&c()}},{key:"updateAttachClasses",value:function(e,t){var n=this;e=e||this.attachment,t=t||this.targetAttachment,void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var r=this._addAttachClasses;e.top&&r.push(this.getClass("element-attached")+"-"+e.top),e.left&&r.push(this.getClass("element-attached")+"-"+e.left),t.top&&r.push(this.getClass("target-attached")+"-"+t.top),t.left&&r.push(this.getClass("target-attached")+"-"+t.left);var o=[];["left","top","bottom","right","middle","center"].forEach(function(e){o.push(n.getClass("element-attached")+"-"+e),o.push(n.getClass("target-attached")+"-"+e)}),O(function(){void 0!==n._addAttachClasses&&(C(n.element,n._addAttachClasses,o),!1!==n.options.addTargetClasses&&C(n.target,n._addAttachClasses,o),delete n._addAttachClasses)})}},{key:"position",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var r=B(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,r);var o=this.cache("element-bounds",function(){return p(e.element)}),i=o.width,a=o.height;if(0===i&&0===a&&void 0!==this.lastSize){var s=this.lastSize;i=s.width,a=s.height}else this.lastSize={width:i,height:a};var u=this.cache("target-bounds",function(){return e.getTargetBounds()}),l=u,c=W(F(this.attachment),{width:i,height:a}),f=W(F(r),l),m=W(this.offset,{width:i,height:a}),g=W(this.targetOffset,l);c=H(c,m),f=H(f,g);for(var v=u.left+f.left-c.left,y=u.top+f.top-c.top,b=0;b<n.modules.length;++b){var E=n.modules[b],C=E.position.call(this,{left:v,top:y,targetAttachment:r,targetPos:u,elementPos:o,offset:c,targetOffset:f,manualOffset:m,manualTargetOffset:g,scrollbarSize:k,attachment:this.attachment});if(!1===C)return!1;void 0!==C&&"object"==typeof C&&(y=C.top,v=C.left)}var w={page:{top:y,left:v},viewport:{top:y-pageYOffset,bottom:pageYOffset-y-a+innerHeight,left:v-pageXOffset,right:pageXOffset-v-i+innerWidth}},O=this.target.ownerDocument,_=O.defaultView,k=void 0;return _.innerHeight>O.documentElement.clientHeight&&(k=this.cache("scrollbar-size",d),w.viewport.bottom-=k.height),_.innerWidth>O.documentElement.clientWidth&&(k=this.cache("scrollbar-size",d),w.viewport.right-=k.width),-1!==["","static"].indexOf(O.body.style.position)&&-1!==["","static"].indexOf(O.body.parentElement.style.position)||(w.page.bottom=O.body.scrollHeight-y-a,w.page.right=O.body.scrollWidth-v-i),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var t=e.cache("target-offsetparent",function(){return h(e.target)}),n=e.cache("target-offsetparent-bounds",function(){return p(t)}),r=getComputedStyle(t),o=n,i={};if(["Top","Left","Bottom","Right"].forEach(function(e){i[e.toLowerCase()]=parseFloat(r["border"+e+"Width"])}),n.right=O.body.scrollWidth-n.left-o.width+i.right,n.bottom=O.body.scrollHeight-n.top-o.height+i.bottom,w.page.top>=n.top+i.top&&w.page.bottom>=n.bottom&&w.page.left>=n.left+i.left&&w.page.right>=n.right){var a=t.scrollTop,s=t.scrollLeft;w.offset={top:w.page.top-n.top+a-i.top,left:w.page.left-n.left+s-i.left}}}(),this.move(w),this.history.unshift(w),this.history.length>3&&this.history.pop(),t&&S(),!0}}},{key:"move",value:function(e){var t=this;if(void 0!==this.element.parentNode){var n={};for(var r in e)for(var o in n[r]={},e[r]){for(var i=!1,a=0;a<this.history.length;++a){var s=this.history[a];if(void 0!==s[r]&&!j(s[r][o],e[r][o])){i=!0;break}}i||(n[r][o]=!0)}var u,l,c={top:"",left:"",right:"",bottom:""},p=function(e,n){if(!1!==(void 0!==t.options.optimizations?t.options.optimizations.gpu:null)){var r=void 0,o=void 0;e.top?(c.top=0,r=n.top):(c.bottom=0,r=-n.bottom),e.left?(c.left=0,o=n.left):(c.right=0,o=-n.right),"number"==typeof window.devicePixelRatio&&devicePixelRatio%1==0&&(o=Math.round(o*devicePixelRatio)/devicePixelRatio,r=Math.round(r*devicePixelRatio)/devicePixelRatio),c[A]="translateX("+o+"px) translateY("+r+"px)","msTransform"!==A&&(c[A]+=" translateZ(0)")}else e.top?c.top=n.top+"px":c.bottom=n.bottom+"px",e.left?c.left=n.left+"px":c.right=n.right+"px"},f=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(c.position="absolute",p(n.page,e.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(c.position="fixed",p(n.viewport,e.viewport)):void 0!==n.offset&&n.offset.top&&n.offset.left?function(){c.position="absolute";var r=t.cache("target-offsetparent",function(){return h(t.target)});h(t.element)!==r&&O(function(){t.element.parentNode.removeChild(t.element),r.appendChild(t.element)}),p(n.offset,e.offset),f=!0}():(c.position="absolute",p({top:!0,left:!0},e.page)),!f)if(this.options.bodyElement)this.element.parentNode!==this.options.bodyElement&&this.options.bodyElement.appendChild(this.element);else{for(var d=!0,g=this.element.parentNode;g&&1===g.nodeType&&"BODY"!==g.tagName&&(l=void 0,((l=(u=g).ownerDocument).fullscreenElement||l.webkitFullscreenElement||l.mozFullScreenElement||l.msFullscreenElement)!==u);){if("static"!==getComputedStyle(g).position){d=!1;break}g=g.parentNode}d||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var v={},y=!1;for(var o in c){var b=c[o];this.element.style[o]!==b&&(y=!0,v[o]=b)}y&&O(function(){m(t.element.style,v),t.trigger("repositioned")})}}}]),o}();V.modules=[],n.position=R;var K=m(V,n);k=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},p=(X=n.Utils).getBounds;var m=X.extend,$=(C=X.updateClasses,O=X.defer,["left","top","right","bottom"]);n.modules.push({position:function(e){var t=this,n=e.top,r=e.left,o=e.targetAttachment;if(!this.options.constraints)return!0;var i=this.cache("element-bounds",function(){return p(t.element)}),a=i.height,s=i.width;if(0===s&&0===a&&void 0!==this.lastSize){var u=this.lastSize;s=u.width,a=u.height}var l=this.cache("target-bounds",function(){return t.getTargetBounds()}),c=l.height,h=l.width,f=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(e){var t=e.outOfBoundsClass,n=e.pinnedClass;t&&f.push(t),n&&f.push(n)}),f.forEach(function(e){["left","top","right","bottom"].forEach(function(t){f.push(e+"-"+t)})});var d=[],g=m({},o),v=m({},this.attachment);return this.options.constraints.forEach(function(e){var i=e.to,u=e.attachment,l=e.pin;void 0===u&&(u="");var f=void 0,m=void 0;if(u.indexOf(" ")>=0){var y=u.split(" "),b=k(y,2);m=b[0],f=b[1]}else f=m=u;var E=function(e,t){return"scrollParent"===t?t=e.scrollParents[0]:"window"===t&&(t=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),t===document&&(t=t.documentElement),void 0!==t.nodeType&&function(){var e=t,n=p(t),r=n,o=getComputedStyle(t);if(t=[r.left,r.top,n.width+r.left,n.height+r.top],e.ownerDocument!==document){var i=e.ownerDocument.defaultView;t[0]+=i.pageXOffset,t[1]+=i.pageYOffset,t[2]+=i.pageXOffset,t[3]+=i.pageYOffset}$.forEach(function(e,n){"Top"===(e=e[0].toUpperCase()+e.substr(1))||"Left"===e?t[n]+=parseFloat(o["border"+e+"Width"]):t[n]-=parseFloat(o["border"+e+"Width"])})}(),t}(t,i);"target"!==m&&"both"!==m||(n<E[1]&&"top"===g.top&&(n+=c,g.top="bottom"),n+a>E[3]&&"bottom"===g.top&&(n-=c,g.top="top")),"together"===m&&("top"===g.top&&("bottom"===v.top&&n<E[1]?(n+=c,g.top="bottom",n+=a,v.top="top"):"top"===v.top&&n+a>E[3]&&n-(a-c)>=E[1]&&(n-=a-c,g.top="bottom",v.top="bottom")),"bottom"===g.top&&("top"===v.top&&n+a>E[3]?(n-=c,g.top="top",n-=a,v.top="bottom"):"bottom"===v.top&&n<E[1]&&n+(2*a-c)<=E[3]&&(n+=a-c,g.top="top",v.top="top")),"middle"===g.top&&(n+a>E[3]&&"top"===v.top?(n-=a,v.top="bottom"):n<E[1]&&"bottom"===v.top&&(n+=a,v.top="top"))),"target"!==f&&"both"!==f||(r<E[0]&&"left"===g.left&&(r+=h,g.left="right"),r+s>E[2]&&"right"===g.left&&(r-=h,g.left="left")),"together"===f&&(r<E[0]&&"left"===g.left?"right"===v.left?(r+=h,g.left="right",r+=s,v.left="left"):"left"===v.left&&(r+=h,g.left="right",r-=s,v.left="right"):r+s>E[2]&&"right"===g.left?"left"===v.left?(r-=h,g.left="left",r-=s,v.left="right"):"right"===v.left&&(r-=h,g.left="left",r+=s,v.left="left"):"center"===g.left&&(r+s>E[2]&&"left"===v.left?(r-=s,v.left="right"):r<E[0]&&"right"===v.left&&(r+=s,v.left="left"))),"element"!==m&&"both"!==m||(n<E[1]&&"bottom"===v.top&&(n+=a,v.top="top"),n+a>E[3]&&"top"===v.top&&(n-=a,v.top="bottom")),"element"!==f&&"both"!==f||(r<E[0]&&("right"===v.left?(r+=s,v.left="left"):"center"===v.left&&(r+=s/2,v.left="left")),r+s>E[2]&&("left"===v.left?(r-=s,v.left="right"):"center"===v.left&&(r-=s/2,v.left="right"))),"string"==typeof l?l=l.split(",").map(function(e){return e.trim()}):!0===l&&(l=["top","left","right","bottom"]),l=l||[];var C,w,O=[],S=[];n<E[1]&&(l.indexOf("top")>=0?(n=E[1],O.push("top")):S.push("top")),n+a>E[3]&&(l.indexOf("bottom")>=0?(n=E[3]-a,O.push("bottom")):S.push("bottom")),r<E[0]&&(l.indexOf("left")>=0?(r=E[0],O.push("left")):S.push("left")),r+s>E[2]&&(l.indexOf("right")>=0?(r=E[2]-s,O.push("right")):S.push("right")),O.length&&(C=void 0,C=void 0!==t.options.pinnedClass?t.options.pinnedClass:t.getClass("pinned"),d.push(C),O.forEach(function(e){d.push(C+"-"+e)})),S.length&&(w=void 0,w=void 0!==t.options.outOfBoundsClass?t.options.outOfBoundsClass:t.getClass("out-of-bounds"),d.push(w),S.forEach(function(e){d.push(w+"-"+e)})),(O.indexOf("left")>=0||O.indexOf("right")>=0)&&(v.left=g.left=!1),(O.indexOf("top")>=0||O.indexOf("bottom")>=0)&&(v.top=g.top=!1),g.top===o.top&&g.left===o.left&&v.top===t.attachment.top&&v.left===t.attachment.left||(t.updateAttachClasses(v,g),t.trigger("update",{attachment:v,targetAttachment:g}))}),O(function(){!1!==t.options.addTargetClasses&&C(t.target,d,f),C(t.element,d,f)}),{top:n,left:r}}});var X,p=(X=n.Utils).getBounds,C=X.updateClasses;return O=X.defer,n.modules.push({position:function(e){var t=this,n=e.top,r=e.left,o=this.cache("element-bounds",function(){return p(t.element)}),i=o.height,a=o.width,s=this.getTargetBounds(),u=n+i,l=r+a,c=[];n<=s.bottom&&u>=s.top&&["left","right"].forEach(function(e){var t=s[e];t!==r&&t!==l||c.push(e)}),r<=s.right&&l>=s.left&&["top","bottom"].forEach(function(e){var t=s[e];t!==n&&t!==u||c.push(e)});var h=[],f=[];return h.push(this.getClass("abutted")),["left","top","right","bottom"].forEach(function(e){h.push(t.getClass("abutted")+"-"+e)}),c.length&&f.push(this.getClass("abutted")),c.forEach(function(e){f.push(t.getClass("abutted")+"-"+e)}),O(function(){!1!==t.options.addTargetClasses&&C(t.target,f,h),C(t.element,f,h)}),!0}}),k=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n.modules.push({position:function(e){var t=e.top,n=e.left;if(this.options.shift){var r=this.options.shift;"function"==typeof this.options.shift&&(r=this.options.shift.call(this,{top:t,left:n}));var o=void 0,i=void 0;if("string"==typeof r){(r=r.split(" "))[1]=r[1]||r[0];var a=k(r,2);o=a[0],i=a[1],o=parseFloat(o,10),i=parseFloat(i,10)}else o=r.top,i=r.left;return{top:t+=o,left:n+=i}}}}),K})?r.apply(t,o):r)||(e.exports=i)},1588:function(e,t,n){(function(){var t,r;t=n(100).div,r=n(0),e.exports=function(e){(function(e,t){function n(){}n.prototype=(e.superclass=t).prototype,(e.prototype=new n).constructor=e,"function"==typeof t.extended&&t.extended(e);return e})(((function(e,t){var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}(n,e)).displayName="DivWrapper",n),e).prototype;function n(){n.superclass.apply(this,arguments)}return n.defaultProps={className:"",onHeightChange:function(){}},n.prototype.render=function(){return t({className:this.props.className,ref:"dropdown"},this.props.children)},n.prototype.componentDidMount=function(){this.props.onHeightChange(this.refs.dropdown.offsetHeight)},n.prototype.componentDidUpdate=function(){this.props.onHeightChange(this.refs.dropdown.offsetHeight)},n.prototype.componentWillUnmount=function(){this.props.onHeightChange(0)},n}(r.Component)}).call(this)},1589:function(e,t,n){(function(){var t,r,o;t=n(0),r=n(100).div,o=n(329).isEqualToObject,e.exports=function(e){(function(e,t){function n(){}n.prototype=(e.superclass=t).prototype,(e.prototype=new n).constructor=e,"function"==typeof t.extended&&t.extended(e);return e})(((function(e,t){var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}(t,e)).displayName="ValueWrapper",t),e).prototype;function t(){t.superclass.apply(this,arguments)}return t.defaultProps={},t.prototype.render=function(){return r({className:"value-wrapper"},this.props.renderItem(this.props.item))},t.prototype.shouldComponentUpdate=function(e){var t;return!o(null!=e?e.uid:void 0,null!=(t=this.props)?t.uid:void 0)},t}(t.Component)}).call(this)},1590:function(e,t,n){(function(){var t,r,o,i;r=(t=n(0)).createFactory,o=n(100).path,i=r(n(708)),e.exports=function(e){(function(e,t){function n(){}n.prototype=(e.superclass=t).prototype,(e.prototype=new n).constructor=e,"function"==typeof t.extended&&t.extended(e);return e})(((function(e,t){var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}(t,e)).displayName="ResetButton",t),e).prototype;function t(){t.superclass.apply(this,arguments)}return t.prototype.render=function(){return i({className:"react-selectize-reset-button",style:{width:8,height:8}},o({d:"M0 0 L8 8 M8 0 L 0 8"}))},t}(t.PureComponent)}).call(this)},1591:function(e,t,n){(function(){var t,r,o,i,a,s;function u(e,t){var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}t=n(273),r=t.each,o=t.objToPairs,(i=n(0)).createFactory,a=n(100).input,s=n(16).findDOMNode,e.exports=function(e){(function(e,t){function n(){}n.prototype=(e.superclass=t).prototype,(e.prototype=new n).constructor=e,"function"==typeof t.extended&&t.extended(e);return e})((u(t,e).displayName="ResizableInput",t),e).prototype;function t(){t.superclass.apply(this,arguments)}return t.prototype.render=function(){var e;return a(((e=u({},this.props)).type="input",e.className="resizable-input",e))},t.prototype.autosize=function(){var e,t,n;return(e=s(this)).style.width="0px",0===e.value.length?e.style.width=null!=e&&e.currentStyle?"4px":"2px":e.scrollWidth>0?e.style.width=2+e.scrollWidth+"px":((t=document.createElement("div")).innerHTML=e.value,function(){var e;(e=t.style).display="inline-block",e.width=""}(r(function(e){var n,r;return n=e[0],r=e[1],t.style[n]=r})(o(e.currentStyle?e.currentStyle:null!=(n=document.defaultView)?n:window.getComputedStyle(e)))),document.body.appendChild(t),e.style.width=4+t.clientWidth+"px",document.body.removeChild(t))},t.prototype.componentDidMount=function(){this.autosize()},t.prototype.componentDidUpdate=function(){this.autosize()},t.prototype.blur=function(){return s(this).blur()},t.prototype.focus=function(){return s(this).focus()},t}(i.PureComponent)}).call(this)},1592:function(e,t,n){(function(){var t,r,o,i,a,s,u,l,c,p,h,f,d,m={}.toString;function g(e,t){var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}t=n(273),r=t.all,t.any,o=t.camelize,t.difference,i=t.drop,a=t.filter,t.find,t.findIndex,s=t.id,u=t.last,l=t.map,c=t.reject,n(329).isEqualToObject,h=(p=n(0)).createFactory,(t=n(100)).div,t.img,t.span,f=h(n(505)),d=n(362).cancelEvent,e.exports=function(e){var t,n,p,h;(function(e,t){function n(){}n.prototype=(e.superclass=t).prototype,(e.prototype=new n).constructor=e,"function"==typeof t.extended&&t.extended(e);return e})((g(v,e).displayName="MultiSelect",v),e).prototype;function v(e){v.superclass.call(this,e),this.state={anchor:this.props.values?u(this.props.values):void 0,highlightedUid:void 0,open:!1,scrollLock:!1,search:"",values:this.props.defaultValues}}return v.defaultProps={className:"",closeOnSelect:!1,defaultValues:[],delimiters:[],filterOptions:(t=function(e,t,n){return a(function(e){return e.label.toLowerCase().trim().indexOf(n.toLowerCase().trim())>-1})(c(function(e){return function(e,t){for(var n=-1,r=t.length>>>0;++n<r;)if(e===t[n])return!0;return!1}(e.label.trim(),l(function(e){return e.label.trim()},null!=t?t:[]))})(e))},h=function(e){return t.length>1?function(){var r=e?e.concat():[];return p=n&&p||this,r.push.apply(r,arguments)<t.length&&arguments.length?h.call(p,r):t.apply(p,r)}:t},h()),firstOptionIndexToHighlight:s,onBlur:function(e){},onFocus:function(e){},onPaste:function(e){},serialize:l(function(e){return null!=e?e.value:void 0}),tether:!1},v.prototype.render=function(){var e,t,n,r,o,i,a,s,l,c,p,h,m,v,y,b,E,C,w,O,S,_,k,T,j,x,D,P,N,A,L,R,I,M,U,q,B,F=this;return t=(e=this.getComputedState()).anchor,e.filteredOptions,n=e.highlightedUid,r=e.onAnchorChange,o=e.onOpenChange,i=e.onHighlightedUidChange,a=e.onSearchChange,s=e.onValuesChange,l=e.search,c=e.open,p=e.options,h=e.values,null!=(e=this.props)&&(m=e.autofocus,v=e.autosize,y=e.cancelKeyboardEventOnSelection,b=e.delimiters,E=e.disabled,C=e.dropdownDirection,w=e.groupId,O=e.groups,S=e.groupsAsColumns,_=e.hideResetButton,k=e.inputProps,T=e.name,j=e.onKeyboardSelectionFailed,x=e.renderToggleButton,D=e.renderGroupTitle,P=e.renderResetButton,N=e.serialize,A=e.tether,L=e.tetherProps,R=e.theme,I=e.transitionEnter,M=e.transitionLeave,U=e.transitionEnterTimeout,q=e.transitionLeaveTimeout,B=e.uid),f(g(g({autofocus:m,autosize:v,cancelKeyboardEventOnSelection:y,className:"multi-select "+this.props.className,delimiters:b,disabled:E,dropdownDirection:C,groupId:w,groups:O,groupsAsColumns:S,hideResetButton:_,highlightedUid:n,onHighlightedUidChange:i,inputProps:k,name:T,onKeyboardSelectionFailed:j,renderGroupTitle:D,renderResetButton:P,renderToggleButton:x,scrollLock:this.state.scrollLock,onScrollLockChange:function(e){return F.setState({scrollLock:e})},tether:A,tetherProps:L,theme:R,transitionEnter:I,transitionEnterTimeout:U,transitionLeave:M,transitionLeaveTimeout:q,uid:B,ref:"select",anchor:t,onAnchorChange:r,open:c,onOpenChange:o,options:p,renderOption:this.props.renderOption,firstOptionIndexToHighlight:function(){return F.firstOptionIndexToHighlight(p)},search:l,onSearchChange:function(e,t){return a(F.props.maxValues&&h.length>=F.props.maxValues?"":e,t)},values:h,onValuesChange:function(e,t){return s(e,function(){if(t(),F.props.closeOnSelect||F.props.maxValues&&F.values().length>=F.props.maxValues)return o(!1,function(){})})},renderValue:this.props.renderValue,serialize:N,onBlur:function(e){a("",function(){return F.props.onBlur({open:c,values:h,originalEvent:e})})},onFocus:function(e){F.props.onFocus({open:c,values:h,originalEvent:e})},onPaste:function(){var e;switch(!1){case void 0!==(null!=(e=this.props)?e.valuesFromPaste:void 0):return this.props.onPaste;default:return function(e){var t,n;return t=e.clipboardData,n=h.concat(F.props.valuesFromPaste(p,h,t.getData("text"))),s(n,function(){return r(u(n))}),d(e)}}}.call(this),placeholder:this.props.placeholder,style:this.props.style},function(){switch(!1){case"function"!=typeof this.props.restoreOnBackspace:return{restoreOnBackspace:this.props.restoreOnBackspace};default:return{}}}.call(this)),function(){switch(!1){case"function"!=typeof this.props.renderNoResultsFound:return{renderNoResultsFound:function(){return F.props.renderNoResultsFound(h,l)}};default:return{}}}.call(this)))},v.prototype.getComputedState=function(){var e,t,n,r,i,a,s,u,c,p,h,f,d,v,y,b,E=this;return e=this.props.hasOwnProperty("anchor")?this.props.anchor:this.state.anchor,t=this.props.hasOwnProperty("highlightedUid")?this.props.highlightedUid:this.state.highlightedUid,n=this.isOpen(),r=this.props.hasOwnProperty("search")?this.props.search:this.state.search,i=this.values(),s=(a=l(function(e){switch(!1){case!(E.props.hasOwnProperty(e)&&E.props.hasOwnProperty(o("on-"+e+"-change"))):return function(t,n){return E.props[o("on-"+e+"-change")](t,function(){}),E.setState({},n)};case!(E.props.hasOwnProperty(e)&&!E.props.hasOwnProperty(o("on-"+e+"-change"))):return function(e,t){return t()};case!(!E.props.hasOwnProperty(e)&&E.props.hasOwnProperty(o("on-"+e+"-change"))):return function(t,n){var r;return E.setState(((r={})[e+""]=t,r),function(){return n(),E.props[o("on-"+e+"-change")](t,function(){})})};case!(!E.props.hasOwnProperty(e)&&!E.props.hasOwnProperty(o("on-"+e+"-change"))):return function(t,n){var r;return E.setState(((r={})[e+""]=t,r),n)}}})(["anchor","highlightedUid","open","search","values"]))[0],u=a[1],c=a[2],p=a[3],h=a[4],f=function(){var e;switch(!1){case!(null!=(e=this.props)&&e.children):return l(function(e){var t,n,r;return null!=e&&(t=e.props),null!=t&&(n=t.value,r=t.children),{label:r,value:n}})("Array"===m.call(this.props.children).slice(8,-1)?this.props.children:[this.props.children]);default:return[]}}.call(this),d=this.props.hasOwnProperty("options")?null!=(a=this.props.options)?a:[]:f,v=this.props.filterOptions(d,i,r),b=((y=function(){switch(!1){case"function"!=typeof this.props.createFromSearch:return this.props.createFromSearch(v,i,r);default:return null}}.call(this))?[(a=g({},y),a.newOption=!0,a)]:[]).concat(v),{anchor:e,highlightedUid:t,search:r,values:i,onAnchorChange:s,onHighlightedUidChange:u,open:n,onOpenChange:function(e,t){c(function(){switch(!1){case!(void 0!==this.props.maxValues&&this.values().length>=this.props.maxValues):return!1;default:return e}}.call(E),t)},onSearchChange:p,onValuesChange:h,filteredOptions:v,options:b}},v.prototype.firstOptionIndexToHighlight=function(e){var t,n;return t=function(){var t;switch(!1){case 1!==e.length:case void 0!==(null!=(t=e[0])?t.newOption:void 0):return 0;default:return r(function(e){return"boolean"==typeof e.selectable&&!e.selectable})(i(1)(e))?0:1}}(),n=this.props.hasOwnProperty("search")?this.props.search:this.state.search,this.props.firstOptionIndexToHighlight(t,e,this.values(),n)},v.prototype.focus=function(){this.refs.select.focus()},v.prototype.blur=function(){this.refs.select.blur()},v.prototype.highlightFirstSelectableOption=function(){this.state.open&&this.refs.select.highlightAndScrollToSelectableOption(this.firstOptionIndexToHighlight(this.getComputedState().options),1)},v.prototype.values=function(){return this.props.hasOwnProperty("values")?this.props.values:this.state.values},v.prototype.isOpen=function(){return this.props.hasOwnProperty("open")?this.props.open:this.state.open},v}(p.Component)}).call(this)},1945:function(e,t,n){"use strict";n.r(t);var r=n(16),o=n.n(r),i=n(0),a=n.n(i),s=n(2),u=n(17),l=n(3),c=n(4),p=n(106),h=n(21),f=n(46);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function v(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C="unit",w="module",O="lesson",S="question",_=function(e){function t(){return d(this,t),v(this,y(t).apply(this,arguments))}return b(t,a.a.Component),g(t,[{key:"render",value:function(){var e,t=this.props.dragOver&&this.props.itemOver.uuid!=this.props.selfUuid;return t&&(e=a.a.createElement("div",{className:"dock-site"})),this.props.connectDropTarget(a.a.createElement("div",{className:"drop-target"+(t?" drag-over":"")},e,this.props.children))}}]),t}();_=Object(f.DropTarget)(function(e){return e.itemType},{drop:function(e,t){var n=t.getItem();n.uuid!==e.selfUuid&&e.onDrop(n)}},function(e,t){return{connectDropTarget:e.dropTarget(),dragOver:t.isOver(),itemOver:t.getItem()}})(_);var k=function(e){function t(){return d(this,t),v(this,y(t).apply(this,arguments))}return b(t,a.a.Component),g(t,[{key:"render",value:function(){return this.props.connectDropTarget(a.a.createElement("div",null,this.props.children))}}]),t}();k=Object(f.DropTarget)(function(e){return e.itemType},{hover:function(e,t,n){n.lastDragOver=Date.now(),n.timer||(n.timer=setTimeout(function(){n.timer=null,Date.now()-n.lastDragOver<200&&e.onDragHover()},500))}},function(e,t){return{connectDropTarget:e.dropTarget(),dragOver:t.isOver()}})(k);var T=n(311),j=n.n(T),x=n(342),D=n.n(x)()();function P(e){var t,n;t=Math.cos(e*(Math.PI/180)),n=Math.sin(e*(Math.PI/180));var r=Math.min(Math.max(Math.abs(t),1e-7),Math.max(Math.abs(n),1e-7));return r>1e-7&&(t/=r,n/=r),[t,n]}function N(e,t){if(null==e||null==t)return null;var n=Math.atan2(t,e)/Math.PI*180;return n<0&&(n+=360),n}var A=/^\s*([\d\.,]+)\\*\s*([\w\/]+)\s*$/;function L(e){return A.test(e)}function R(e){return e.match(A).slice(1,3)}var I=[188,13];function M(e){return 204===e.status||205===e.status?null:e.json()}function U(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}function q(e,t){return fetch(e,t).then(U).then(M)}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var F="/api/v1/editor/",H="/api/v1/profiles/",W=Object.freeze({REQUEST_ADD_CURRICULUM:"REQUEST_ADD_CURRICULUM",CURRICULA_LOADED:"CURRICULA_LOADED",ALL_CURRICULA_LOADED:"ALL_CURRICULA_LOADED",SEARCH_CURRICULA_LOADED:"SEARCH_CURRICULA_LOADED",SEARCH_UNITS_LOADED:"SEARCH_UNITS_LOADED",SEARCH_MODULES_LOADED:"SEARCH_MODULES_LOADED",SEARCH_LESSONS_LOADED:"SEARCH_LESSONS_LOADED",RECENT_CURRICULA_LOADED:"RECENT_CURRICULA_LOADED",POPULAR_CURRICULA_LOADED:"POPULAR_CURRICULA_LOADED",SEARCH_QUESTIONS_LOADED:"SEARCH_QUESTIONS_LOADED",NEW_CURRICULA_LOADED:"NEW_CURRICULA_LOADED",LOAD_CURRICULA:"LOAD_CURRICULA",PUBLIC_CURRICULUM_LOADED:"PUBLIC_CURRICULUM_LOADED",CURRICULUM_LOADED:"CURRICULUM_LOADED",RENAME_CURRICULUM:"RENAME_CURRICULUM",CHANGE_CURRICULUM_IMAGE:"CHANGE_CURRICULUM_IMAGE",DELETE_CURRICULUM:"DELETE_CURRICULUM",UNIT_LOADED:"UNIT_LOADED",UNIT_ADDED:"UNIT_ADDED",DELETE_UNIT:"DELETE_UNIT",MODULE_ADDED:"MODULE_ADDED",MODULE_LOADED:"MODULE_LOADED",DELETE_MODULE:"DELETE_MODULE",LESSON_LOADED:"LESSON_LOADED",LESSON_AVAILABLE:"LESSON_AVAILABLE",LESSON_ADDED:"LESSON_ADDED",DELETE_LESSON:"DELETE_LESSON",QUESTION_LOADED:"QUESTION_LOADED",QUESTION_ADDED:"QUESTION_ADDED",QUESTION_MOVED:"QUESTION_MOVED",PRESERVE_ANSWERS:"PRESERVE_ANSWERS",GOTO_QUESTION:"GOTO_QUESTION",DELETE_QUESTION:"DELETE_QUESTION",ANSWER_LOADED:"ANSWER_LOADED",ANSWER_ADDED:"ANSWER_ADDED",DELETE_ANSWER:"DELETE_ANSWER",SET_ANSWER_EXCLUSIVELY_CORRECT:"SET_ANSWER_EXCLUSIVELY_CORRECT",SET_ANSWER_IS_CORRECT:"SET_ANSWER_IS_CORRECT",STUDIO_TAB_CHANGED:"STUDIO_TAB_CHANGED",FOUND_USERS_LOADED:"FOUND_USERS_LOADED",FOUND_USERS_REQUEST:"FOUND_USERS_REQUEST",COURSE_NAVIGATION_COURSES_LOADED:"COURSE_NAVIGATION_COURSES_LOADED",COURSE_NAVIGATION_UNITS_LOADED:"COURSE_NAVIGATION_UNITS_LOADED",COURSE_NAVIGATION_MODULES_LOADED:"COURSE_NAVIGATION_MODULES_LOADED",COURSE_NAVIGATION_LESSONS_LOADED:"COURSE_NAVIGATION_LESSONS_LOADED"});function Q(e){return function(t){$.ajax({async:!0,url:F+"curricula/",method:"POST",data:{name:"New curriculum",prototype:e},success:function(e,n,r){t(te(e)),D.push("/studio/editor/curricula/"+e.uuid+"/")}})}}function z(e,t){var n,r,o,i=e[t],a=[];for(var s in e[t])a.push(s);return Object.assign(e,(o=a,(r=t)in(n={})?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n)),i}function V(e,t){var n={};for(var r in e)Object.assign(n,z(e[r],t));return n}function K(e,t,n){return function(r){var o={};t&&(o.filter=t),n&&(o.ordering=n);var i="";0!==Object.keys(o).length&&(i="?"+Object.entries(o).map(function(e){var t=B(e,2),n=t[0],r=t[1];return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`}).join("&")),$.ajax({async:!0,url:e||F+"public/curricula/"+i,context:this,success:function(e,o,i){r(function(e,t,n){var r=W.ALL_CURRICULA_LOADED;return"recent"===t&&(r=W.RECENT_CURRICULA_LOADED),"-created_on"===n&&(r=W.NEW_CURRICULA_LOADED),"-number_of_learners_denormalized"===n&&(r=W.POPULAR_CURRICULA_LOADED),{type:r,curricula:e}}(e,t,n))}})}}function X(){return function(e){e(K()),$.ajax({async:!0,url:F+"curricula/",context:this,success:function(t,n,r){e(function(e){var t=V(e,"units"),n=V(t,"modules");return{type:W.CURRICULA_LOADED,curricula:e,units:t,modules:n}}(t))}})}}function G(e,t){var n=F+"public/curricula/";return e&&(n=F+"public/curricula/search/?query="+e),t&&(n=t),function(e){$.ajax({async:!0,url:n,context:this,success:function(t,n,r){e(function(e){return{type:W.SEARCH_CURRICULA_LOADED,curriculaSearchList:e}}(t))}})}}function Y(e,t){var n=F+"public/units/";return e&&(n=F+"public/units/search/?query="+e),t&&(n=t),function(e){$.ajax({async:!0,url:n,context:this,success:function(t,n,r){e(function(e){return{type:W.SEARCH_UNITS_LOADED,untisSearchList:e}}(t))}})}}function J(e,t){var n=F+"public/modules/";return e&&(n=F+"public/modules/search/?query="+e),t&&(n=t),function(e){$.ajax({async:!0,url:n,context:this,success:function(t,n,r){e(function(e){return{type:W.SEARCH_MODULES_LOADED,modulesSearchList:e}}(t))}})}}function Z(e,t){var n=F+"public/lessons/";return e&&(n=F+"public/lessons/search/?query="+e),t&&(n=t),function(e){$.ajax({async:!0,url:n,context:this,success:function(t,n,r){e(function(e){return{type:W.SEARCH_LESSONS_LOADED,lessonsSearchList:e}}(t))}})}}function ee(e,t){var n=F+"public/questions/";return e&&(n=F+"public/questions/search/?query="+e),t&&(n=t),function(e){$.ajax({async:!0,url:n,context:this,success:function(t,n,r){e(function(e){return{type:W.SEARCH_QUESTIONS_LOADED,questionsSearchList:e}}(t))}})}}function te(e){var t=z(e,"units"),n=V(t,"modules");return{type:W.CURRICULUM_LOADED,curriculum:e,units:t,modules:n}}function ne(e,t){return function(n){$.ajax({url:F+"curricula/"+e+"/",type:"PATCH",data:{name:t},success:function(e,t,r){n(te(e))}})}}function re(e){return function(t){$.ajax({async:!0,url:F+"public/curricula/"+e+"/",success:function(e,n,r){t(function(e){return{type:W.PUBLIC_CURRICULUM_LOADED,publicCurriculum:e}}(e))}})}}function oe(e,t){$.ajax({async:!0,url:F+"curricula/"+e+"/",success:function(e,n,r){t(te(e))}})}function ie(e){return function(t){$.ajax({url:F+"curricula/"+e.uuid+"/",dataType:"json",contentType:"application/json",type:"PATCH",data:JSON.stringify(e),success:function(e,n,r){t(te(e))}})}}function ae(e,t){return function(n){var r=new FormData;r.append("image",t),$.ajax({url:F+"curricula/"+e+"/",type:"PATCH",processData:!1,contentType:!1,data:r,success:function(e){n(te(e))}})}}function se(e){return function(t){t({type:W.DELETE_CURRICULUM,uuid:e}),$.ajax({async:!0,url:F+"curricula/"+e+"/",method:"DELETE",success:function(e,t,n){D.push("/studio/")}})}}function ue(e,t){var n={name:"New unit",curriculum:e};return t&&(n.prototype=t.uuid,n.name=t.name),function(t){$.ajax({async:!0,url:F+"units/",method:"POST",data:n,success:function(n,r,o){oe(e,t),D.push("/studio/editor/curricula/"+e+"/")}})}}function le(e,t){return function(n){$.ajax({async:!0,url:F+"curricula/",method:"POST",data:{name:"New curriculum"},success:function(r,o,i){var a={name:"New unit",curriculum:r.uuid};"unit"===e&&(a.prototype=t.uuid,a.name=t.name),$.ajax({async:!0,url:F+"units/",method:"POST",data:a,success:function(r,o,i){if("unit"===e)oe(a.curriculum,n),D.push("/studio/editor/curricula/"+a.curriculum+"/");else{var s={name:"New module",unit:r.uuid};"module"===e&&(s.prototype=t.uuid,s.name=t.name),$.ajax({async:!0,url:F+"modules/",method:"POST",data:s,success:function(r,o,i){if("module"===e)oe(a.curriculum,n),D.push("/studio/editor/modules/"+r.uuid+"/");else{var s={name:"New lesson",module:r.uuid};"lesson"===e&&(s.prototype=t.uuid,s.name=t.name),$.ajax({async:!0,url:F+"lessons/",method:"POST",data:s,success:function(n,r,o){if("lesson"===e)D.push("/studio/editor/lessons/"+n.uuid+"/");else{var i={text:"New question",lesson:n.uuid};"question"===e&&(i.prototype=t.uuid,i.text=t.text),$.ajax({async:!0,method:"POST",url:F+"questions/",data:i,success:function(e,t,n){D.push("/studio/editor/lessons/"+e.lesson+"/")}})}}})}}})}}})}})}}function ce(e){return{type:W.UNIT_LOADED,unit:e,modules:z(e,"modules")}}function pe(e,t){var n={name:"New module",unit:e};return t&&(n.prototype=t.uuid,n.name=t.name),function(e){$.ajax({async:!0,url:F+"modules/",method:"POST",data:n,success:function(t,n,r){e(function(e){return{type:W.MODULE_ADDED,module:e,lessons:z(e,"lessons")}}(t)),D.push("/studio/editor/modules/"+t.uuid+"/")}})}}function he(e){return{type:W.MODULE_LOADED,module:e,lessons:z(e,"lessons")}}function fe(e){return function(t,n){e in n().modules&&"lessons"in n().modules[e]||$.ajax({async:!0,url:F+"modules/"+e+"/",success:function(e,n,r){t(he(e))}})}}function de(e,t){var n={name:"New lesson",module:e};return t&&(n.prototype=t.uuid,n.name=t.name),function(r){t&&r(fe(e)),$.ajax({async:!0,url:F+"lessons/",method:"POST",data:n,success:function(e,t,n){var o=z(e,"questions");r({type:W.LESSON_ADDED,lesson:e,questions:o,answers:V(o,"answers")}),D.push("/studio/editor/lessons/"+e.uuid+"/")}})}}function me(e){var t=z(e,"questions");return{type:W.LESSON_LOADED,lesson:e,questions:t,answers:V(t,"answers")}}function ge(e){return function(t,n){var r;e in n().lessons&&n().lessons[e].questions?t((r=n().lessons[e],{type:W.LESSON_AVAILABLE,lesson:r})):$.ajax({async:!0,url:F+"lessons/"+e+"/",success:function(e,n,r){t(me(e)),e.questions.length>0&&t(be(e.questions[0]))}})}}function ve(e,t,n){return function(r,o){var i,a=o(),s=a.modules[t];i=n?a.lessons[n].position:s&&s.lessons.length>0?a.lessons[s.lessons[s.lessons.length-1]].position+1:1,$.ajax({async:!0,url:F+"lessons/"+e+"/",method:"PATCH",data:{position:i,module:t},success:function(e,n,o){$.ajax({async:!0,url:F+"modules/"+t+"/",method:"GET",success:function(e,t,n){r(he(e))}})}})}}function ye(e){return{type:W.QUESTION_LOADED,question:e,answers:z(e,"answers")}}function be(e){return function(t,n){e in n().questions||$.ajax({async:!0,url:F+"questions/"+e+"/",success:function(e,n,r){t(ye(e))}})}}function Ee(e,t){return function(n,r){var o,i=r(),a={answer_type:t};i.preservedAnswers[e]&&(a.answers=JSON.stringify(i.preservedAnswers[e][t])),n((o=e,{type:W.PRESERVE_ANSWERS,question:o})),$.ajax({url:F+"questions/"+e+"/",type:"PATCH",data:a,success:function(e,t,r){n(ye(e))}})}}function Ce(e){return function(t){t({type:W.GOTO_QUESTION,question:e}),t(be(e))}}function we(e,t){var n={text:"New question",lesson:e};return t&&(n.prototype=t.uuid),function(r){$.ajax({async:!0,method:"POST",url:F+"questions/",data:n,success:function(n,o,i){var a;t?(D.push("/studio/editor/lessons/"+e+"/"),r((a=e,function(e,t){$.ajax({async:!0,url:F+"lessons/"+a+"/",success:function(t,n,r){e(me(t)),t.questions.length>0&&e(be(t.questions[0]))}})}))):r({type:W.QUESTION_ADDED,question:n})}})}}function Oe(e){return{type:W.ANSWER_LOADED,answer:e}}function Se(e,t){return function(n){$.ajax({url:F+"answers/"+e+"/",type:"PATCH",data:{text:t},success:function(e,t,r){n(Oe(e))}})}}function _e(e,t,n){return function(r){$.ajax({url:F+"answers/"+e+"/",type:"PATCH",data:{schema_SQL:t,query_SQL:n},success:function(e,t,n){r(Oe(e))},error:function(t){if(400===t.status){var n=null;t.responseJSON.hasOwnProperty("schema_SQL")?n=t.responseJSON.schema_SQL:t.responseJSON.hasOwnProperty("query_SQL")&&(n=t.responseJSON.query_SQL),n&&alert(n),r(function(e){return function(t){$.ajax({url:F+"answers/"+e+"/",type:"GET",success:function(e,n,r){t(Oe(e))}})}}(e))}}})}}function ke(e){return function(t){$.ajax({async:!0,url:F+"answers/",method:"POST",data:{text:"New answer",question:e},success:function(e,n,r){var o;t((o=e,{type:W.ANSWER_ADDED,answer:o}))}})}}function Te(e,t,n){return function(r,o){var i,a=o().answers[e];i=null!=a.angle?{angle:N(t,n),x_component:null,y_component:null}:null!=a.magnitude?{magnitude:Math.sqrt(t*t+n*n),angle:null,x_component:null,y_component:null}:{angle:null,x_component:t,y_component:n},$.ajax({url:F+"answers/"+e+"/",type:"PATCH",data:i,success:function(e,t,n){r(Oe(e))}})}}function je(e,t,n){return function(r,o){for(var i in n){if(!L(n[i]))return;n[i]=R(n[i]).join("\\ ")}var a=o().answers[e].conversion_steps.map(function(e){return Object.assign({},e)});Object.assign(a[t],n),$.ajax({url:F+"answers/"+e+"/",type:"PATCH",data:{conversion_steps:JSON.stringify(a)},success:function(e,t,n){r(Oe(e))}})}}function xe(e){return{type:W.FOUND_USERS_REQUEST,findUserRequest:e}}function De(e){return function(t,n){t(xe(!0)),$.ajax({url:H+"find?q="+e,type:"GET",success:function(e,n,r){t(function(e){return{type:W.FOUND_USERS_LOADED,foundUsers:e}}(e)),t(xe(!1))}})}}function Pe(){return function(e){$.ajax({async:!0,url:F+"curricula/",context:this,success:function(t,n,r){e(function(e){return{type:W.COURSE_NAVIGATION_COURSES_LOADED,courses:e}}(t));var o=V(t,"units");e(function(e){return{type:W.COURSE_NAVIGATION_UNITS_LOADED,units:e}}(o));var i=V(o,"modules");e(function(e){return{type:W.COURSE_NAVIGATION_MODULES_LOADED,modules:e}}(i))}})}}function Ne(e){return function(t){$.ajax({async:!0,url:F+"modules/"+e+"/",success:function(e,n,r){t(function(e){return{type:W.COURSE_NAVIGATION_LESSONS_LOADED,lessons:z(e,"lessons")}}(e))}})}}var Ae=n(1969);function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e){return e.image?a.a.createElement(Ae.a,{fluid:!0,src:e.image}):a.a.createElement(s.w,{size:"5rem"})}var qe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Ie(e):t}(this,Re(t).call(this,e))).handleChange=n.handleChange.bind(Ie(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(t,a.a.Component),n=t,(r=[{key:"handleChange",value:function(e){this.props.onChange(e.target.files[0])}},{key:"render",value:function(){return a.a.createElement("div",{className:"selectable-image"},a.a.createElement(Ue,{image:this.props.image}),a.a.createElement("input",{type:"file",name:"image",accept:"image/*",onChange:this.handleChange,style:{fontSize:"1px"}}))}}])&&Le(n.prototype,r),o&&Le(n,o),t}(),Be=n(1),Fe=n.n(Be),He=n(454);function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ke=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Qe(this,ze(t).call(this,e))).el=document.createElement("div"),n.el.id="full-screen-overlay",n.rootHtml=document.getElementsByTagName("body")[0],n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(t,a.a.PureComponent),n=t,(r=[{key:"componentDidMount",value:function(){this.rootHtml.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.rootHtml.removeChild(this.el)}},{key:"render",value:function(){return o.a.createPortal(this.props.children,this.el)}}])&&We(n.prototype,r),i&&We(n,i),t}(),$e=n(32);function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t,n){return t&&Ge(e.prototype,t),n&&Ge(e,n),e}function Je(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?et(e):t}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rt=function(e){function t(e,n){var r;return Xe(this,t),(r=Je(this,Ze(t).call(this,e,n))).handleClick=r.handleClick.bind(et(r)),r}return tt(t,a.a.Component),Ye(t,[{key:"handleClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onClick(e)}},{key:"render",value:function(){return a.a.createElement("div",{onClick:this.handleClick},this.props.children)}}]),t}();rt.propTypes={onClick:Fe.a.func};var ot=function(e){function t(e,n){var r;Xe(this,t),(r=Je(this,Ze(t).call(this,e,n))).onForkSelect=r.onForkSelect.bind(et(r)),r.onLearnSelect=r.onLearnSelect.bind(et(r)),r.onBack=r.onBack.bind(et(r)),r.addElementToNewCurriculum=r.addElementToNewCurriculum.bind(et(r)),r.onToggle=r.onToggle.bind(et(r));var o="",i="";e.unit?(o="unit",i=e.unit.uuid):e.module?(o="module",i=e.module.uuid):e.lesson?(o="lesson",i=e.lesson.uuid):e.question&&(o="question",i=e.question.uuid);var a=1;return e.preSelectMenuItem&&"fork"===e.preSelectMenuItem&&(a=2),r.state={level:a,baseName:o,uuid:i,menuOpen:!1,selectedCurriculum:null,selectedUnit:null,selectedModule:null,selectedLesson:null,showSpinnerOverlay:!1},r}return tt(t,a.a.Component),Ye(t,[{key:"onLearnSelect",value:function(e,t){t.stopPropagation(),"question"===this.state.baseName?window.open("/curriculum/lessons/"+this.props[this.state.baseName].lesson.uuid+"/","_blank"):window.open("/curriculum/"+this.state.baseName+"s/"+this.props[this.state.baseName].uuid+"/","_blank")}},{key:"componentDidMount",value:function(){this.props.loadNavigationCourses()}},{key:"onBack",value:function(e,t){t.stopPropagation(),this.setState({level:this.state.level-1,menuOpen:!0})}},{key:"onForkSelect",value:function(e,t){t.stopPropagation(),this.setState({level:2,menuOpen:!0})}},{key:"onSelectCurriculum",value:function(e,t,n){n.stopPropagation(),"unit"===this.state.baseName?(this.setState({showSpinnerOverlay:!0}),this.props.addUnit(e.uuid,this.props.unit)):this.setState({level:this.state.level+1,selectedCurriculum:e})}},{key:"onSelectUnit",value:function(e,t,n){n.stopPropagation(),"module"===this.state.baseName?(this.setState({showSpinnerOverlay:!0}),this.props.addModule(e.uuid,this.props.module)):this.setState({level:this.state.level+1,selectedUnit:e})}},{key:"onSelectModule",value:function(e,t,n){n.stopPropagation(),"lesson"===this.state.baseName?(this.setState({showSpinnerOverlay:!0}),this.props.addLesson(e.uuid,this.props.lesson)):(this.props.loadNavigationModule(e.uuid),this.setState({level:this.state.level+1,selectedModule:e}))}},{key:"onSelectLesson",value:function(e,t,n){"question"===this.state.baseName&&(this.setState({showSpinnerOverlay:!0}),this.props.addQuestion(e.uuid,this.props.question))}},{key:"addElementToNewCurriculum",value:function(){this.props.addToNewCurriculum(this.state.baseName,this.props[this.state.baseName])}},{key:"onToggle",value:function(e,t,n){n.source;e?this.setState({menuOpen:!0}):t||this.setState({menuOpen:!1})}},{key:"render",value:function(){var e=this,t=a.a.createElement(Ke,null,a.a.createElement("div",{className:"overlay-wrapper"},a.a.createElement("div",{className:"overlay-inner"},a.a.createElement($e.RingLoader,{color:"#1caff6",loading:Boolean(!0)})))),n=[];if(1===this.state.level){var r="Learn";"question"===this.state.baseName&&(r="Learn lesson with the question","Copy link to lesson"),n.push(a.a.createElement(He.a.Item,{onSelect:this.onLearnSelect,key:"1",eventKey:"1"},a.a.createElement(s.t,null)," ",r)),n.push(a.a.createElement(He.a.Item,{onSelect:this.onForkSelect,key:"3",eventKey:"3"},a.a.createElement(s.j,null)," Fork"))}if(2===this.state.level){this.props.preSelectMenuItem||n.push(a.a.createElement(He.a.Item,{onSelect:this.onBack,key:"21"},"< Back"));var o="";for(var i in"unit"!==this.state.baseName&&(o=a.a.createElement("span",{style:{float:"right"}},">")),this.props.courses){var u=this.props.courses[i];n.push(a.a.createElement(He.a.Item,{onSelect:this.onSelectCurriculum.bind(this,u),key:u.uuid},u.image?a.a.createElement(Ae.a,{style:{width:"2rem",height:"2rem",float:"left",paddingRight:"0.5rem"},src:u.image}):null,u.name,o))}n.push(a.a.createElement(He.a.Item,{onSelect:this.addElementToNewCurriculum,key:"4",eventKey:"4",style:{color:"blue"}},a.a.createElement(s.D,null)," Add ",this.state.baseName," to new curriculum"))}if(3===this.state.level){var l="";"module"!==this.state.baseName&&(l=a.a.createElement("span",{style:{float:"right"}},">")),n.push(a.a.createElement(He.a.Item,{onSelect:this.onBack,key:"21"},"< Back"));for(var c=0;c<this.state.selectedCurriculum.units.length;c++){var p=this.props.units[this.state.selectedCurriculum.units[c]];n.push(a.a.createElement(He.a.Item,{onSelect:this.onSelectUnit.bind(this,p),key:p.uuid},p.image?a.a.createElement(Ae.a,{style:{width:"2rem",height:"2rem",float:"left",paddingRight:"0.5rem"},src:p.image}):null,p.name,l))}}if(4===this.state.level){var h="";"lesson"!==this.state.baseName&&(h=a.a.createElement("span",{style:{float:"right"}},">")),n.push(a.a.createElement(He.a.Item,{onSelect:this.onBack,key:"21"},"< Back"));for(var f=0;f<this.state.selectedUnit.modules.length;f++){var d=this.props.modules[this.state.selectedUnit.modules[f]];n.push(a.a.createElement(He.a.Item,{onSelect:this.onSelectModule.bind(this,d),key:d.uuid},d.image?a.a.createElement(Ae.a,{style:{width:"2rem",height:"2rem",float:"left",paddingRight:"0.5rem"},src:d.image}):null,d.name,h))}}return 5===this.state.level&&(n.push(a.a.createElement(He.a.Item,{onSelect:this.onBack,key:"21"},"< Back")),Object.keys(this.props.lessons).forEach(function(t){var r=e.props.lessons[t];n.push(a.a.createElement(He.a.Item,{onSelect:e.onSelectLesson.bind(e,r),key:r.uuid},r.image?a.a.createElement(Ae.a,{style:{width:"2rem",height:"2rem",float:"left",paddingRight:"0.5rem"},src:r.image}):null,r.name))})),a.a.createElement(He.a,{style:{float:"right",cursor:"pointer"},id:"dropdown-menu-"+this.props.uuid,onToggle:this.onToggle,show:this.state.menuOpen},a.a.createElement(He.a.Toggle,{as:rt},this.props.children),a.a.createElement(He.a.Menu,null,n),this.state.showSpinnerOverlay&&t)}}]),t}();ot.propTypes={unit:Fe.a.object,lesson:Fe.a.object,module:Fe.a.object,preSelectMenuItem:Fe.a.string};var it=Object(l.connect)(function(e){return{courses:e.courseNavigation.courses,units:e.courseNavigation.units,modules:e.courseNavigation.modules,lessons:e.courseNavigation.lessons}},function(e){return{dispatch:e,addUnit:function(t,n){return e(ue(t,n))},addModule:function(t,n){return e(pe(t,n))},addLesson:function(t,n){return e(de(t,n))},addQuestion:function(t,n){return e(we(t,n))},addToNewCurriculum:function(t,n){return e(le(t,n))},loadNavigationCourses:function(){return e(Pe())},loadNavigationModule:function(t){return e(Ne(t))}}})(ot);function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ct=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),st(this,ut(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return this.props.connectDragPreview(a.a.createElement("div",{className:"lesson-thumbnail editor-col-md-1 module-accessible-block draggable",onClick:this.props.onClick,style:{display:this.props.isDragging?"none":"block"}},this.props.connectDragSource(a.a.createElement("span",{className:"drag-handle"},a.a.createElement(s.u,null))),a.a.createElement("div",{className:"thumbnail section-thumbnail"},a.a.createElement(Ue,{image:this.props.image})),a.a.createElement("span",{style:{position:"absolute",top:"5px",right:"5px",cursor:"pointer"}},a.a.createElement(it,{lesson:{uuid:this.props.uuid}},a.a.createElement(s.v,null))),a.a.createElement("div",null,this.props.name)))}}])&&at(n.prototype,r),o&&at(n,o),t}();ct=Object(f.DragSource)(O,{beginDrag:function(e){return{uuid:e.uuid}}},function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})(ct);var pt=Object(l.connect)(function(e,t){var n=e.lessons[t.uuid];return{name:n.name,image:n.image,onClick:function(){D.push("/studio/editor/lessons/"+t.uuid+"/")}}})(ct);function ht(){return(ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mt(e,t,n){return t&&dt(e.prototype,t),n&&dt(e,n),e}function gt(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?yt(e):t}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ct={extensions:["tex2jax.js"],jax:["input/TeX","output/HTML-CSS"],tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0},"HTML-CSS":{availableFonts:["TeX"]}},wt=function(e){function t(e){var n;return ft(this,t),(n=gt(this,vt(t).call(this,e))).state={editing:!1},n.handleEditClick=n.handleEditClick.bind(yt(n)),n.handleInputChange=n.handleInputChange.bind(yt(n)),n.handleInputBlur=n.handleInputBlur.bind(yt(n)),n.handleFormSubmit=n.handleFormSubmit.bind(yt(n)),n.handleInputKeyUp=n.handleInputKeyUp.bind(yt(n)),n.setInputRef=n.setInputRef.bind(yt(n)),n}return bt(t,a.a.Component),mt(t,[{key:"handleEditClick",value:function(e){var t=this.props.value;this.props.value===this.props.defaultValue&&(t=""),this._inputRef&&this.focus(),this.setState({editing:!0,value:t})}},{key:"setInputRef",value:function(e){this._inputRef=e,e&&this.state.editing&&this.focus()}},{key:"focus",value:function(){this._inputRef.focus();var e=this._inputRef.value;this._inputRef.value="",this._inputRef.value=e}},{key:"handleInputChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleInputBlur",value:function(e){this.save()}},{key:"handleInputKeyUp",value:function(e){27===e.which&&this.setState({editing:!1})}},{key:"handleFormSubmit",value:function(e){return e.preventDefault(),this.save(),!1}},{key:"save",value:function(){this.setState({editing:!1}),this.props.onChange(this.state.value)}},{key:"componentDidMount",value:function(){MathJax.Hub.Config(Ct),MathJax.Hub.Queue(["Typeset",MathJax.Hub])}},{key:"componentDidUpdate",value:function(){MathJax.Hub.Config(Ct),MathJax.Hub.Queue(["Typeset",MathJax.Hub])}},{key:"render",value:function(){return this.state.editing?a.a.createElement("form",{onSubmit:this.handleFormSubmit,style:{display:"inline"}},this.props&&"textarea"!==this.props.type?a.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleInputChange,onBlur:this.handleInputBlur,ref:this.setInputRef,onKeyUp:this.handleInputKeyUp}):a.a.createElement("textarea",{rows:"10",style:{width:"100%"},value:this.state.value,onChange:this.handleInputChange,onBlur:this.handleInputBlur,ref:this.setInputRef,onKeyUp:this.handleInputKeyUp})):a.a.createElement("span",{className:"editable-label"+(this.props.value&&this.props.value.trim()||this.props.defaultValue?"":" empty"),onClick:this.handleEditClick},a.a.createElement("span",null,this.props.value||this.props.defaultValue),a.a.createElement(s.C,{className:"glyphicon-pencil"}))}}]),t}(),Ot=function(e){function t(){return ft(this,t),gt(this,vt(t).apply(this,arguments))}return bt(t,wt),mt(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.value;e.editMode&&(this.props.value===this.props.defaultValue&&(t=""),this._inputRef&&this.focus(),this.setState({editing:!0,value:t}))}},{key:"render",value:function(){var e={type:"text",value:this.state.value||"",onChange:this.handleInputChange,onBlur:this.handleInputBlur,ref:this.setInputRef,onKeyUp:this.handleInputKeyUp},t=a.a.createElement("input",e);return this.props.textArea&&(t=a.a.createElement("textarea",ht({},e,{style:{width:"90%"}}))),this.state.editing?a.a.createElement("form",{onSubmit:this.handleFormSubmit,style:{display:"inline"}},t):a.a.createElement("span",{className:"editable-label"+(this.props.value&&this.props.value.trim()||this.props.defaultValue?"":" empty"),onClick:this.handleEditClick,style:{whiteSpace:"pre-line"}},a.a.createElement("span",null,this.props.value||this.props.defaultValue))}}]),t}();function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?kt(e):t}(this,_t(t).call(this,e))).handleClick=n.handleClick.bind(kt(n)),n.handleDragHover=n.handleDragHover.bind(kt(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(t,a.a.Component),n=t,(r=[{key:"handleClick",value:function(e){e.preventDefault(),D.push(this.props.link)}},{key:"handleDragHover",value:function(e){D.push(this.props.link)}},{key:"render",value:function(){return a.a.createElement(k,{onDragHover:this.handleDragHover,itemType:O},a.a.createElement("a",{href:D.createHref({pathname:this.props.link}),onClick:this.handleClick,className:"btn btn-light btn-back"},a.a.createElement(s.g,{size:"2rem"})))}}])&&St(n.prototype,r),o&&St(n,o),t}(),xt=n(280);function Dt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function At(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rt,It,Mt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?At(e):t}(this,Nt(t).call(this,e))).handleDeleteClick=n.handleDeleteClick.bind(At(n)),n.handleTagDelete=n.handleTagDelete.bind(At(n)),n.handleTagAddition=n.handleTagAddition.bind(At(n)),e.hasOwnProperty("tags")&&e.tags?n.state={tags:e.tags.map(function(e){return{id:e,text:e}})}:n.state={tags:[]},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(t,a.a.Component),n=t,(r=[{key:"handleDeleteClick",value:function(e){e.preventDefault(),confirm('This will permanently delete module "'+this.props.name+'" with all its lessons. Are you sure?')&&this.props.onDeleteClick()}},{key:"handleTagDelete",value:function(e){var t=this.state.tags;this.props.onDeleteTag(t[e]),this.setState({tags:t.filter(function(t,n){return n!==e})})}},{key:"handleTagAddition",value:function(e){this.setState(function(t){return{tags:[].concat(Dt(t.tags),[e])}}),this.props.onAddTag(e)}},{key:"componentWillUpdate",value:function(e,t,n){if(e.tags&&e.tags!==this.props.tags){var r=e.tags.map(function(e){return{id:e,text:e}});this.setState({tags:r})}}},{key:"render",value:function(){if(this.props.loading)return a.a.createElement("div",null,"Loading...");for(var e=[],t=0;t<this.props.lessons.length;t++)e.push(a.a.createElement(_,{key:this.props.lessons[t],onDrop:this.props.onLessonDroppedBefore.bind(null,this.props.lessons[t]),itemType:O,selfUuid:this.props.lessons[t]},a.a.createElement(pt,{uuid:this.props.lessons[t]})));return a.a.createElement("div",{className:"module"},a.a.createElement(jt,{link:"/studio/editor/curricula/"+this.props.curriculum+"/"}),a.a.createElement("h1",null,a.a.createElement(qe,{image:this.props.image,onChange:this.props.onImageChange}),a.a.createElement(wt,{value:this.props.name,onChange:this.props.onNameChange,defaultValue:"New module"}),a.a.createElement(s.H,{onClick:this.handleDeleteClick})),a.a.createElement("div",{className:"row",style:{paddingLeft:"1rem"}},a.a.createElement(xt.WithOutContext,{tags:this.state.tags,placeholder:"Add new module tag",inputFieldPosition:"inline",handleDelete:this.handleTagDelete,handleAddition:this.handleTagAddition,allowDragDrop:Boolean(!1),delimiters:I})),a.a.createElement("div",{className:"row"},e,a.a.createElement(_,{onDrop:this.props.onLessonDroppedBefore.bind(null,null),itemType:O},a.a.createElement("div",{className:"editor-col-md-1 module-accessible-block btn-add-lesson",onClick:this.props.onAddLessonClick},a.a.createElement("div",{className:"thumbnail section-thumbnail"},a.a.createElement(s.E,{size:"5rem"})),"Add lesson"))))}}])&&Pt(n.prototype,r),o&&Pt(n,o),t}(),Ut=Object(l.connect)(function(e,t){var n=e.modules[t.uuid];return n?{loading:!1,name:n.name,tags:n.tags,image:n.image,lessons:n.lessons||[],curriculum:n.curriculum}:{loading:!0}},function(e,t){return{onImageChange:function(n){return e(function(e,t){return function(n){var r=new FormData;r.append("image",t),$.ajax({url:F+"modules/"+e+"/",type:"PATCH",processData:!1,contentType:!1,data:r,success:function(e){n(he(e))}})}}(t.uuid,n))},onNameChange:function(n){return e((r=t.uuid,o=n,function(e){$.ajax({url:F+"modules/"+r+"/",type:"PATCH",data:{name:o},success:function(t,n,r){e(he(t))}})}));var r,o},onDeleteClick:function(){return e((n=t.uuid,function(e,t){var r=t(),o=r.modules[n].curriculum;e({type:W.DELETE_MODULE,unitUuid:r.modules[n].unit,uuid:n}),$.ajax({async:!0,url:F+"modules/"+n+"/",method:"DELETE",success:function(e,t,n){D.push("/studio/editor/curricula/"+o+"/")}})}));var n},onAddTag:function(n){return e(function(e,t){return function(n){q(F+"modules/"+e+"/tags/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRFToken":getCookie("csrftoken")},body:JSON.stringify({tag:t.text})})}}(t.uuid,n))},onDeleteTag:function(n){return e(function(e,t){return function(n){q(F+"modules/"+e+"/tags/",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRFToken":getCookie("csrftoken")},body:JSON.stringify({tag:t.text})})}}(t.uuid,n))},onLessonDroppedBefore:function(n,r){return e(ve(r.uuid,t.uuid,n))},onAddLessonClick:function(){return e(de(t.uuid))}}})(Mt),qt=n(340),Bt=n.n(qt),Ft=n(376),Ht=n.n(Ft);function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qt=Object.freeze({UNDEFINED:0,MULTIPLE_CHOICE:100,MULTISELECT_CHOICE:110,VECTOR:20,NULLABLE_VECTOR:30,MATHEMATICAL_EXPRESSION:50,VECTOR_COMPONENTS:60,UNIT_CONVERSION:70,TEXT:80,MYSQL:90}),zt=Object.freeze((Wt(Rt={},Qt.UNDEFINED,"Please select"),Wt(Rt,Qt.MULTIPLE_CHOICE,"Multiple choices"),Wt(Rt,Qt.MULTISELECT_CHOICE,"Multiple choices with more than one correct choice"),Wt(Rt,Qt.VECTOR,"Vector"),Wt(Rt,Qt.NULLABLE_VECTOR,"Nullable vector"),Wt(Rt,Qt.MATHEMATICAL_EXPRESSION,"Mathematical expression"),Wt(Rt,Qt.VECTOR_COMPONENTS,"Vector components"),Wt(Rt,Qt.UNIT_CONVERSION,"Unit conversion"),Wt(Rt,Qt.TEXT,"Text"),Wt(Rt,Qt.MYSQL,"MySQL"),Rt)),Vt=Object.freeze({LEFT_SIDE_BLANK:10,RIGHT_SIDE_BLANK:20,ALL_SIDES_BLANK:30}),Kt=Object.freeze((Wt(It={},Vt.LEFT_SIDE_BLANK,"Left side blank"),Wt(It,Vt.RIGHT_SIDE_BLANK,"Right side blank"),Wt(It,Vt.ALL_SIDES_BLANK,"Both sides blank"),It));function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xt(this,Gt(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yt(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=a.a.createElement(qe,{image:this.props.image,onChange:this.props.onImageChange}),t=a.a.createElement("input",{type:this.props.exclusive?"radio":"checkbox",onChange:this.props.onSelectChange,value:this.props.text,checked:this.props.is_correct}),n=a.a.createElement(wt,{value:this.props.text,defaultValue:"New answer",onChange:this.props.onTextChange}),r=a.a.createElement(s.H,{onClick:this.onDeleteClick});return this.props.withThumbnail?a.a.createElement("div",{className:"answer-choice editor-col-md-1 module-accessible-block with-image"},a.a.createElement("div",{className:"thumbnail"},e),a.a.createElement("div",null,t," ",n," ",r)):a.a.createElement("div",{className:"answer-choice answer-button without-image"},t," ",n," ",e," ",r)}}])&&$t(n.prototype,r),o&&$t(n,o),t}(),Zt=Object(l.connect)(function(e,t){var n=e.answers[t.uuid];return{text:n.text,image:n.image,is_correct:n.is_correct}},function(e,t){return{onTextChange:function(n){return e(Se(t.uuid,n))},onImageChange:function(n){return e((r=t.uuid,o=n,function(e){var t=new FormData;t.append("image",o),$.ajax({url:F+"answers/"+r+"/",type:"PATCH",processData:!1,contentType:!1,data:t,success:function(e){}})}));var r,o},onSelectChange:function(n){return e((r=t.uuid,o=n.target.checked,i=t.exclusive,function(e){$.ajax({async:!0,url:F+"answers/"+r+"/",method:"PATCH",data:{is_correct:o},success:function(t,n,a){e(i?{type:W.SET_ANSWER_EXCLUSIVELY_CORRECT,answer:r}:{type:W.SET_ANSWER_IS_CORRECT,answer:r,is_correct:o})}})}));var r,o,i},onDeleteClick:function(){return e((n=t.uuid,function(e,t){var r=t().answers[n].question;e({type:W.DELETE_ANSWER,questionUuid:r,uuid:n}),$.ajax({async:!0,url:F+"answers/"+n+"/",method:"DELETE",success:function(e,t,n){}})}));var n}}})(Jt);function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rn(e,t){return(rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var on=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tn(this,nn(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rn(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=[];for(var n in this.props.answers)t.push(a.a.createElement(Zt,{key:this.props.answers[n],uuid:this.props.answers[n],exclusive:this.props.exclusive,withThumbnail:this.props.hasPictures}));return a.a.createElement("div",null,t,a.a.createElement("div",{className:"editor-col-md-1 module-accessible-block add-answer",onClick:function(t){t.preventDefault(),e.props.onAddAnswerClick()}},"+ Add answer"))}}])&&en(n.prototype,r),o&&en(n,o),t}();function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ln(e,t){return(ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cn=MathQuill.getInterface(2),pn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?un(e):t}(this,sn(t).call(this,e))).state={editing:!1},n.handleEditClick=n.handleEditClick.bind(un(n)),n.handleEnterPressed=n.handleEnterPressed.bind(un(n)),n.setLabelRef=n.setLabelRef.bind(un(n)),n.setEditorRef=n.setEditorRef.bind(un(n)),n.setButtonRef=n.setButtonRef.bind(un(n)),n.handleDocumentClick=n.handleDocumentClick.bind(un(n)),n.handleDocumentKeyPress=n.handleDocumentKeyPress.bind(un(n)),n.handleButtonClick=n.handleButtonClick.bind(un(n)),n._buttonsRefs=[],n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ln(e,t)}(t,a.a.Component),n=t,(r=[{key:"handleEditClick",value:function(e){this.setState({editing:!0,value:this.props.value})}},{key:"save",value:function(){var e=this._editorMQ.latex();this.setState({editing:!1}),this.props.onChange(e),this.detachBlurHandlers()}},{key:"handleEnterPressed",value:function(e){return this.save(),!1}},{key:"setLabelRef",value:function(e){this._label=e,null==this._label&&this._labelMQ&&this._labelMQ.revert()}},{key:"setEditorRef",value:function(e){this._editor=e,null==this._editor&&this._editorMQ&&(this._editorMQ.revert(),this.detachBlurHandlers())}},{key:"setButtonRef",value:function(e,t){this._buttonsRefs[e]=t}},{key:"registerBlurHandlers",value:function(){document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keyup",this.handleDocumentKeyPress)}},{key:"detachBlurHandlers",value:function(){document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keyup",this.handleDocumentKeyPress)}},{key:"handleDocumentKeyPress",value:function(e){27==e.which&&this.doBlur()}},{key:"handleDocumentClick",value:function(e){this._editor.contains(e.target)||this.save()}},{key:"doBlur",value:function(){this.detachBlurHandlers(),this.setState({editing:!1})}},{key:"componentWillUnmount",value:function(){this.detachBlurHandlers()}},{key:"enableMQ",value:function(){if(this.state.editing)for(var e in this._editorMQ=cn.MathField(this._editor,{handlers:{edit:this.handleInputChange,enter:this.handleEnterPressed}}),this._editorMQ.focus(),this.registerBlurHandlers(),this._buttonsRefs)cn.StaticMath(this._buttonsRefs[e]);else this._labelMQ=cn.StaticMath(this._label)}},{key:"handleButtonClick",value:function(e,t){t.preventDefault(),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),this._editorMQ.write(this.props.buttons[e]),this._editorMQ.focus()}},{key:"componentDidMount",value:function(){this.enableMQ()}},{key:"componentDidUpdate",value:function(){this.enableMQ()}},{key:"render",value:function(){var e;if(this.state.editing&&this.props.buttons){var t=[];for(var n in this.props.buttons)t.push(a.a.createElement("a",{className:"mq-editor-button",key:n,ref:this.setButtonRef.bind(null,n),onClick:this.handleButtonClick.bind(null,n)},this.props.buttons[n]));e=a.a.createElement("span",{className:"buttons"},t)}var r=!this.props.value||0==this.props.value.replace(/\\/g,"").trim().length;return a.a.createElement("span",{className:"mq-editable-label"+(r?" empty":"")},a.a.createElement("span",{onClick:this.handleEditClick,className:this.state.editing?"editing":"",ref:this.state.editing?this.setEditorRef:this.setLabelRef,key:this.state.editing?"editing":""},this.props.value),!this.state.editing&&a.a.createElement(s.C,{onClick:this.handleEditClick,className:"glyphicon-pencil"}),e)}}])&&an(n.prototype,r),o&&an(n,o),t}();function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mn(e,t){return(mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fn(this,dn(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mn(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("div",{className:"module-accessible-block mathematical-expression"},a.a.createElement(pn,{value:this.props.representation,onChange:this.props.onRepresentationChange}))}}])&&hn(n.prototype,r),o&&hn(n,o),t}(),vn=Object(l.connect)(function(e,t){return{representation:e.answers[t.uuid].representation}},function(e,t){return{onRepresentationChange:function(n){return e(function(e,t){return function(n){$.ajax({url:F+"answers/"+e+"/",type:"PATCH",data:{representation:t},success:function(e,t,r){n(Oe(e))}})}}(t.uuid,n))}}})(gn),yn=n(382),bn=n.n(yn);function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function On(e,t){return(On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Sn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?wn(e):t}(this,Cn(t).call(this,e))).changeText=n.changeText.bind(wn(n)),n.state={text:e.text},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentWillReceiveProps",value:function(e,t){e.text!==this.props.text&&this.setState({text:e.text})}},{key:"changeText",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.setState({text:e.target.value}),this.timeout=setTimeout(function(){t.props.onTextChange(t.state.text)},500)}},{key:"render",value:function(){return a.a.createElement(bn.a.Group,null,a.a.createElement(bn.a.Control,{as:"textarea",rows:"3",value:this.state.text,onChange:this.changeText}))}}])&&En(n.prototype,r),o&&En(n,o),t}(),_n=Object(l.connect)(function(e,t){return{text:e.answers[t.uuid].text}},function(e,t){return{onTextChange:function(n){return e(Se(t.uuid,n))}}})(Sn),kn=n(81),Tn=n.n(kn),jn=n(313),xn=n.n(jn);n(397),n(636),n(637);function Dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pn(e){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ln=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Nn(e):t}(this,Pn(t).call(this,e))).handleClickBuildSchemaSQL=n.handleClickBuildSchemaSQL.bind(Nn(n)),n.generateOutputAndSave=n.generateOutputAndSave.bind(Nn(n)),n.changeSchemaSQL=n.changeSchemaSQL.bind(Nn(n)),n.changeQuerySQL=n.changeQuerySQL.bind(Nn(n)),n.state={schema_SQL:e.schema_SQL,query_SQL:e.query_SQL,text:e.text},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentWillReceiveProps",value:function(e,t){e!==this.props&&this.setState(e)}},{key:"changeSchemaSQL",value:function(e){this.setState({schema_SQL:e})}},{key:"changeQuerySQL",value:function(e){this.setState({query_SQL:e})}},{key:"handleClickBuildSchemaSQL",value:function(){this.state.schema_SQL&&this.props.onChangeMySQL(this.state.schema_SQL,this.state.query_SQL)}},{key:"generateOutputAndSave",value:function(){this.state.schema_SQL&&this.state.query_SQL&&this.props.onChangeMySQL(this.state.schema_SQL,this.state.query_SQL)}},{key:"render",value:function(){return a.a.createElement(bn.a.Group,null,a.a.createElement(xn.a,{placeholder:"Schema Panel\nUse this panel to setup your database problem (CREATE TABLE, INSERT, and whatever other statements you need to prepare a representative sample of your real database).",onChange:this.changeSchemaSQL,value:this.state.schema_SQL,showPrintMargin:!0,showGutter:!0,mode:"mysql",theme:"textmate",height:"20rem",setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!0,tabSize:2}}),a.a.createElement("br",null),a.a.createElement(Tn.a,{variant:"primary",onClick:this.handleClickBuildSchemaSQL},"Build Schema"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(xn.a,{placeholder:"Query Panel\nUse this panel to create SQL query for SELECT from database",onChange:this.changeQuerySQL,value:this.state.query_SQL,showPrintMargin:!0,showGutter:!0,readOnly:this.props&&!this.props.schema_is_valid,mode:"mysql",theme:"textmate",height:"20rem",setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!0,tabSize:2}}),a.a.createElement("br",null),a.a.createElement(Tn.a,{disabled:this.props&&!this.props.schema_is_valid,variant:"primary",onClick:this.generateOutputAndSave},"Generate output & save answer"),this.props&&this.props.text?a.a.createElement("div",null,a.a.createElement("br",null),a.a.createElement("h3",null,"Expected output"),a.a.createElement("pre",null,this.props.text)):null)}}])&&Dn(n.prototype,r),o&&Dn(n,o),t}(),Rn=Object(l.connect)(function(e,t){var n=e.answers[t.uuid];return{text:n.text,schema_SQL:n.schema_SQL,query_SQL:n.query_SQL,schema_is_valid:n.schema_is_valid}},function(e,t){return{onChangeMySQL:function(n,r){return e(_e(t.uuid,n,r))}}})(Ln),In=n(27);function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Un(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qn(e){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bn(e,t){return(Bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Un(this,qn(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bn(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e,t,n=this;if(null!=this.props.x_component){var r={x:In.d.calcVectorXStart(this.props.x_component),y:In.d.calcVectorYStart(this.props.y_component)},o={x:r.x+In.d.calcCanvasMagnitude(this.props.x_component),y:r.y-In.d.calcCanvasMagnitude(this.props.y_component)};(e=new In.b(null,r,"green")).complete(o),t=[e]}return a.a.createElement("div",null,a.a.createElement(In.d,{clear:!0,objects:t,allowInput:!0,updateAnswer:function(e){return n.props.onVectorChanged(e[1].vector.x_component,e[1].vector.y_component)},question:{uuid:this.props.question}}),a.a.createElement("select",{value:this.props.vectorCheckType,onChange:this.props.onVectorCheckTypeChanged},a.a.createElement("option",{value:"full"},"Check answer for full vector match"),a.a.createElement("option",{value:"angle"},"Only check angle"),a.a.createElement("option",{value:"magnitude"},"Only check magnitude")),this.props.allowNull&&a.a.createElement("div",null,a.a.createElement("a",{href:"",onClick:function(e){e.preventDefault(),n.props.onSetNull()}},"Clear (set to null vector)")))}}])&&Mn(n.prototype,r),o&&Mn(n,o),t}();function Hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Wn=Object(l.connect)(function(e,t){var n,r,o,i=e.answers[t.uuid];if(null!=i.x_component)n=i.x_component,r=i.y_component,o="full";else if(null!=i.angle){var a=Hn(P(i.angle),2);n=a[0],r=a[1],o="angle"}else n=i.magnitude,r=0,o="magnitude";return{question:i.question,x_component:n,y_component:r,vectorCheckType:o}},function(e,t){return{onVectorChanged:function(n,r){return e(Te(t.uuid,n,r))},onVectorCheckTypeChanged:function(n){return e((r=t.uuid,o=n.target.value,function(e,t){var n,i=t().answers[r];if("angle"===o)n={x_component:null,y_component:null,angle:i.angle||N(i.x_component,i.y_component)||0,magnitude:null};else if("full"===o){var a,s;if(null!=i.angle){var u=B(P(i.angle),2);a=u[0],s=u[1]}else a=i.magnitude,s=0;n={x_component:i.x_component||a,y_component:i.y_component||s,angle:null,magnitude:null}}else if("magnitude"===o){var l=1;i.x_component&&(l=Math.sqrt(i.x_component*i.x_component+i.y_component*i.y_component)),n={x_component:null,y_component:null,angle:null,magnitude:l}}$.ajax({url:F+"answers/"+r+"/",type:"PATCH",data:n,success:function(t,n,r){e(Oe(t))}})}));var r,o},onSetNull:function(){return e(Te(t.uuid,null,null))}}})(Fn);function Qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kn(e,t){return(Kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zn(this,Vn(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kn(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=[];for(var n in Kt)t.push(a.a.createElement("option",{key:n,value:n},Kt[n]));var r=[];for(var o in this.props.conversion_steps)r.push(a.a.createElement("div",{className:"conversion-step",key:o},a.a.createElement("div",{className:"numerator"},a.a.createElement(wt,{value:this.props.conversion_steps[o].numerator.replace("\\ "," "),onChange:this.props.onStepNumeratorChanged.bind(null,o)})),a.a.createElement("div",{className:"denominator"},a.a.createElement(wt,{value:this.props.conversion_steps[o].denominator.replace("\\ "," "),onChange:this.props.onStepDenominatorChanged.bind(null,o)}))));return a.a.createElement("div",{className:"unit-conversion"+(this.props.is_consistent?"":" inconsistent")},a.a.createElement("select",{onChange:this.props.onTypeChange,value:this.props.unit_conversion_type},t),a.a.createElement("div",{className:"conversion-row"},a.a.createElement("div",{className:"conversion-steps"},a.a.createElement("div",{className:"conversion-step"},a.a.createElement("div",{className:"numerator"},a.a.createElement(wt,{value:this.props.question_number+" "+this.props.question_unit,onChange:this.props.onQuestionValueChange})),a.a.createElement("div",{className:"denominator"}," ")),r),a.a.createElement("div",{className:"add-remove-steps"},a.a.createElement("a",{href:"",onClick:function(t){t.preventDefault(),e.props.onAddStepClick()},className:"hover-button"},a.a.createElement("span",{className:"glyphicon glyphicon-plus"})," Add Step")," ",a.a.createElement("br",null),a.a.createElement("a",{href:"",onClick:function(t){t.preventDefault(),e.props.conversion_steps.length>1&&e.props.onRemoveStepClick()},className:"hover-button"+(this.props.conversion_steps.length<=1?" disabled":"")},a.a.createElement("span",{className:"glyphicon glyphicon-minus"})," Remove Step")),a.a.createElement("div",{className:"equals"}," = "),a.a.createElement("div",{className:"conversion-result"},a.a.createElement(wt,{value:this.props.answer_number+" "+this.props.answer_unit,onChange:this.props.onAnswerValueChange}))),!this.props.is_consistent&&a.a.createElement("div",{className:"alert alert-warning",role:"alert"},"This conversion is inconsistent or incomplete. Please correct or complete it"))}}])&&Qn(n.prototype,r),o&&Qn(n,o),t}(),Xn=Object(l.connect)(function(e,t){var n=e.answers[t.uuid];return{question:n.question,unit_conversion_type:n.unit_conversion_type,conversion_steps:n.conversion_steps,question_number:n.question_number||"",question_unit:n.question_unit||"",answer_number:n.answer_number||"",answer_unit:n.answer_unit||"",is_consistent:n.is_consistent}},function(e,t){return{onTypeChange:function(n){return e((r=t.uuid,o=n.target.value,function(e){$.ajax({url:F+"answers/"+r+"/",type:"PATCH",data:{unit_conversion_type:o},success:function(t,n,r){e(Oe(t))}})}));var r,o},onQuestionValueChange:function(n){return e(function(e,t){return function(n){if(L(t)){var r,o,i=B(R(t),2);r=i[0],o=i[1],$.ajax({url:F+"answers/"+e+"/",type:"PATCH",data:{question_number:r,question_unit:o},success:function(e,t,r){n(Oe(e))}})}}}(t.uuid,n))},onAnswerValueChange:function(n){return e(function(e,t){return function(n){if(L(t)){var r,o,i=B(R(t),2);r=i[0],o=i[1],$.ajax({url:F+"answers/"+e+"/",type:"PATCH",data:{answer_number:r,answer_unit:o},success:function(e,t,r){n(Oe(e))}})}}}(t.uuid,n))},onStepNumeratorChanged:function(n,r){return e(je(t.uuid,n,{numerator:r}))},onStepDenominatorChanged:function(n,r){return e(je(t.uuid,n,{denominator:r}))},onAddStepClick:function(){return e((n=t.uuid,function(e,t){var r=t().answers[n].conversion_steps.map(function(e){return Object.assign({},e)});r.push({numerator:"",denominator:""}),$.ajax({url:F+"answers/"+n+"/",type:"PATCH",data:{conversion_steps:JSON.stringify(r)},success:function(t,n,r){e(Oe(t))}})}));var n},onRemoveStepClick:function(){return e((n=t.uuid,function(e,t){var r=t().answers[n].conversion_steps.map(function(e){return Object.assign({},e)});r.pop(),$.ajax({url:F+"answers/"+n+"/",type:"PATCH",data:{conversion_steps:JSON.stringify(r)},success:function(t,n,r){e(Oe(t))}})}));var n}}})($n);function Gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jn(e){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zn(e,t){return(Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var er=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yn(this,Jn(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zn(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("div",{className:"vector-components-answer"},a.a.createElement(pn,{value:this.props.representation,onChange:this.props.onRepresentationChange,buttons:["\\hat{x}","\\hat{y}","1","2","3","4","+","-"]}))}}])&&Gn(n.prototype,r),o&&Gn(n,o),t}();function tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function nr(e){return 1===e?"":-1===e?"-":e}function rr(e){return""===e?1:e?"-"===e?-1:"+"===e?1:parseFloat(e):0}var or=Object(l.connect)(function(e,t){var n=e.answers[t.uuid],r="";return n.x_component&&0!==n.x_component&&(r+=nr(n.x_component)+"\\hat{x}"),r&&n.y_component>0&&(r+="+"),n.y_component&&0!==n.y_component&&(r+=nr(n.y_component)+"\\hat{y}"),{representation:r}},function(e,t){return{onRepresentationChange:function(n){var r,o,i,a=tr([rr((i=n.match(/^\s*((-?\d*\.?\d*)\s*\\hat\{x\})?\s*?(([+-]?\d*\.?\d*)\s*\\hat\{y\})?\s*$/))[2]),rr(i[4])],2);r=a[0],o=a[1],e(Te(t.uuid,r,o))}}})(er);function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ar(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sr(e){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ur(e,t){return(ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lr=["red","blue","green","yellow"],cr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ar(this,sr(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ur(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=[];for(var n in this.props.vectors){var r,o={x:In.d.calcVectorXStart(this.props.vectors[n].x_component),y:In.d.calcVectorYStart(this.props.vectors[n].y_component)},i={x:o.x+In.d.calcCanvasMagnitude(this.props.vectors[n].x_component),y:o.y-In.d.calcCanvasMagnitude(this.props.vectors[n].y_component)};(r=new In.b(null,o,lr[n%lr.length])).complete(i),t.push(r)}return a.a.createElement("div",{className:"question-vectors"},a.a.createElement("a",{className:"question-vectors-clear",onClick:function(t){t.preventDefault(),e.props.onClearClick()}},a.a.createElement(s.H,null)," clear"),a.a.createElement(In.d,{clear:!0,objects:t,allowInput:!0,updateAnswer:function(t){return e.props.onVectorChanged(t[1].vector.x_component,t[1].vector.y_component)},question:{uuid:this.props.question}}))}}])&&ir(n.prototype,r),o&&ir(n,o),t}(),pr=Object(l.connect)(function(e,t){var n=e.questions[t.uuid];return{question:n.uuid,vectors:n.vectors}},function(e,t){return{onVectorChanged:function(n,r){return e(function(e,t,n){return function(r,o){var i=o().questions[e].vectors.slice();i.push({x_component:t,y_component:n}),$.ajax({url:F+"questions/"+e+"/",type:"PATCH",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({vectors:i}),success:function(e,t,n){r(ye(e))}})}}(t.uuid,n,r))},onClearClick:function(){return e((n=t.uuid,function(e){$.ajax({url:F+"questions/"+n+"/",type:"PATCH",data:{vectors:"[]"},success:function(t,n,r){e(ye(t))}})}));var n}}})(cr);function hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function fr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mr(e){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vr(e,t){return(vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yr={extensions:["tex2jax.js"],jax:["input/TeX","output/HTML-CSS"],tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0},"HTML-CSS":{availableFonts:["TeX"]}},br=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?gr(e):t}(this,mr(t).call(this,e))).handleShowSolutionEditor=n.handleShowSolutionEditor.bind(gr(n)),n.handleChangeSolutionContent=n.handleChangeSolutionContent.bind(gr(n)),n.onSolutionContentSave=n.onSolutionContentSave.bind(gr(n)),n.handleTabChange=n.handleTabChange.bind(gr(n)),n.handleTagDelete=n.handleTagDelete.bind(gr(n)),n.handleTagAddition=n.handleTagAddition.bind(gr(n));var r=[];return e.hasOwnProperty("tags")&&e.tags&&(r=e.tags.map(function(e){return{id:e,text:e}})),n.state={showSolutionEditor:!1,solutionText:e.solution_text||"",mdeTab:"write",tags:r},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vr(e,t)}(t,a.a.Component),n=t,(r=[{key:"handleTagDelete",value:function(e){var t=this.state.tags;this.props.onDeleteTag(t[e]),this.setState({tags:t.filter(function(t,n){return n!==e})})}},{key:"handleTagAddition",value:function(e){this.setState(function(t){return{tags:[].concat(fr(t.tags),[e])}}),this.props.onAddTag(e)}},{key:"handleShowSolutionEditor",value:function(){this.setState({showSolutionEditor:!this.state.showSolutionEditor})}},{key:"handleChangeSolutionContent",value:function(e){this.setState({solutionText:e})}},{key:"onSolutionContentSave",value:function(){this.state.solutionText&&(this.props.onChangeSolutionText(this.state.solutionText),this.handleShowSolutionEditor())}},{key:"handleTabChange",value:function(e){this.setState({mdeTab:e})}},{key:"componentDidMount",value:function(){MathJax.Hub.Config(yr),MathJax.Hub.Queue(["Typeset",MathJax.Hub])}},{key:"componentDidUpdate",value:function(){MathJax.Hub.Config(yr),MathJax.Hub.Queue(["Typeset",MathJax.Hub])}},{key:"componentWillReceiveProps",value:function(e,t){e.solution_text!==this.state.solution_text&&(null===e.solution_text?this.setState({solutionText:""}):this.setState({solutionText:e.solution_text}))}},{key:"componentWillUpdate",value:function(e,t,n){if(e.tags&&e.tags!==this.props.tags){var r=e.tags.map(function(e){return{id:e,text:e}});this.setState({tags:r})}}},{key:"render",value:function(){if(this.props.loading)return a.a.createElement("div",null,"Loading...");var e,t=Object.entries(zt).map(function(e){var t=hr(e,2),n=t[0],r=t[1];return a.a.createElement("option",{key:n,value:n},r)});this.props.answer_type===Qt.MULTIPLE_CHOICE||this.props.answer_type===Qt.MULTISELECT_CHOICE?e=a.a.createElement(on,{answers:this.props.answers,onAddAnswerClick:this.props.onAddAnswerClick,exclusive:this.props.answer_type===Qt.MULTIPLE_CHOICE,hasPictures:this.props.hasPictures}):this.props.answer_type===Qt.MATHEMATICAL_EXPRESSION?e=a.a.createElement(vn,{uuid:this.props.answers[0]}):this.props.answer_type===Qt.TEXT?e=a.a.createElement(_n,{uuid:this.props.answers[0]}):this.props.answer_type===Qt.MYSQL?e=a.a.createElement(Rn,{uuid:this.props.answers[0]}):this.props.answer_type===Qt.VECTOR||this.props.answer_type===Qt.NULLABLE_VECTOR?e=a.a.createElement(Wn,{uuid:this.props.answers[0],allowNull:this.props.answer_type===Qt.NULLABLE_VECTOR}):this.props.answer_type===Qt.UNIT_CONVERSION?e=a.a.createElement(Xn,{uuid:this.props.answers[0]}):this.props.answer_type===Qt.VECTOR_COMPONENTS&&(e=a.a.createElement(or,{uuid:this.props.answers[0]}));var n=new Ht.a.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0}),r=a.a.createElement("div",null,a.a.createElement("a",{className:"back-button",onClick:this.handleShowSolutionEditor},a.a.createElement(s.g,null)," back to question"),a.a.createElement(Bt.a,{onChange:this.handleChangeSolutionContent,value:this.state.solutionText,selectedTab:this.state.mdeTab,onTabChange:this.handleTabChange,generateMarkdownPreview:function(e){return Promise.resolve(n.makeHtml(e))}}),a.a.createElement("br",null),a.a.createElement("button",{className:"btn btn-primary",onClick:this.onSolutionContentSave},"Save"));return a.a.createElement("div",{className:"question"},a.a.createElement("div",{className:"row",style:{paddingLeft:"1rem"}},a.a.createElement(xt.WithOutContext,{tags:this.state.tags,placeholder:"Add new question tag",inputFieldPosition:"inline",handleDelete:this.handleTagDelete,handleAddition:this.handleTagAddition,allowDragDrop:Boolean(!1),delimiters:I})),this.state.showSolutionEditor?r:a.a.createElement("div",null,a.a.createElement("div",{className:"curriculum-title",style:{textAlign:"right"}},a.a.createElement("div",null,a.a.createElement(s.B,null)," ",a.a.createElement("a",{style:{cursor:"pointer"},onClick:this.handleShowSolutionEditor},"Edit solution")),a.a.createElement("div",null,a.a.createElement(s.j,null),a.a.createElement(it,{preSelectMenuItem:"fork",question:{uuid:this.props.uuid}},"Fork this problem"))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-6 text-center"},a.a.createElement("div",{className:"bounding-box"},a.a.createElement(wt,{value:this.props.text,onChange:this.props.onTextChange,type:"textarea",defaultValue:"New question"}),a.a.createElement("div",{className:"thumbnail question-image"},this.props.answer_type!=Qt.VECTOR_COMPONENTS&&a.a.createElement(qe,{image:this.props.image,onChange:this.props.onImageChange}),this.props.answer_type===Qt.VECTOR_COMPONENTS&&a.a.createElement(pr,{uuid:this.props.uuid})),"Hint:"," ",a.a.createElement(wt,{value:this.props.hint,onChange:this.props.onHintChange}))),a.a.createElement("div",{className:"col-md-6 text-center answer-block"},a.a.createElement("div",{className:"bounding-box"},a.a.createElement("select",{className:"question-type",onChange:this.props.onTypeChange,value:this.props.answer_type},t),e,a.a.createElement("div",{className:"clearfix"}))))))}}])&&dr(n.prototype,r),o&&dr(n,o),t}(),Er=Object(l.connect)(function(e,t){var n=e.questions[t.uuid];if(n){var r=!1;for(var o in n.answers)if(e.answers[n.answers[o]].image){r=!0;break}return{loading:!1,text:n.text,solution_text:n.solution_text,image:n.image,hint:n.hint,tags:n.tags,answers:n.answers,hasPictures:r,answer_type:n.answer_type}}return{loading:!0}},function(e,t){return{onImageChange:function(n){return e(function(e,t){return function(n){var r=new FormData;r.append("image",t),$.ajax({url:F+"questions/"+e+"/",type:"PATCH",processData:!1,contentType:!1,data:r,success:function(e){n(ye(e))}})}}(t.uuid,n))},onTextChange:function(n){return e((r=t.uuid,o=n,function(e){$.ajax({url:F+"questions/"+r+"/",type:"PATCH",data:{text:o},success:function(t,n,r){e(ye(t))}})}));var r,o},onChangeSolutionText:function(n){return e((r=t.uuid,o=n,function(e){$.ajax({url:F+"questions/"+r+"/",type:"PATCH",data:{solution_text:o},success:function(t,n,r){e(ye(t))}})}));var r,o},onAddTag:function(n){return e(function(e,t){return function(n){q(F+"questions/"+e+"/tags/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRFToken":getCookie("csrftoken")},body:JSON.stringify({tag:t.text})}).then(function(t){$.ajax({async:!0,url:F+"questions/"+e+"/",success:function(e,t,r){n(ye(e))}})})}}(t.uuid,n))},onDeleteTag:function(n){return e(function(e,t){return function(n){q(F+"questions/"+e+"/tags/",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRFToken":getCookie("csrftoken")},body:JSON.stringify({tag:t.text})}).then(function(t){$.ajax({async:!0,url:F+"questions/"+e+"/",success:function(e,t,r){n(ye(e))}})})}}(t.uuid,n))},onHintChange:function(n){return e((r=t.uuid,o=n,function(e){$.ajax({url:F+"questions/"+r+"/",type:"PATCH",data:{hint:o},success:function(t,n,r){e(ye(t))}})}));var r,o},onTypeChange:function(n){return e(Ee(t.uuid,n.target.value))},onAddAnswerClick:function(){return e(ke(t.uuid))}}})(br);function Cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Or(e){return(Or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wr(this,Or(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.connectDragSource,n=e.connectDragPreview,r=e.isDragging;return(0,e.connectDropTarget)(n(a.a.createElement("div",{className:"module-thumbnail editor-col-md-1 module-accessible-block draggable",onClick:this.props.onClick,style:{display:r?"none":"block"}},t(a.a.createElement("span",{className:"drag-handle"},a.a.createElement(s.u,null))),a.a.createElement("div",{className:"thumbnail section-thumbnail"},a.a.createElement(Ue,{image:this.props.image})),a.a.createElement("span",{style:{position:"absolute",top:"5px",right:"5px",cursor:"pointer"}},a.a.createElement(it,{module:{uuid:this.props.uuid}},a.a.createElement(s.v,null))),a.a.createElement("div",null,this.props.name))))}}])&&Cr(n.prototype,r),o&&Cr(n,o),t}();_r=Object(f.DragSource)(w,{beginDrag:function(e){return{uuid:e.uuid}}},function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})(_r);var kr=Object(l.connect)(function(e,t){var n=e.modules[t.uuid];return{name:n.name,image:n.image,onClick:function(){D.push("/studio/editor/modules/"+t.uuid+"/")}}},function(e,t){return{onLessonDrop:function(n){return e(ve(n,t.uuid))}}})(Object(f.DropTarget)(O,{drop:function(e,t){e.onLessonDrop(t.getItem().uuid)}},function(e,t){return{connectDropTarget:e.dropTarget(),dragOver:t.isOver()}})(_r));function Tr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xr(e){return(xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pr(e,t){return(Pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Dr(e):t}(this,xr(t).call(this,e))).handleDeleteClick=n.handleDeleteClick.bind(Dr(n)),n.handleTagDelete=n.handleTagDelete.bind(Dr(n)),n.handleTagAddition=n.handleTagAddition.bind(Dr(n)),e.hasOwnProperty("tags")&&e.tags?n.state={tags:e.tags.map(function(e){return{id:e,text:e}})}:n.state={tags:[]},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pr(e,t)}(t,a.a.Component),n=t,(r=[{key:"handleTagDelete",value:function(e){var t=this.state.tags;this.props.onDeleteTag(t[e]),this.setState({tags:t.filter(function(t,n){return n!==e})})}},{key:"handleTagAddition",value:function(e){this.setState(function(t){return{tags:[].concat(Tr(t.tags),[e])}}),this.props.onAddTag(e)}},{key:"handleDeleteClick",value:function(e){e.preventDefault(),confirm('This will permanently delete unit "'+this.props.name+'" with all its contents. Are you sure?')&&this.props.onDeleteClick()}},{key:"componentWillUpdate",value:function(e,t,n){if(e.tags&&e.tags!==this.props.tags){var r=e.tags.map(function(e){return{id:e,text:e}});this.setState({tags:r})}}},{key:"render",value:function(){for(var e=[],t=0;t<this.props.modules.length;t++)e.push(a.a.createElement(_,{key:this.props.modules[t],onDrop:this.props.onModuleDroppedBefore.bind(null,this.props.modules[t]),itemType:w,selfUuid:this.props.modules[t]},a.a.createElement(kr,{uuid:this.props.modules[t]})));return this.props.connectDragPreview(a.a.createElement("div",{className:"unit",style:{display:this.props.isDragging?"none":"block"}},a.a.createElement("div",{className:"section-title"},a.a.createElement("h2",null,this.props.connectDragSource(a.a.createElement("span",{className:"drag-handle"})),a.a.createElement(qe,{image:this.props.image,onChange:this.props.onImageChange}),a.a.createElement(wt,{value:this.props.name,onChange:this.props.onNameChange,defaultValue:"New unit"}),a.a.createElement(s.H,{onClick:this.handleDeleteClick}))),a.a.createElement("div",{className:"row",style:{paddingLeft:"1rem"}},a.a.createElement(xt.WithOutContext,{tags:this.state.tags,placeholder:"Add new unit tag",inputFieldPosition:"inline",handleDelete:this.handleTagDelete,handleAddition:this.handleTagAddition,allowDragDrop:Boolean(!1),delimiters:I})),a.a.createElement("div",{className:"row"},e,a.a.createElement(_,{onDrop:this.props.onModuleDroppedBefore.bind(null,null),itemType:w},a.a.createElement("div",{className:"editor-col-md-1 module-accessible-block btn-add-module",onClick:this.props.onAddModuleClick},a.a.createElement("div",{className:"thumbnail section-thumbnail"},a.a.createElement(s.E,{size:"5rem"})),"Add module")))))}}])&&jr(n.prototype,r),o&&jr(n,o),t}();Nr=Object(f.DragSource)(C,{beginDrag:function(e){return{uuid:e.uuid}}},function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})(Nr);var Ar=Object(l.connect)(function(e,t){var n=e.units[t.uuid];return{loading:!1,name:n.name,tags:n.tags,image:n.image,curricilum:n.curriculum,modules:n.modules}},function(e,t){return{onImageChange:function(n){return e(function(e,t){return function(n){var r=new FormData;r.append("image",t),$.ajax({url:F+"units/"+e+"/",type:"PATCH",processData:!1,contentType:!1,data:r,success:function(e){n(ce(e))}})}}(t.uuid,n))},onNameChange:function(n){return e((r=t.uuid,o=n,function(e){$.ajax({url:F+"units/"+r+"/",type:"PATCH",data:{name:o},success:function(t,n,r){e(ce(t))}})}));var r,o},onDeleteClick:function(){return e((n=t.uuid,function(e,t){e({type:W.DELETE_UNIT,curriculumUuid:t().units[n].curriculum,uuid:n}),$.ajax({async:!0,url:F+"units/"+n+"/",method:"DELETE",success:function(e,t,n){}})}));var n},onAddModuleClick:function(){return e(pe(t.uuid))},onAddTag:function(n){return e(function(e,t){return function(n){q(F+"units/"+e+"/tags/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRFToken":getCookie("csrftoken")},body:JSON.stringify({tag:t.text})})}}(t.uuid,n))},onDeleteTag:function(n){return e(function(e,t){return function(n){q(F+"units/"+e+"/tags/",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRFToken":getCookie("csrftoken")},body:JSON.stringify({tag:t.text})})}}(t.uuid,n))},onModuleDroppedBefore:function(n,r){var o,i,a;e((o=r.uuid,i=t.uuid,a=n,function(e,t){var n,r=t(),s=r.units[i],u=r.units[r.modules[o].unit];n=a?r.modules[a].position:s.modules.length>0?r.modules[s.modules[s.modules.length-1]].position+1:1,$.ajax({async:!0,url:F+"modules/"+o+"/",method:"PATCH",data:{position:n,unit:i},success:function(t,n,r){$.ajax({async:!0,url:F+"units/"+i+"/",method:"GET",success:function(t,n,r){e(ce(t))}}),i!=u.uuid&&$.ajax({async:!0,url:F+"units/"+u.uuid+"/",method:"GET",success:function(t,n,r){e(ce(t))}})}})}))}}})(Nr);function Lr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ir(e){return(Ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ur(e,t){return(Ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Mr(e):t}(this,Ir(t).call(this,e))).handleDeleteClick=n.handleDeleteClick.bind(Mr(n)),n.handleTagDelete=n.handleTagDelete.bind(Mr(n)),n.handleTagAddition=n.handleTagAddition.bind(Mr(n)),n.state={tags:[]},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ur(e,t)}(t,a.a.Component),n=t,(r=[{key:"handleDeleteClick",value:function(e){e.preventDefault(),confirm('This will permanently delete curricilum "'+this.props.name+'" with all its materials. Are you sure?')&&this.props.onDeleteClick()}},{key:"handleTagDelete",value:function(e){var t=this.state.tags;this.props.onDeleteTag(t[e]),this.setState({tags:t.filter(function(t,n){return n!==e})})}},{key:"handleTagAddition",value:function(e){this.setState(function(t){return{tags:[].concat(Lr(t.tags),[e])}}),this.props.onAddTag(e)}},{key:"componentWillUpdate",value:function(e,t,n){if(e.tags&&e.tags!==this.props.tags){var r=e.tags.map(function(e){return{id:e,text:e}});this.setState({tags:r})}}},{key:"render",value:function(){if(this.props.loading)return a.a.createElement("div",null,"Loading...");var e,t=[];for(var n in this.props.units){var r=this.props.units[n];t.push(a.a.createElement(_,{key:r.uuid,onDrop:this.props.onUnitDroppedBefore.bind(null,r.uuid),itemType:C,selfUuid:r.uuid},a.a.createElement(Ar,{key:r.uuid,uuid:r.uuid})))}return e="Default Curriculum"!=this.props.name?a.a.createElement(wt,{value:this.props.name,onChange:this.props.onNameChange,defaultValue:"New curriculum"}):a.a.createElement("span",null,this.props.name),a.a.createElement("div",{className:"curriculum"},a.a.createElement("h1",null,a.a.createElement(qe,{image:this.props.image,onChange:this.props.onImageChange}),e,a.a.createElement(s.H,{onClick:this.handleDeleteClick}),a.a.createElement("a",{href:"/curriculum/"+this.props.uuid+"/",className:"btn btn-light",target:"_blank"},a.a.createElement(s.q,null)," Open student view")),a.a.createElement(xt.WithOutContext,{tags:this.state.tags,inputFieldPosition:"inline",handleDelete:this.handleTagDelete,handleAddition:this.handleTagAddition,allowDragDrop:Boolean(!1),delimiters:I}),t,a.a.createElement(_,{onDrop:this.props.onUnitDroppedBefore.bind(null,null),itemType:C},a.a.createElement("a",{onClick:this.props.onAddUnitClick,className:"btn btn-primary"},"Add Unit")))}}])&&Rr(n.prototype,r),o&&Rr(n,o),t}(),Br=Object(l.connect)(function(e,t){var n=e.curricula[t.uuid];return n?{loading:!1,name:n.name,tags:n.tags,image:n.image,units:n.units.map(function(t){return e.units[t]})}:{loading:!0}},function(e,t){return{onImageChange:function(n){return e(ae(t.uuid,n))},onNameChange:function(n){return e(ne(t.uuid,n))},onDeleteClick:function(){return e(se(t.uuid))},onAddUnitClick:function(){return e(ue(t.uuid))},onAddTag:function(n){return e(function(e,t){return function(n){q(F+"curricula/"+e+"/tags/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRFToken":getCookie("csrftoken")},body:JSON.stringify({tag:t.text})})}}(t.uuid,n))},onDeleteTag:function(n){return e(function(e,t){return function(n){q(F+"curricula/"+e+"/tags/",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRFToken":getCookie("csrftoken")},body:JSON.stringify({tag:t.text})})}}(t.uuid,n))},onUnitDroppedBefore:function(t,n){return e((r=n.uuid,o=t,function(e,t){var n,i=t();if(o)n=i.units[o].position;else{var a=i.curricula[i.units[r].curriculum];n=i.units[a.units[a.units.length-1]].position+1}$.ajax({async:!0,url:F+"units/"+r+"/",method:"PATCH",data:{position:n},success:function(t,n,r){oe(t.curriculum,e)}})}));var r,o}}})(qr);function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hr(e){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qr(e,t){return(Qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Wr(e):t}(this,Hr(t).call(this,e))).handleDeleteClick=n.handleDeleteClick.bind(Wr(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qr(e,t)}(t,a.a.Component),n=t,(r=[{key:"handleDeleteClick",value:function(e){e.preventDefault(),confirm('This will permanently delete lesson "'+this.props.name+'" with all its questions. Are you sure?')&&this.props.onDeleteClick()}},{key:"render",value:function(){var e=this;return this.props.loading?a.a.createElement("div",null,"Loading..."):a.a.createElement("div",{className:"lesson"},a.a.createElement(jt,{link:"/studio/editor/modules/"+this.props.module+"/"}),a.a.createElement("h1",null,a.a.createElement(qe,{image:this.props.image,onChange:this.props.onImageChange}),a.a.createElement(wt,{value:this.props.name,onChange:this.props.onNameChange,defaultValue:"New lesson"}),a.a.createElement(s.H,{onClick:this.handleDeleteClick})),a.a.createElement("label",null,a.a.createElement("input",{type:"radio",value:"0",checked:0===this.props.lesson_type,onChange:function(t){return e.props.onTypeChange(0)}})," ","Normal lesson"),a.a.createElement("label",null,a.a.createElement("input",{type:"radio",value:"1",checked:1===this.props.lesson_type,onChange:function(t){return e.props.onTypeChange(1)}})," ","Game"),1===this.props.lesson_type&&a.a.createElement("select",{value:this.props.game_type,onChange:this.props.onGameTypeChange},a.a.createElement("option",{value:"vector-game"},"Draw vector game"),a.a.createElement("option",{value:"unit-conversion"},"Unit conversion game")),a.a.createElement("a",{href:"/curriculum/lessons/"+this.props.uuid,target:"_blank",className:"btn btn-light"},a.a.createElement(s.q,null)," Open student view"))}}])&&Fr(n.prototype,r),o&&Fr(n,o),t}(),Vr=Object(l.connect)(function(e,t){var n=e.lessons[t.uuid];return n?{loading:!1,name:n.name,image:n.image,module:n.module,lesson_type:n.lesson_type,game_type:n.game_type,questions:n.questions,currentQuestion:e.currentQuestion}:{loading:!0}},function(e,t){return{onImageChange:function(n){return e(function(e,t){return function(n){var r=new FormData;r.append("image",t),$.ajax({url:F+"lessons/"+e+"/",type:"PATCH",processData:!1,contentType:!1,data:r,success:function(e){n(me(e))}})}}(t.uuid,n))},onNameChange:function(n){return e((r=t.uuid,o=n,function(e){$.ajax({url:F+"lessons/"+r+"/",type:"PATCH",data:{name:o},success:function(t,n,r){e(me(t))}})}));var r,o},onDeleteClick:function(){return e((n=t.uuid,function(e,t){var r=t().lessons[n].module;e({type:W.DELETE_LESSON,moduleUuid:r,uuid:n}),$.ajax({async:!0,url:F+"lessons/"+n+"/",method:"DELETE",success:function(e,t,n){D.push("/studio/editor/modules/"+r+"/")}})}));var n},onTypeChange:function(n){return e(function(e,t){return function(n){$.ajax({url:F+"lessons/"+e+"/",type:"PATCH",data:{lesson_type:t},success:function(e,t,r){n(me(e))}})}}(t.uuid,n))},onGameTypeChange:function(n){return e((r=t.uuid,o=n.target.value,function(e){$.ajax({url:F+"lessons/"+r+"/",type:"PATCH",data:{game_type:o},success:function(t,n,r){e(me(t))}})}));var r,o}}})(zr);function Kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gr(e,t){return(Gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Xr(e):t}(this,$r(t).call(this,e))).handleDeleteClick=n.handleDeleteClick.bind(Xr(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gr(e,t)}(t,a.a.Component),n=t,(r=[{key:"handleDeleteClick",value:function(e){e.preventDefault(),confirm("Are you sure you want to delete this question?")&&this.props.onDeleteClick()}},{key:"render",value:function(){return this.props.connectDragPreview(a.a.createElement("div",{className:"question-thumbnail draggable"+(this.props.selected?" selected":""),style:{display:this.props.isDragging?"none":"inline-block"},onClick:this.props.onClick},a.a.createElement("div",{className:"question-thumbnail-inner"},this.props.connectDragSource(a.a.createElement("span",{className:"drag-handle"})),a.a.createElement("span",null,this.props.shortText)),a.a.createElement(s.H,{className:"btn-delete",onClick:this.handleDeleteClick})))}}])&&Kr(n.prototype,r),o&&Kr(n,o),t}();Yr=Object(f.DragSource)(S,{beginDrag:function(e){return{uuid:e.uuid}}},function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})(Yr);var Jr=Object(l.connect)(function(e,t){return{shortText:e.questions[t.uuid].text}},function(e,t){return{onClick:function(n){return e(Ce(t.uuid))},onDeleteClick:function(){return e((n=t.uuid,function(e,t){var r,o=t(),i=o.lessons[o.questions[n].lesson],a=i.questions.indexOf(n);r=a<i.questions.length-1?i.questions[a+1]:a>0?i.questions[a-1]:null,$.ajax({async:!0,url:F+"questions/"+n+"/",method:"DELETE",success:function(t,i,a){e({type:W.DELETE_QUESTION,question:n,lesson:o.questions[n].lesson,goToQuestion:r}),e(be(r))}})}));var n}}})(Yr),Zr=n(1967),eo=n(1968),to=n(764),no=n(29),ro=n.n(no),oo=n(96),io=n.n(oo);function ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function so(e){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lo(e,t){return(lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var co=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?uo(e):t}(this,so(t).call(this,e))).startCurriculum=n.startCurriculum.bind(uo(n)),n.onCopyShareableLink=n.onCopyShareableLink.bind(uo(n)),n.onForkSelect=n.onForkSelect.bind(uo(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lo(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.props.loadPublicCurriculum(this.props.match.params.uuid)}},{key:"startCurriculum",value:function(){window.open("/curriculum/"+this.props.match.params.uuid+"/","_blank")}},{key:"onForkSelect",value:function(e){Ys.dispatch(Q(this.props.match.params.uuid))}},{key:"onCopyShareableLink",value:function(e){io()(window.location.origin+"/curriculum/"+this.props.match.params.uuid+"/")}},{key:"render",value:function(){var e=this.props.publicCurriculum;return e?a.a.createElement("div",{className:"container section-sheet"},a.a.createElement("div",{className:"pop-up-window"},a.a.createElement(Zr.a,{fluid:!0},a.a.createElement(eo.a,{style:{padding:0}},a.a.createElement(to.a,{sm:6,md:6},a.a.createElement("a",{className:"back-button",onClick:function(){D.push("/browse/")}},a.a.createElement(s.g,null),"Curricula")),a.a.createElement(to.a,{sm:3,md:3},a.a.createElement("a",{className:"back-button",onClick:this.onForkSelect},a.a.createElement(s.j,null)," Fork")),a.a.createElement(to.a,{sm:3,md:3},a.a.createElement("a",{className:"back-button",onClick:this.onCopyShareableLink},a.a.createElement(s.G,null)," Copy shareable link")))),a.a.createElement("br",null),a.a.createElement("div",{style:{height:"100%"}},e?a.a.createElement(Zr.a,{fluid:!0},a.a.createElement(eo.a,{style:{padding:0}},a.a.createElement(to.a,{sm:12,md:12,style:{padding:0,paddingTop:"37%",width:"100%",overflow:"hidden",position:"relative",backgroundColor:"#12adf4"}},a.a.createElement("div",{style:{position:"absolute",top:"0",left:"0",bottom:"0",right:"0"}},a.a.createElement("div",{style:{position:e.cover_photo?"relative":""}},a.a.createElement("div",null,e.cover_photo?a.a.createElement(Ae.a,{src:e.cover_photo,fluid:!0}):a.a.createElement("div",{style:{height:"100%",width:"100%"}})))))),a.a.createElement("br",null),a.a.createElement(eo.a,{style:{padding:0}},a.a.createElement(to.a,{sm:2,md:2,style:{padding:0}},a.a.createElement("div",{style:{minHeight:"10rem"}},e.image?a.a.createElement(Ae.a,{src:e.image,fluid:!0}):null)),a.a.createElement(to.a,{sm:7,md:7},a.a.createElement(eo.a,{style:{padding:0}},a.a.createElement(to.a,{sm:12,md:12},a.a.createElement("div",{className:"blue-title"},e.name))),a.a.createElement(eo.a,{style:{padding:0}},a.a.createElement(to.a,{sm:12,md:12},a.a.createElement("div",{style:{fontSize:"2rem"}},e.author.display_name,"∙ ",e.count_lessons," lessons ∙ ",e.number_of_learners," learners"))),a.a.createElement(eo.a,null,a.a.createElement(to.a,{sm:12,md:12},a.a.createElement("div",{style:{color:"gray"}},"Created ",a.a.createElement(ro.a,{fromNow:!0},e.created_on),"∙ Last updated ",a.a.createElement(ro.a,{fromNow:!0},e.updated_on))))),a.a.createElement(to.a,{sm:3,md:3},a.a.createElement("button",{className:"editor-common-button",onClick:this.startCurriculum},"Start Curriculum"))),a.a.createElement(eo.a,{style:{padding:"2rem"}},a.a.createElement(to.a,{sm:12,md:12},e.description))):null))):null}}])&&ao(n.prototype,r),o&&ao(n,o),t}();co.propTypes={loadPublicCurriculum:Fe.a.func.isRequired,publicCurriculum:Fe.a.object};var po=Object(l.connect)(function(e){return{publicCurriculum:e.curriculum.publicCurriculum}},function(e){return{dispatch:e,loadPublicCurriculum:function(t){return e(re(t))}}})(co),ho=n(112),fo=n.n(ho),mo=n(28),go=n.n(mo),vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function yo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var bo=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=yo(this,e.call.apply(e,[this].concat(i))),r.state={match:r.computeMatch(r.props.history.location.pathname)},yo(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:vo({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;go()(null==n||1===a.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){e.setState({match:e.computeMatch(r.location.pathname)})})},t.prototype.componentWillReceiveProps=function(e){fo()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?a.a.Children.only(e):null},t}(a.a.Component);bo.propTypes={history:Fe.a.object.isRequired,children:Fe.a.node},bo.contextTypes={router:Fe.a.object},bo.childContextTypes={router:Fe.a.object.isRequired};var Eo=bo,Co=(Object.assign,"@@router/LOCATION_CHANGE");function wo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Oo=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=wo(this,e.call.apply(e,[this].concat(i))),r.handleLocationChange=function(e){r.store.dispatch({type:Co,payload:e})},wo(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){var e=this.props,t=e.store,n=e.history,r=e.isSSR;this.store=t||this.context.store,this.handleLocationChange(n.location),r||(this.unsubscribeFromHistory=n.listen(this.handleLocationChange))},t.prototype.componentWillUnmount=function(){this.unsubscribeFromHistory&&this.unsubscribeFromHistory()},t.prototype.render=function(){return a.a.createElement(Eo,this.props)},t}(i.Component);Oo.propTypes={store:Fe.a.object,history:Fe.a.object.isRequired,children:Fe.a.node,isSSR:Fe.a.bool},Oo.contextTypes={store:Fe.a.object};n(377);var So="@@router/CALL_HISTORY_METHOD";function _o(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return{type:So,payload:{method:e,args:n}}}}_o("push"),_o("replace"),_o("go"),_o("goBack"),_o("goForward");function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var To={courses:[],units:[],modules:[],lessons:[]};var jo=Object(c.combineReducers)({router:Object(h.connectRouter)(D),search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.SEARCH_CURRICULA_LOADED:return Object.assign({},e,{curricula:t.curriculaSearchList});case W.SEARCH_UNITS_LOADED:return Object.assign({},e,{units:t.untisSearchList});case W.SEARCH_MODULES_LOADED:return Object.assign({},e,{modules:t.modulesSearchList});case W.SEARCH_LESSONS_LOADED:return Object.assign({},e,{lessons:t.lessonsSearchList});case W.SEARCH_QUESTIONS_LOADED:return Object.assign({},e,{questions:t.questionsSearchList});default:return e}},curricula:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.CURRICULA_LOADED:return t.curricula;case W.CURRICULUM_LOADED:return Object.assign({},e,ko({},t.curriculum.uuid,t.curriculum));case W.DELETE_CURRICULUM:return delete(n=Object.assign({},e))[t.uuid],n;case W.UNIT_ADDED:return(n=Object.assign({},e))[t.curriculumUuid].units.push(t.unit.uuid),n;case W.DELETE_UNIT:var n;return(n=Object.assign({},e))[t.curriculumUuid].units.splice(n[t.curriculumUuid].units.indexOf(t.uuid),1),n;default:return e}},units:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.CURRICULA_LOADED:return t.units;case W.CURRICULUM_LOADED:return Object.assign({},e,t.units);case W.UNIT_ADDED:case W.UNIT_LOADED:return Object.assign({},e,ko({},t.unit.uuid,t.unit));case W.DELETE_UNIT:return delete(n=Object.assign({},e))[t.uuid],n;case W.MODULE_ADDED:return(n=Object.assign({},e))[t.module.unit].modules.push(t.module.uuid),n;case W.DELETE_MODULE:var n=Object.assign({},e);return t.unitUuid in n&&n[t.unitUuid].modules.splice(n[t.unitUuid].modules.indexOf(t.uuid),1),n;default:return e}},modules:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.UNIT_LOADED:case W.UNIT_ADDED:case W.CURRICULUM_LOADED:case W.CURRICULA_LOADED:return Object.assign({},e,t.modules);case W.MODULE_ADDED:case W.MODULE_LOADED:return Object.assign({},e,ko({},t.module.uuid,t.module));case W.DELETE_MODULE:return delete(n=Object.assign({},e))[t.uuid],n;case W.LESSON_ADDED:return(n=Object.assign({},e))[t.lesson.module].lessons=n[t.lesson.module].lessons.slice(),n[t.lesson.module].lessons.push(t.lesson.uuid),n;case W.DELETE_LESSON:var n;if(!(n=Object.assign({},e))[t.moduleUuid])return n;var r=n[t.moduleUuid].lessons.slice();return r.splice(r.indexOf(t.uuid),1),n[t.moduleUuid].lessons=r,n;default:return e}},lessons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.MODULE_LOADED:case W.MODULE_ADDED:return Object.assign({},e,t.lessons);case W.LESSON_LOADED:case W.LESSON_ADDED:return Object.assign({},e,ko({},t.lesson.uuid,t.lesson));case W.DELETE_LESSON:return delete(n=Object.assign({},e))[t.uuid],n;case W.QUESTION_ADDED:return(n=Object.assign({},e))[t.question.lesson].questions=n[t.question.lesson].questions.slice(),n[t.question.lesson].questions.push(t.question.uuid),n;case W.DELETE_QUESTION:return(n=Object.assign({},e))[t.lesson].questions=n[t.lesson].questions.slice(),n[t.lesson].questions.splice(n[t.lesson].questions.indexOf(t.question),1),n;case W.QUESTION_MOVED:var n=Object.assign({},e),r=Object.assign({},n[t.lessonUuid]),o=r.questions.slice();return o.splice(o.indexOf(t.uuid),1),t.beforeUuid?o.splice(o.indexOf(t.beforeUuid),0,t.uuid):o.push(t.uuid),r.questions=o,n[t.lessonUuid]=r,n;default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.QUESTION_LOADED:case W.QUESTION_ADDED:return Object.assign({},e,ko({},t.question.uuid,t.question));case W.ANSWER_ADDED:return(r=Object.assign({},e))[t.answer.question].answers=r[t.answer.question].answers.slice(),r[t.answer.question].answers.push(t.answer.uuid),r;case W.DELETE_ANSWER:var n=(r=Object.assign({},e))[t.questionUuid].answers.slice();return n.splice(n.indexOf(t.uuid),1),r[t.questionUuid].answers=n,r;case W.DELETE_QUESTION:var r;return delete(r=Object.assign({},e))[t.question],r;case W.LESSON_LOADED:case W.LESSON_ADDED:return Object.assign({},e,t.questions);default:return e}},answers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.QUESTION_LOADED:case W.QUESTION_ADDED:return Object.assign({},e,t.answers);case W.ANSWER_LOADED:case W.ANSWER_ADDED:return Object.assign({},e,ko({},t.answer.uuid,t.answer));case W.DELETE_ANSWER:return delete(n=Object.assign({},e))[t.answerUuid],n;case W.SET_ANSWER_EXCLUSIVELY_CORRECT:var n=Object.assign({},e);for(var r in n)n[r].question===e[t.answer].question&&(n[r].is_correct=r===t.answer);return n;case W.SET_ANSWER_IS_CORRECT:return(n=Object.assign({},e))[t.answer].is_correct=t.is_correct,n;case W.LESSON_LOADED:case W.LESSON_ADDED:return Object.assign({},e,t.answers);default:return e}},currentQuestion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.LESSON_LOADED:case W.LESSON_AVAILABLE:return t.lesson.questions.length>0?t.lesson.questions[0]:null;case W.GOTO_QUESTION:return t.question;case W.QUESTION_ADDED:return t.question.uuid;case W.DELETE_QUESTION:return t.goToQuestion;case Co:return null;default:return e}},filteredCurricula:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===W.RECENT_CURRICULA_LOADED?Object.assign({},e,{recentCurricula:t.curricula}):t.type===W.NEW_CURRICULA_LOADED?Object.assign({},e,{newCurricula:t.curricula}):t.type===W.POPULAR_CURRICULA_LOADED?Object.assign({},e,{popularCurricula:t.curricula}):e},allCurricula:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===W.ALL_CURRICULA_LOADED?t.curricula:e},curriculum:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===W.PUBLIC_CURRICULUM_LOADED?Object.assign({},e,{publicCurriculum:t.publicCurriculum}):e},studioTabs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tab:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.STUDIO_TAB_CHANGED:return Object.assign({},e,ko({},t.namespace,t.tab));default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.FOUND_USERS_LOADED:return Object.assign({},e,{foundUsers:t.foundUsers});case W.FOUND_USERS_REQUEST:return Object.assign({},e,{findUserRequest:t.findUserRequest});default:return e}},courseNavigation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:To,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.COURSE_NAVIGATION_COURSES_LOADED:return Object.assign({},e,{courses:t.courses});case W.COURSE_NAVIGATION_UNITS_LOADED:return Object.assign({},e,{units:t.units});case W.COURSE_NAVIGATION_MODULES_LOADED:return Object.assign({},e,{modules:t.modules});case W.COURSE_NAVIGATION_LESSONS_LOADED:return Object.assign({},e,{lessons:t.lessons});default:return e}}});function xo(e){var t="container "+(e.type||"section")+"-sheet";return a.a.createElement("div",{className:t},e.children)}var Do=n(25),Po=n(778);function No(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lo(e,t,n){return t&&Ao(e.prototype,t),n&&Ao(e,n),e}function Ro(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Mo(e):t}function Io(e){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qo(e,t)}function qo(e,t){return(qo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bo=function(e){function t(e,n){var r;return No(this,t),(r=Ro(this,Io(t).call(this,e,n))).handleClick=r.handleClick.bind(Mo(r)),r}return Uo(t,a.a.Component),Lo(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.onClick(e)}},{key:"render",value:function(){return a.a.createElement(s.o,{onClick:this.handleClick,style:{fontSize:"2rem"}},this.props.children)}}]),t}();Bo.propTypes={onClick:Fe.a.func};var Fo=function(e){function t(e,n){var r;return No(this,t),(r=Ro(this,Io(t).call(this,e,n))).onForkSelect=r.onForkSelect.bind(Mo(r)),r.onEditCurriculumSelect=r.onEditCurriculumSelect.bind(Mo(r)),r.onDeleteCurriculum=r.onDeleteCurriculum.bind(Mo(r)),r.onEditContentSelect=r.onEditContentSelect.bind(Mo(r)),r.onCopyShareableLink=r.onCopyShareableLink.bind(Mo(r)),r.onTitleClick=r.onTitleClick.bind(Mo(r)),r.state={showSpinnerOverlay:!1},r}return Uo(t,a.a.Component),Lo(t,[{key:"onEditContentSelect",value:function(e){this.props.onClick()}},{key:"onTitleClick",value:function(){this.props.onClick()}},{key:"onCopyShareableLink",value:function(e){io()(window.location.origin+"/curriculum/"+this.props.uuid+"/")}},{key:"onEditCurriculumSelect",value:function(e){this.props.onEditCurriculumProfileClick()}},{key:"onDeleteCurriculum",value:function(e){this.props.onDeleteCurriculumClick(this.props.uuid)}},{key:"onForkSelect",value:function(e){this.setState({showSpinnerOverlay:!0}),Ys.dispatch(Q(this.props.uuid))}},{key:"render",value:function(){var e=a.a.createElement(Ke,null,a.a.createElement("div",{className:"overlay-wrapper"},a.a.createElement("div",{className:"overlay-inner"},a.a.createElement($e.RingLoader,{color:"#1caff6",loading:Boolean(!0)}))));return a.a.createElement(to.a,{sm:2,md:2,className:"curriculum-card",style:{cursor:"pointer"}},this.state.showSpinnerOverlay&&e,a.a.createElement("div",{onClick:this.onTitleClick,style:{paddingBottom:"1rem",overflow:"hidden",borderRadius:"15px",height:"13rem"}},a.a.createElement(Ue,{image:this.props.image})),a.a.createElement("div",null,a.a.createElement(He.a,{style:{float:"right"},id:"dropdown-custom-menu"},a.a.createElement(He.a.Toggle,{as:Bo}),a.a.createElement(He.a.Menu,{rootCloseEvent:"click"},a.a.createElement(Po.a,{onSelect:this.onEditContentSelect,eventKey:"1"},a.a.createElement(s.m,null)," Edit content"),a.a.createElement(Po.a,{onSelect:this.onEditCurriculumSelect,eventKey:"2"},a.a.createElement(s.B,null)," Edit profile and settings"),a.a.createElement(Po.a,{onSelect:this.onForkSelect,eventKey:"3"},a.a.createElement(s.j,null)," Fork"),a.a.createElement(Po.a,{onSelect:this.onCopyShareableLink,eventKey:"4"},a.a.createElement(s.G,null)," Copy shareable link"),a.a.createElement(Po.a,{onSelect:this.onDeleteCurriculum,eventKey:"5"},a.a.createElement(s.J,null)," Delete"))),a.a.createElement("div",{onClick:this.onTitleClick,className:"blue-text",style:{fontSize:"1.7rem"}},this.props.name),a.a.createElement("div",{style:{fontSize:"1rem",paddingTop:"0.5rem",textAlign:"left",margin:"0 0.5rem 0 0.5rem"}},a.a.createElement("a",{href:this.props.author.get_absolute_url,target:"_blank"},this.props.author.display_name)," ∙ ",this.props.count_lessons," lessons ∙ ",this.props.number_of_learners," learners"),a.a.createElement("div",{style:{fontSize:"1rem",color:"gray",textAlign:"left",margin:"0 0.5rem 0 0.5rem"}},"Created ",a.a.createElement(ro.a,{fromNow:!0},this.props.created_on)," ∙ Last updated ",a.a.createElement(ro.a,{fromNow:!0},this.props.updated_on))))}}]),t}();function Ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wo(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qo(e){return(Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zo(e,t){return(zo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Fo.propTypes={uuid:Fe.a.string.isRequired,onEditCurriculumProfileClick:Fe.a.func.isRequired,onDeleteCurriculumClick:Fe.a.func.isRequired};var Vo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wo(this,Qo(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zo(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement(to.a,{sm:2,md:2,className:"curriculum-card",onClick:this.props.onClick,style:{cursor:"pointer",borderStyle:"dashed",display:"grid"}},a.a.createElement("div",{style:{display:"flex",justifyContent:"center",fontSize:"1.7rem",color:"gray",alignItems:"center",height:"100%"}},"+ Create another curriculum from scratch"))}}])&&Ho(n.prototype,r),o&&Ho(n,o),t}();function Ko(){return(Ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xo(e){return(Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Go(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yo(e,t){return(Yo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jo=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Go(e):t}(this,Xo(t).call(this,e))).state={prototypeChoice:null},n.handlePrototypeChoiceChange=n.handlePrototypeChoiceChange.bind(Go(n)),n.handleAddClick=n.handleAddClick.bind(Go(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yo(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.props.onMounted()}},{key:"handlePrototypeChoiceChange",value:function(e){this.setState({prototypeChoice:e.target.value})}},{key:"handleAddClick",value:function(){this.props.onAddClick(this.state.prototypeChoice)}},{key:"render",value:function(){var e=[];for(var t in this.props.curricula)e.push(a.a.createElement(Fo,Ko({key:t},this.props.curricula[t],{onEditCurriculumProfileClick:this.props.onEditCurriculumProfileClick.bind(null,t),onDeleteCurriculumClick:this.props.onDeleteCurriculumClick.bind(null,t),onClick:this.props.onCurriculumClick.bind(null,t)})));var n=[];for(var r in this.props.allCurricula.results)n.push(a.a.createElement("option",{key:this.props.allCurricula.results[r].uuid,value:this.props.allCurricula.results[r].uuid},this.props.allCurricula.results[r].name+" by "+this.props.allCurricula.results[r].author.display_name));return a.a.createElement("div",null,a.a.createElement("div",{className:"row"},a.a.createElement(Zr.a,{fluid:!0},a.a.createElement(eo.a,null,e,a.a.createElement(Vo,{onClick:this.handleAddClick})))))}}])&&$o(n.prototype,r),o&&$o(n,o),t}(),Zo=Object(l.connect)(function(e){return{curriculum:e.curriculum,curricula:e.curricula,allCurricula:e.allCurricula}},function(e){return{onAddClick:function(t){return e(Q(t))},onMounted:function(){return e(X())},onCurriculumClick:function(e){D.push("/studio/editor/curricula/"+e+"/")}}})(Jo);Zo=Object(l.connect)()(Zo);var ei=n(779),ti=n.n(ei),ni=n(1971),ri=n(773),oi=n(771),ii=n(1970),ai=n(7),si=n(11),ui={id:Fe.a.any,href:Fe.a.string,onClick:Fe.a.func,title:Fe.a.node.isRequired,disabled:Fe.a.bool,menuRole:Fe.a.string,rootCloseEvent:Fe.a.string,bsPrefix:Fe.a.string,variant:Fe.a.string,size:Fe.a.string},li=a.a.forwardRef(function(e,t){var n=e.title,r=e.children,o=e.bsPrefix,i=e.rootCloseEvent,s=e.variant,u=e.size,l=e.menuRole,c=e.disabled,p=e.href,h=e.id,f=Object(si.a)(e,["title","children","bsPrefix","rootCloseEvent","variant","size","menuRole","disabled","href","id"]);return a.a.createElement(He.a,Object(ai.a)({ref:t},f),a.a.createElement(He.a.Toggle,{id:h,href:p,size:u,variant:s,disabled:c,childBsPrefix:o},n),a.a.createElement(He.a.Menu,{role:l,rootCloseEvent:i},r))});li.displayName="DropdownButton",li.propTypes=ui;var ci=li,pi=n(780);function hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fi(e){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function di(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mi(e,t){return(mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gi=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?di(e):t}(this,fi(t).call(this,e))).state={searchString:"",selectedUsers:[]},n.onAddCollaboratorsClick=n.onAddCollaboratorsClick.bind(di(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mi(e,t)}(t,a.a.Component),n=t,(r=[{key:"onAddCollaboratorsClick",value:function(){if(this.state.selectedUsers.length>0){for(var e={uuid:this.props.curriculum.uuid},t=[],n=0;n<this.state.selectedUsers.length;n++)t.push(this.state.selectedUsers[n].id);for(n=0;n<this.props.curriculum.collaborators.length;n++){var r=this.props.curriculum.collaborators[n].id;-1===t.indexOf(r)&&t.push(r)}e.collaborators_ids=t,this.props.updateCurriculum(e),this.setState({selectedUsers:[]})}}},{key:"render",value:function(){var e=this,t=[];return this.props.foundUsers&&(t=this.props.foundUsers.results),a.a.createElement(oi.a,null,a.a.createElement(ii.a,null,a.a.createElement(pi.MultiSelect,{placeholder:"Select users",options:t,values:this.state.selectedUsers,search:this.state.searchString,onValuesChange:function(t){e.setState({selectedUsers:t})},onSearchChange:function(t){var n=t.replace(/\W/g,"");e.setState({searchString:n}),n.length>0&&(e.props.findUserRequest||e.props.findUsers(n))},uid:function(e){return e?e.id:null},renderOption:function(e){return a.a.createElement("div",{className:"simple-option",style:{fontSize:12}},a.a.createElement("div",null,a.a.createElement("span",{style:{fontWeight:"bold"}},e.display_name)))},renderNoResultsFound:function(t,n){return a.a.createElement("div",{className:"no-results-found",style:{fontSize:13}},0===e.state.searchString.length?"Start type username or display name":"No results found")},renderValue:function(e){return a.a.createElement("div",{className:"simple-value"},a.a.createElement("span",{style:{fontWeight:"bold"}},e.display_name))},filterOptions:function(e,t,n){var r;return e.filter((r=t,function(e){return 0===r.filter(function(t){return t.id===e.id}).length}))}}),a.a.createElement(ci,{id:"input-dropdown-addon",variant:"light",title:"Action"},a.a.createElement(Po.a,{key:"e",onSelect:this.onAddCollaboratorsClick},"Add collaborators"))))}}])&&hi(n.prototype,r),o&&hi(n,o),t}();gi.propTypes={findUsers:Fe.a.func.isRequired,updateCurriculum:Fe.a.func.isRequired,foundUsers:Fe.a.object,findUserRequest:Fe.a.bool,curriculum:Fe.a.object.isRequired};var vi=Object(l.connect)(function(e){return{foundUsers:e.users.foundUsers,findUserRequest:e.users.findUserRequest}},function(e){return{dispatch:e,findUsers:function(t){return e(De(t))},updateCurriculum:function(t){return e(ie(t))}}})(gi);function yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bi(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ei(e){return(Ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ci(e,t){return(Ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bi(this,Ei(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ci(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement(eo.a,{className:"staff-user-row"},a.a.createElement(to.a,{sm:2,md:2},this.props.staff.avatar_url?a.a.createElement(Ae.a,{fluid:!0,src:this.props.staff.avatar_url,rounded:!0}):null),a.a.createElement(to.a,{sm:6,md:6},a.a.createElement("a",{href:this.props.staff.get_absolute_url,target:"_blank"},this.props.staff.display_name)),a.a.createElement(to.a,{sm:2,md:2},a.a.createElement("span",{style:{textTransform:"capitalize "}},this.props.post)),a.a.createElement(to.a,{sm:2,md:2},"owner"!==this.props.post?a.a.createElement(oi.a,null,a.a.createElement(ii.a,null,a.a.createElement(ci,{id:"input-dropdown-addon",variant:"light",title:a.a.createElement(s.m,null)},a.a.createElement(Po.a,{key:"e",onSelect:this.props.onRemoveFromCollaboratorsClick},"Remove from collaborators")))):null))}}])&&yi(n.prototype,r),o&&yi(n,o),t}();function Oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Si(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ki(e,t,n){return t&&_i(e.prototype,t),n&&_i(e,n),e}function Ti(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?xi(e):t}function ji(e){return(ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Di(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pi(e,t)}function Pi(e,t){return(Pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}wi.propTypes={staff:Fe.a.object.isRequired,onRemoveFromCollaboratorsClick:Fe.a.func,post:Fe.a.string.isRequired};var Ni=function(e){function t(e){var n;return Si(this,t),(n=Ti(this,ji(t).call(this,e))).props.value?n.state=Oi({},e.uuid+"checked","on"):n.state=Oi({},e.uuid+"checked","off"),n.handleSettingsChange=n.handleSettingsChange.bind(xi(n)),n}return Di(t,a.a.Component),ki(t,[{key:"handleSettingsChange",value:function(e,t){var n="on";"on"===this.state[t+"checked"]&&(n="off"),this.setState(Oi({},t+"checked",n)),"onChange"in this.props&&this.props.onChange(n)}},{key:"render",value:function(){var e=this,t={};return a.a.createElement(eo.a,null,a.a.createElement(to.a,{sm:2,md:2},a.a.createElement("div",{className:"pure-radiobutton"},a.a.createElement("input",{id:"radio_on"+this.props.uuid,value:"on",name:"settings"+this.props.uuid,style:t,onChange:function(t){return e.handleSettingsChange(t,e.props.uuid)},type:"radio",checked:"on"===this.state[this.props.uuid+"checked"]}),a.a.createElement("label",{htmlFor:"radio_on"+this.props.uuid},"On"))),a.a.createElement(to.a,{sm:2,md:2},a.a.createElement("div",{className:"pure-radiobutton"},a.a.createElement("input",{id:"radio_off"+this.props.uuid,value:"off",name:"settings"+this.props.uuid,style:t,onChange:function(t){return e.handleSettingsChange(t,e.props.uuid)},type:"radio",checked:"off"===this.state[this.props.uuid+"checked"]}),a.a.createElement("label",{htmlFor:"radio_off"+this.props.uuid},"Off"))),a.a.createElement(to.a,{sm:8,md:8},this.props.text))}}]),t}();Ni.propTypes={text:Fe.a.string,uuid:Fe.a.string.isRequired,onChange:Fe.a.func,value:Fe.a.bool};var Ai=function(e){function t(e){var n;return Si(this,t),(n=Ti(this,ji(t).call(this,e))).handleDeleteCurriculumModal=n.handleDeleteCurriculumModal.bind(xi(n)),n.deleteCurriculum=n.deleteCurriculum.bind(xi(n)),n.state={showDeletCurriculumModal:!1},n}return Di(t,a.a.Component),ki(t,[{key:"settingChanged",value:function(e,t){var n={uuid:this.props.curriculum.uuid};n[e]=t,this.props.updateCurriculum(n)}},{key:"onRemoveFromCollaboratorsClick",value:function(e){for(var t=this.props.curriculum.collaborators,n=[],r=0;r<t.length;r++)t[r].id!==e.id&&n.push(t[r].id);var o={uuid:this.props.curriculum.uuid,collaborators_ids:n};this.props.updateCurriculum(o)}},{key:"handleDeleteCurriculumModal",value:function(){this.setState({showDeletCurriculumModal:!this.state.showDeletCurriculumModal})}},{key:"deleteCurriculum",value:function(){this.props.deleteCurriculum({uuid:this.props.curriculum.uuid})}},{key:"render",value:function(){var e=this;return a.a.createElement(Zr.a,{fluid:!0},a.a.createElement(eo.a,null,a.a.createElement(to.a,{sm:12,md:12},a.a.createElement("div",{className:"blue-title"},"Unlocking"))),a.a.createElement(Ni,{value:this.props.curriculum.setting_units_unlocked,onChange:function(t){e.settingChanged("setting_units_unlocked",t)},uuid:"units",text:"All units unlocked (“off” means lessons unlock sequentially)"}),a.a.createElement(Ni,{value:this.props.curriculum.setting_modules_unlocked,onChange:function(t){e.settingChanged("setting_modules_unlocked",t)},uuid:"modules",text:"All modules unlocked (“off” means lessons unlock sequentially)"}),a.a.createElement(Ni,{value:this.props.curriculum.setting_lessons_unlocked,onChange:function(t){e.settingChanged("setting_lessons_unlocked",t)},uuid:"lessons",text:"All lessons unlocked (“off” means lessons unlock sequentially)"}),a.a.createElement("br",null),a.a.createElement(eo.a,null,a.a.createElement(to.a,{sm:12,md:12},a.a.createElement("div",{className:"blue-title"},"Viewing"))),a.a.createElement(Ni,{value:this.props.curriculum.setting_publically,onChange:function(t){e.settingChanged("setting_publically",t)},uuid:"publically",text:"Publically viewable (“off” means curriculum does not appear in  “Browse Curricula” )"}),a.a.createElement("br",null),a.a.createElement(eo.a,null,a.a.createElement(to.a,{sm:12,md:12},a.a.createElement("div",{className:"blue-title"},"Editing"))),a.a.createElement(eo.a,null,a.a.createElement(to.a,{sm:12,md:12},a.a.createElement(vi,{curriculum:this.props.curriculum}))),a.a.createElement(eo.a,null,a.a.createElement(to.a,{sm:12,md:12},a.a.createElement("div",{className:"blue-title"},"Who has access"))),a.a.createElement(eo.a,null,a.a.createElement(to.a,{sm:12,md:12},a.a.createElement(wi,{post:"owner",staff:this.props.curriculum.author}),this.props.curriculum.collaborators.map(function(e,t){var n=this;return a.a.createElement(wi,{post:"collaborator",staff:e,key:t,onRemoveFromCollaboratorsClick:function(){n.onRemoveFromCollaboratorsClick(e)}})},this))),a.a.createElement(eo.a,null,a.a.createElement(to.a,{sm:12,md:12},a.a.createElement("div",{className:"blue-title"},"Danger Zone"))),a.a.createElement(ni.a,{container:this,show:this.state.showDeletCurriculumModal,onHide:this.handleClose},a.a.createElement(ni.a.Header,{closeButton:!0},a.a.createElement(ni.a.Title,null,"Confirm delete")),a.a.createElement(ni.a.Body,null,"Are you sure you want to delete this curriculum?"),a.a.createElement(ni.a.Footer,null,a.a.createElement("button",{className:"editor-common-button",onClick:this.deleteCurriculum},"Delete")," ",a.a.createElement(ri.a,{variant:"light",onClick:this.handleDeleteCurriculumModal},"Close"))),a.a.createElement(eo.a,null,a.a.createElement(to.a,{sm:12,md:12},a.a.createElement("a",{style:{color:"red",textDecoration:"underline",cursor:"pointer",lineHeight:"6rem"},onClick:this.handleDeleteCurriculumModal},"Delete this curriculum"))))}}]),t}();Ai.propTypes={updateCurriculum:Fe.a.func.isRequired,deleteCurriculum:Fe.a.func.isRequired,curriculum:Fe.a.object.isRequired};var Li=Object(l.connect)(function(e){return{}},function(e){return{dispatch:e,updateCurriculum:function(t){return e(ie(t))},deleteCurriculum:function(t){e(se(t.uuid)),D.push("/studio/studio/")}}})(Ai);function Ri(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mi(e,t,n){return t&&Ii(e.prototype,t),n&&Ii(e,n),e}function Ui(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Bi(e):t}function qi(e){return(qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hi(e,t)}function Hi(e,t){return(Hi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wi=function(e){function t(e){var n;return Ri(this,t),(n=Ui(this,qi(t).call(this,e))).handleChange=n.handleChange.bind(Bi(n)),n}return Fi(t,a.a.Component),Mi(t,[{key:"handleChange",value:function(e){this.props.onFileSelect(e.target.files[0])}},{key:"render",value:function(){return a.a.createElement("div",{className:"selectable-image",style:{height:"100%"}},a.a.createElement(s.C,{style:{fontSize:"1.5rem",marginTop:"0.75rem"}}),a.a.createElement("input",{type:"file",name:"image",accept:"image/*",onChange:this.handleChange,style:{fontSize:"0px"}}))}}]),t}();Wi.propTypes={onFileSelect:Fe.a.func.isRequired};var Qi=function(e){function t(e){var n;return Ri(this,t),(n=Ui(this,qi(t).call(this,e))).handleSelectTab=n.handleSelectTab.bind(Bi(n)),n.startCurriculum=n.startCurriculum.bind(Bi(n)),n.imageUpload=n.imageUpload.bind(Bi(n)),n.coverPhotoSelected=n.coverPhotoSelected.bind(Bi(n)),n.editNameClick=n.editNameClick.bind(Bi(n)),n.editDescriptionClick=n.editDescriptionClick.bind(Bi(n)),n.onNameChanged=n.onNameChanged.bind(Bi(n)),n.onDescriptionChanged=n.onDescriptionChanged.bind(Bi(n)),n.onCropChange=n.onCropChange.bind(Bi(n)),n.onCropComplete=n.onCropComplete.bind(Bi(n)),n.saveCroppedPhoto=n.saveCroppedPhoto.bind(Bi(n)),n.state={selectedTab:"profile",croppingCoverPhotoMode:!1,imgToCrop:!1,imgToCropBlob:null,cropInfo:null,crop:{aspect:2.7,x:10,y:10,width:80}},n}return Fi(t,a.a.Component),Mi(t,[{key:"componentDidMount",value:function(){this.props.loadCurriculum(this.props.match.params.uuid)}},{key:"handleSelectTab",value:function(e,t){"edit"===e&&D.push("/studio/editor/curricula/"+this.props.match.params.uuid+"/"),e!==this.state.tabname&&this.setState({selectedTab:e})}},{key:"startCurriculum",value:function(){window.open("/curriculum/"+this.props.match.params.uuid+"/","_blank")}},{key:"editDescriptionClick",value:function(){this.setState({descriptionEditMode:!0})}},{key:"onDescriptionChanged",value:function(e){this.props.onDescriptionChange(this.props.match.params.uuid,e),this.setState({descriptionEditMode:!1})}},{key:"editNameClick",value:function(){this.setState({nameEditMode:!0})}},{key:"onNameChanged",value:function(e){this.props.onNameChange(this.props.match.params.uuid,e),this.setState({nameEditMode:!1})}},{key:"imageUpload",value:function(e){e&&this.props.changeCurriculumImage(this.props.match.params.uuid,e)}},{key:"onCropChange",value:function(e){this.setState({crop:e})}},{key:"coverPhotoSelected",value:function(e){e&&this.setState({imgToCropBlob:URL.createObjectURL(e),imgToCrop:e,croppingCoverPhotoMode:!0})}},{key:"saveCroppedPhoto",value:function(){if(this.state.cropInfo){var e=new Image;e.src=this.state.imgToCropBlob,this.props.changeCurriculumCoverPhoto(this.props.match.params.uuid,function(e,t){var n,r,o;if(-1===e.indexOf(";base64,"))return r=(n=e.split(","))[0].split(":")[1],o=decodeURIComponent(n[1]),new Blob([o],{type:r});r=(n=e.split(";base64,"))[0].split(":")[1];for(var i=(o=window.atob(n[1])).length,a=new Uint8Array(i),s=0;s<i;++s)a[s]=o.charCodeAt(s);var u=new Blob([a],{type:r});return u.filename=t,u}((t=e,n=this.state.cropInfo,(r=document.createElement("canvas")).width=n.width,r.height=n.height,r.getContext("2d").drawImage(t,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.toDataURL("image/jpeg")),this.state.imgToCrop.name)),this.setState({croppingCoverPhotoMode:!1})}var t,n,r}},{key:"onCropComplete",value:function(e,t){0!==e.width?this.setState({cropInfo:t}):this.setState({cropInfo:null})}},{key:"render",value:function(){var e=this.props.curricula[this.props.match.params.uuid];return e?a.a.createElement("div",{className:"pop-up-window"},a.a.createElement("a",{className:"back-button",onClick:function(){D.push("/studio/")}},a.a.createElement(s.g,null),"My Curricula"),a.a.createElement(Do.Tabs,{name:"editCurriculumProfileTabs",className:"tabs",handleSelect:this.handleSelectTab,selectedTab:this.state.selectedTab},a.a.createElement("div",{className:"tab-links"},a.a.createElement(Do.TabLink,{to:"profile"},"Curriculum profile"),a.a.createElement(Do.TabLink,{to:"settings"},"Curriculum settings"),a.a.createElement(Do.TabLink,{to:"edit"},"Edit content")),a.a.createElement("div",{className:"content"},a.a.createElement(Do.TabContent,{for:"profile"},a.a.createElement(Zr.a,{fluid:!0},a.a.createElement(eo.a,{style:{padding:0}},a.a.createElement(to.a,{sm:12,md:12,style:{padding:0,paddingTop:"37%",width:"100%",overflow:"hidden",position:"relative",backgroundColor:"#12adf4"}},a.a.createElement("div",{style:{position:"absolute",top:"0",left:"0",bottom:"0",right:"0"}},a.a.createElement("div",{style:{position:e.cover_photo?"relative":""}},this.state.croppingCoverPhotoMode?a.a.createElement("div",null,a.a.createElement(ti.a,{src:this.state.imgToCropBlob,crop:this.state.crop,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange}),this.state.cropInfo?a.a.createElement("button",{className:"editor-common-button",style:{position:"absolute",top:"85%",left:"2rem"},onClick:this.saveCroppedPhoto},"Save photo"):null):a.a.createElement("div",null,e.cover_photo?a.a.createElement(Ae.a,{src:e.cover_photo,fluid:!0}):a.a.createElement("div",{style:{height:"100%",width:"100%"}})),a.a.createElement("div",{title:"Change cover photo",className:"base-circle-edit bottom-circle-edit right-circle-edit"},a.a.createElement(Wi,{onFileSelect:this.coverPhotoSelected})))))),a.a.createElement("br",null),a.a.createElement(eo.a,{style:{padding:0}},a.a.createElement(to.a,{sm:12,md:2,style:{padding:0}},a.a.createElement("div",{style:{minHeight:"10rem"}},e.image?a.a.createElement(Ae.a,{src:e.image,fluid:!0}):null),e.image?null:a.a.createElement("span",null,"Click to add image:"),a.a.createElement("div",{className:"base-circle-edit bottom-circle-edit right-circle-edit",title:"Change image"},a.a.createElement(Wi,{onFileSelect:this.imageUpload}))),a.a.createElement(to.a,{sm:7,md:7},a.a.createElement(eo.a,{style:{padding:0}},a.a.createElement(to.a,{sm:12,md:12},a.a.createElement("div",{className:"blue-title"},a.a.createElement(Ot,{value:e.name,onChange:this.onNameChanged,editMode:this.state.nameEditMode}),a.a.createElement("span",{style:{position:"relative",paddingLeft:"1rem"}},a.a.createElement("span",{className:"base-circle-edit"},a.a.createElement(s.C,{onClick:this.editNameClick,style:{fontSize:"1.5rem",marginBottom:"0.75rem"}})))))),a.a.createElement(eo.a,{style:{padding:0}},a.a.createElement(to.a,{sm:12,md:12},a.a.createElement("div",{style:{fontSize:"2rem"}},e.author.display_name,"∙ ",e.count_lessons," lessons ∙ ",e.number_of_learners," learners"))),a.a.createElement(eo.a,null,a.a.createElement(to.a,{sm:12,md:12},a.a.createElement("div",{style:{color:"gray"}},"Created ",a.a.createElement(ro.a,{fromNow:!0},e.created_on),"∙ Last updated ",a.a.createElement(ro.a,{fromNow:!0},e.updated_on))))),a.a.createElement(to.a,{sm:12,md:3},a.a.createElement("button",{className:"editor-common-button",onClick:this.startCurriculum},"Start Curriculum"))),a.a.createElement(eo.a,{style:{padding:"2rem"}},a.a.createElement(to.a,{sm:12,md:12},a.a.createElement(Ot,{textArea:Boolean(!0),value:e.description,onChange:this.onDescriptionChanged,editMode:this.state.descriptionEditMode}),e.description?null:a.a.createElement("span",null,"Click to add description:"),a.a.createElement("span",{style:{position:"relative",paddingLeft:"1rem"}},a.a.createElement("span",{className:"base-circle-edit"},a.a.createElement(s.C,{onClick:this.editDescriptionClick,style:{fontSize:"1.5rem",marginTop:"0.75rem"}}))))))),a.a.createElement(Do.TabContent,{for:"settings"},a.a.createElement(Li,{curriculum:e})),a.a.createElement(Do.TabContent,{for:"edit"})))):null}}]),t}();Qi.propTypes={loadCurriculum:Fe.a.func.isRequired,changeCurriculumImage:Fe.a.func.isRequired,changeCurriculumCoverPhoto:Fe.a.func.isRequired,onDescriptionChange:Fe.a.func.isRequired,curricula:Fe.a.object};var zi=Object(l.connect)(function(e){return{curricula:e.curricula}},function(e){return{dispatch:e,loadCurriculum:function(t){return e(function(e){return function(t,n){e in n().curricula||oe(e,t)}}(t))},changeCurriculumImage:function(t,n){return e(ae(t,n))},onNameChange:function(t,n){return e(ne(t,n))},onDescriptionChange:function(t,n){return e(function(e,t){return function(n){$.ajax({url:F+"curricula/"+e+"/",type:"PATCH",data:{description:t},success:function(e,t,r){n(te(e))}})}}(t,n))},changeCurriculumCoverPhoto:function(t,n){return e(function(e,t){return function(n){var r=new FormData;r.append("cover_photo",t,t.filename),$.ajax({url:F+"curricula/"+e+"/",type:"PATCH",processData:!1,contentType:!1,data:r,success:function(e){n(te(e))}})}}(t,n))}}})(Qi),Vi=n(285),Ki=n.n(Vi);function $i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gi(e,t,n){return t&&Xi(e.prototype,t),n&&Xi(e,n),e}function Yi(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Zi(e):t}function Ji(e){return(Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ea(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ta(e,t)}function ta(e,t){return(ta=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var na=function(e){function t(e,n){var r;return $i(this,t),(r=Yi(this,Ji(t).call(this,e,n))).handleClick=r.handleClick.bind(Zi(r)),r}return ea(t,a.a.Component),Gi(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.onClick(e)}},{key:"render",value:function(){return a.a.createElement(s.o,{onClick:this.handleClick,style:{fontSize:"2rem"}},this.props.children)}}]),t}();na.propTypes={onClick:Fe.a.func};var ra=function(e){function t(e,n){var r;return $i(this,t),(r=Yi(this,Ji(t).call(this,e,n))).onTitleClick=r.onTitleClick.bind(Zi(r)),r.onLearnSelect=r.onLearnSelect.bind(Zi(r)),r.onViewProfileSelect=r.onViewProfileSelect.bind(Zi(r)),r.onForkSelect=r.onForkSelect.bind(Zi(r)),r.onCopyShareableLink=r.onCopyShareableLink.bind(Zi(r)),r.onAddToDashboardSelect=r.onAddToDashboardSelect.bind(Zi(r)),r.onRemoveFromDashboardSelect=r.onRemoveFromDashboardSelect.bind(Zi(r)),r.state={showSpinnerOverlay:!1},r}return ea(t,a.a.Component),Gi(t,[{key:"onLearnSelect",value:function(){window.open("/curriculum/"+this.props.curriculum.uuid+"/","_blank")}},{key:"onViewProfileSelect",value:function(){D.push("/curriculum/profile/"+this.props.curriculum.uuid+"/")}},{key:"onTitleClick",value:function(){window.open("/curriculum/"+this.props.curriculum.uuid+"/","_blank")}},{key:"onCopyShareableLink",value:function(e){io()(window.location.origin+"/curriculum/"+this.props.curriculum.uuid+"/")}},{key:"onAddToDashboardSelect",value:function(e){var t;Ys.dispatch((t=this.props.curriculum.uuid,function(e){$.ajax({async:!0,url:F+"public/curricula/"+t+"/add_to_dashboard/",method:"POST",success:function(e,t,n){}})})),"recentSlides"!==this.props.slidesListName&&this.props.onAddRemoveFromDashboardSildes("add",this.props.curriculum)}},{key:"onRemoveFromDashboardSelect",value:function(e){var t;Ys.dispatch((t=this.props.curriculum.uuid,function(e){$.ajax({async:!0,url:F+"public/curricula/"+t+"/remove_from_dashboard/",method:"POST",success:function(e,t,n){}})})),"recentSlides"===this.props.slidesListName&&this.props.onAddRemoveFromDashboardSildes("remove",this.props.curriculum)}},{key:"onForkSelect",value:function(e){this.setState({showSpinnerOverlay:!0}),Ys.dispatch(Q(this.props.curriculum.uuid))}},{key:"render",value:function(){var e=this,t=a.a.createElement(Ke,null,a.a.createElement("div",{className:"overlay-wrapper"},a.a.createElement("div",{className:"overlay-inner"},a.a.createElement($e.RingLoader,{color:"#1caff6",loading:Boolean(!0)}))));return a.a.createElement("div",{className:"curriculum-card",style:{cursor:"pointer"}},this.state.showSpinnerOverlay&&t,a.a.createElement("div",{onClick:this.onTitleClick,style:{paddingBottom:"1rem",overflow:"hidden",borderRadius:"15px",height:"13rem"}},a.a.createElement(Ue,{image:this.props.curriculum.image})),a.a.createElement("div",null,a.a.createElement(He.a,{style:{float:"right"},id:"dropdown-custom-menu"},a.a.createElement(He.a.Toggle,{as:na}),a.a.createElement(function(){return o.a.createPortal(a.a.createElement(He.a.Menu,{rootCloseEvent:"mousedown"},a.a.createElement(Po.a,{onSelect:e.onLearnSelect,eventKey:"1"},a.a.createElement(s.t,null)," Learn"),a.a.createElement(Po.a,{onSelect:e.onViewProfileSelect,eventKey:"2"},a.a.createElement(s.y,null)," View profile"),a.a.createElement(Po.a,{onSelect:e.onForkSelect,eventKey:"3"},a.a.createElement(s.j,null)," Fork to curriculum studio"),a.a.createElement(Po.a,{onSelect:e.onCopyShareableLink,eventKey:"4"},a.a.createElement(s.G,null)," Copy shareable link"),"recentSlides"===e.props.slidesListName?a.a.createElement(Po.a,{onSelect:e.onRemoveFromDashboardSelect,eventKey:"5"},a.a.createElement(s.A,null)," Remove from dashboard"):a.a.createElement(Po.a,{onSelect:e.onAddToDashboardSelect,eventKey:"5"},a.a.createElement(s.D,null)," Add to dashboard")),document.getElementById("editor-app"))},null)),a.a.createElement("div",{onClick:this.onTitleClick,className:"blue-text",style:{fontSize:"1.7rem"}},this.props.curriculum.name),a.a.createElement("div",{style:{fontSize:"1rem",paddingTop:"0.5rem",textAlign:"left",margin:"0 0.5rem 0 0.5rem"}},a.a.createElement("a",{href:this.props.curriculum.author.get_absolute_url,target:"_blank"},this.props.curriculum.author.display_name)," ∙ ",this.props.curriculum.count_lessons," lessons ∙ ",this.props.curriculum.number_of_learners," learners"),a.a.createElement("div",{style:{fontSize:"1rem",color:"gray",textAlign:"left",margin:"0 0.5rem 0 0.5rem"}},"Created ",a.a.createElement(ro.a,{fromNow:!0},this.props.curriculum.created_on)," ∙ Last updated ",a.a.createElement(ro.a,{fromNow:!0},this.props.curriculum.updated_on))))}}]),t}();ra.propTypes={curriculum:Fe.a.object.isRequired,slidesListName:Fe.a.string,onAddRemoveFromDashboardSildes:Fe.a.func};var oa=n(70),ia=n.n(oa);function aa(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ua(e){return(ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function la(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ca(e,t){return(ca=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pa=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?la(e):t}(this,ua(t).call(this,e))).doSearch=n.doSearch.bind(la(n)),n.loadNextPage=n.loadNextPage.bind(la(n)),n.state={curricula:[],hasMoreItems:!1,nextHref:null},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ca(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.props.loadSearchCurricula(this.props.curriculaSearchString)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.selectedTab!==e.selectedTab&&"Curricula"===e.selectedTab&&this.props.loadSearchCurricula(this.props.searchString),this.props.curriculaSearchList!==e.curriculaSearchList&&e.curriculaSearchList)if(null==e.curriculaSearchList.previous)this.setState({curricula:e.curriculaSearchList.results,hasMoreItems:Boolean(e.curriculaSearchList.next),nextHref:e.curriculaSearchList.next});else{var t=[].concat(aa(this.state.curricula),aa(e.curriculaSearchList.results));this.setState({curricula:t,hasMoreItems:Boolean(e.curriculaSearchList.next),nextHref:e.curriculaSearchList.next})}}},{key:"loadNextPage",value:function(e){this.state.hasMoreItems&&this.props.loadSearchCurricula(this.props.searchString,this.state.nextHref)}},{key:"doSearch",value:function(){this.props.loadSearchCurricula(this.props.curriculaSearchString)}},{key:"render",value:function(){var e=[];return this.state.curricula.map(function(t,n){e.push(a.a.createElement(ra,{key:t.uuid,curriculum:t}))}),a.a.createElement(Zr.a,{fluid:!0},this.props.curriculaSearchList?a.a.createElement("div",null,a.a.createElement(ia.a,{pageStart:0,loadMore:this.loadNextPage,hasMore:this.state.hasMoreItems,loader:a.a.createElement("div",{key:this.state.nextHref,style:{clear:"both"}})},e),0===this.props.curriculaSearchList.results.length?a.a.createElement("h4",null,"Sorry, we couldn't find any results for this query."):null):a.a.createElement(eo.a,null,a.a.createElement(to.a,{sm:12,md:12},a.a.createElement("div",{style:{height:"10rem",marginLeft:"50%"}},a.a.createElement($e.RingLoader,{color:"#1caff6",loading:Boolean(!0)})))))}}])&&sa(n.prototype,r),o&&sa(n,o),t}();pa.propTypes={loadSearchCurricula:Fe.a.func.isRequired,curriculaSearchString:Fe.a.string,curriculaSearchList:Fe.a.object,searchString:Fe.a.string,lessonsSearchList:Fe.a.object,selectedTab:Fe.a.string};var ha=Object(l.connect)(function(e){return{curriculaSearchList:e.search.curricula}},function(e){return{dispatch:e,loadSearchCurricula:function(t,n){return e(G(t,n))}}},null,{withRef:!0})(pa);function fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ma(e,t,n){return t&&da(e.prototype,t),n&&da(e,n),e}function ga(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?ya(e):t}function va(e){return(va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ya(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ba(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ea(e,t)}function Ea(e,t){return(Ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ca=function(e){function t(e,n){var r;return fa(this,t),(r=ga(this,va(t).call(this,e,n))).handleClick=r.handleClick.bind(ya(r)),r}return ba(t,a.a.Component),ma(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.onClick(e)}},{key:"render",value:function(){return a.a.createElement(s.o,{onClick:this.handleClick,style:{fontSize:"1.5rem"}},this.props.children)}}]),t}();Ca.propTypes={onClick:Fe.a.func};var wa=function(e){function t(e,n){var r;fa(this,t),(r=ga(this,va(t).call(this,e,n))).onLearnSelect=r.onLearnSelect.bind(ya(r)),r.onForkSelect=r.onForkSelect.bind(ya(r)),r.onCopyShareableLink=r.onCopyShareableLink.bind(ya(r)),r.onBack=r.onBack.bind(ya(r)),r.addElementToNewCurriculum=r.addElementToNewCurriculum.bind(ya(r)),r.onToggle=r.onToggle.bind(ya(r));var o="",i="";return e.unit?(o="unit",i=e.unit.uuid):e.module?(o="module",i=e.module.uuid):e.lesson?(o="lesson",i=e.lesson.uuid):e.question&&(o="question",i=e.question.uuid),r.state={level:1,baseName:o,uuid:i,menuOpen:!1,selectedCurriculum:null,selectedUnit:null,selectedModule:null,selectedLesson:null,showSpinnerOverlay:!1},r}return ba(t,a.a.Component),ma(t,[{key:"onLearnSelect",value:function(){"question"===this.state.baseName?window.open("/curriculum/lessons/"+this.props[this.state.baseName].lesson.uuid+"/","_blank"):window.open("/curriculum/"+this.state.baseName+"s/"+this.props[this.state.baseName].uuid+"/","_blank")}},{key:"onCopyShareableLink",value:function(e){"question"===this.state.baseName?io()(window.location.origin+"/curriculum/lessons/"+this.props[this.state.baseName].lesson.uuid+"/"):io()(window.location.origin+"/curriculum/"+this.state.baseName+"s/"+this.props[this.state.baseName].uuid+"/"),this.setState({menuOpen:!1})}},{key:"onBack",value:function(e,t){t.stopPropagation(),this.setState({level:this.state.level-1,menuOpen:!0})}},{key:"onForkSelect",value:function(e,t){this.setState({level:2,menuOpen:!0})}},{key:"onSelectCurriculum",value:function(e,t,n){"unit"===this.state.baseName?(this.setState({showSpinnerOverlay:!0}),this.props.addUnit(e.uuid,this.props.unit)):(n.stopPropagation(),this.setState({level:this.state.level+1,selectedCurriculum:e}))}},{key:"onSelectUnit",value:function(e,t,n){"module"===this.state.baseName?(this.setState({showSpinnerOverlay:!0}),this.props.addModule(e.uuid,this.props.module)):(n.stopPropagation(),this.setState({level:this.state.level+1,selectedUnit:e}))}},{key:"onSelectModule",value:function(e,t,n){"lesson"===this.state.baseName?(this.setState({showSpinnerOverlay:!0}),this.props.addLesson(e.uuid,this.props.lesson)):(n.stopPropagation(),this.props.loadModuleIfNeeded(e.uuid),this.setState({level:this.state.level+1,selectedModule:e}))}},{key:"onSelectLesson",value:function(e,t,n){"question"===this.state.baseName&&(this.setState({showSpinnerOverlay:!0}),this.props.addQuestion(e.uuid,this.props.question))}},{key:"addElementToNewCurriculum",value:function(){this.props.addToNewCurriculum(this.state.baseName,this.props[this.state.baseName])}},{key:"onToggle",value:function(e,t,n){n.source;e?this.setState({menuOpen:!0}):t||this.setState({menuOpen:!1})}},{key:"render",value:function(){var e=a.a.createElement(Ke,null,a.a.createElement("div",{className:"overlay-wrapper"},a.a.createElement("div",{className:"overlay-inner"},a.a.createElement($e.RingLoader,{color:"#1caff6",loading:Boolean(!0)})))),t=[];if(1===this.state.level){var n="Learn",r="Copy shareable link";"question"===this.state.baseName&&(n="Learn lesson with the question",r="Copy link to lesson"),t.push(a.a.createElement(He.a.Item,{onSelect:this.onLearnSelect,key:"1",eventKey:"1"},a.a.createElement(s.t,null)," ",n)),t.push(a.a.createElement(He.a.Item,{onSelect:this.onForkSelect,key:"3",eventKey:"3"},a.a.createElement(s.j,null)," Fork to curriculum studio")),t.push(a.a.createElement(He.a.Item,{onSelect:this.onCopyShareableLink,key:"4",eventKey:"4"},a.a.createElement(s.G,null)," ",r))}if(2===this.state.level){t.push(a.a.createElement(He.a.Item,{onSelect:this.onBack,key:"21"},"< Back"));var o="";for(var i in"unit"!==this.state.baseName&&(o=a.a.createElement("span",{style:{float:"right"}},">")),this.props.myCurricula){var u=this.props.myCurricula[i];t.push(a.a.createElement(He.a.Item,{onSelect:this.onSelectCurriculum.bind(this,u),key:u.uuid},u.image?a.a.createElement(Ae.a,{style:{width:"2rem",height:"2rem",float:"left",paddingRight:"0.5rem"},src:u.image}):null,u.name,o))}t.push(a.a.createElement(He.a.Item,{onSelect:this.addElementToNewCurriculum,key:"4",eventKey:"4",style:{color:"blue"}},a.a.createElement(s.D,null)," Add ",this.state.baseName," to new curriculum"))}if(3===this.state.level){var l="";"module"!==this.state.baseName&&(l=a.a.createElement("span",{style:{float:"right"}},">")),t.push(a.a.createElement(He.a.Item,{onSelect:this.onBack,key:"21"},"< Back"));for(var c=0;c<this.state.selectedCurriculum.units.length;c++){var p=this.props.units[this.state.selectedCurriculum.units[c]];t.push(a.a.createElement(He.a.Item,{onSelect:this.onSelectUnit.bind(this,p),key:p.uuid},p.image?a.a.createElement(Ae.a,{style:{width:"2rem",height:"2rem",float:"left",paddingRight:"0.5rem"},src:p.image}):null,p.name,l))}}if(4===this.state.level){var h="";"lesson"!==this.state.baseName&&(h=a.a.createElement("span",{style:{float:"right"}},">")),t.push(a.a.createElement(He.a.Item,{onSelect:this.onBack,key:"21"},"< Back"));for(var f=0;f<this.state.selectedUnit.modules.length;f++){var d=this.props.modules[this.state.selectedUnit.modules[f]];t.push(a.a.createElement(He.a.Item,{onSelect:this.onSelectModule.bind(this,d),key:d.uuid},d.image?a.a.createElement(Ae.a,{style:{width:"2rem",height:"2rem",float:"left",paddingRight:"0.5rem"},src:d.image}):null,d.name,h))}}if(5===this.state.level){t.push(a.a.createElement(He.a.Item,{onSelect:this.onBack,key:"21"},"< Back"));var m=this.props.modules[this.state.selectedModule.uuid].lessons;if(m)for(var g=0;g<m.length;g++){var v=this.props.lessons[m[g]];t.push(a.a.createElement(He.a.Item,{onSelect:this.onSelectLesson.bind(this,v),key:v.uuid},v.image?a.a.createElement(Ae.a,{style:{width:"2rem",height:"2rem",float:"left",paddingRight:"0.5rem"},src:v.image}):null,v.name))}}return a.a.createElement(He.a,{style:{float:"right",cursor:"pointer"},id:"dropdown-menu-"+this.props.uuid,onToggle:this.onToggle,show:this.state.menuOpen},a.a.createElement(He.a.Toggle,{as:Ca}),a.a.createElement(He.a.Menu,null,t),this.state.showSpinnerOverlay&&e)}}]),t}();wa.propTypes={unit:Fe.a.object,lesson:Fe.a.object,module:Fe.a.object};var Oa=Object(l.connect)(function(e){return{myCurricula:e.curricula,units:e.units,modules:e.modules,lessons:e.lessons}},function(e){return{dispatch:e,addUnit:function(t,n){return e(ue(t,n))},addModule:function(t,n){return e(pe(t,n))},addLesson:function(t,n){return e(de(t,n))},addQuestion:function(t,n){return e(we(t,n))},loadModuleIfNeeded:function(t){return e(fe(t))},addToNewCurriculum:function(t,n){return e(le(t,n))}}})(wa);function Sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _a(e){return(_a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ka(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ta(e,t){return(Ta=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ja=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?ka(e):t}(this,_a(t).call(this,e,n))).onTitleClick=r.onTitleClick.bind(ka(r)),r}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ta(e,t)}(t,a.a.Component),n=t,(r=[{key:"onTitleClick",value:function(){window.open("/curriculum/units/"+this.props.unit.uuid+"/","_blank")}},{key:"render",value:function(){return a.a.createElement(to.a,{xl:2,lg:3,md:4,sm:6,xs:12,className:"curriculum-card",style:{cursor:"pointer"}},a.a.createElement("div",{onClick:this.onTitleClick,style:{paddingBottom:"1rem",overflow:"hidden",borderRadius:"15px"}},a.a.createElement(Ue,{image:this.props.unit.image})),a.a.createElement("div",null,a.a.createElement(Oa,{unit:this.props.unit}),a.a.createElement("div",{onClick:this.onTitleClick,className:"blue-text",style:{fontSize:"1.7rem"}},this.props.unit.name),a.a.createElement("div",{style:{fontSize:"1rem",color:"gray",textAlign:"left",margin:"0 0.5rem 0 0.5rem"}},"Created ",a.a.createElement(ro.a,{fromNow:!0},this.props.unit.created_on)," ∙ Last updated ",a.a.createElement(ro.a,{fromNow:!0},this.props.unit.updated_on))))}}])&&Sa(n.prototype,r),o&&Sa(n,o),t}();function xa(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pa(e){return(Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Na(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aa(e,t){return(Aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ja.propTypes={unit:Fe.a.object.isRequired};var La=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Na(e):t}(this,Pa(t).call(this,e))).doSearch=n.doSearch.bind(Na(n)),n.loadNextPage=n.loadNextPage.bind(Na(n)),n.state={units:[],hasMoreItems:!1,nextHref:null},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Aa(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){if(this.props.selectedTab!==e.selectedTab&&"Units"===e.selectedTab&&this.props.loadSearchUnits(this.props.searchString),this.props.unitsSearchList!==e.unitsSearchList&&e.unitsSearchList)if(null==e.unitsSearchList.previous)this.setState({units:e.unitsSearchList.results,hasMoreItems:Boolean(e.unitsSearchList.next),nextHref:e.unitsSearchList.next});else{var t=[].concat(xa(this.state.units),xa(e.unitsSearchList.results));this.setState({units:t,hasMoreItems:Boolean(e.unitsSearchList.next),nextHref:e.unitsSearchList.next})}}},{key:"doSearch",value:function(){this.props.loadSearchUnits(this.props.searchString)}},{key:"loadNextPage",value:function(e){this.state.hasMoreItems&&this.props.loadSearchUnits(this.props.searchString,this.state.nextHref)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.searchString===e.searchString}},{key:"render",value:function(){var e=[];return this.state.units.map(function(t,n){e.push(a.a.createElement(ja,{key:t.uuid,unit:t}))}),a.a.createElement(Zr.a,{fluid:!0},this.props.unitsSearchList?a.a.createElement("div",null,a.a.createElement(ia.a,{pageStart:0,loadMore:this.loadNextPage,hasMore:this.state.hasMoreItems,loader:a.a.createElement("div",{key:this.state.nextHref,style:{clear:"both"}})},a.a.createElement(eo.a,null,e)),0===this.props.unitsSearchList.results.length?a.a.createElement("h4",null,"Sorry, we couldn't find any results for this query."):null):a.a.createElement(eo.a,null,a.a.createElement(to.a,{sm:12,md:12},a.a.createElement("div",{style:{height:"10rem",marginLeft:"50%"}},a.a.createElement($e.RingLoader,{color:"#1caff6",loading:Boolean(!0)})))))}}])&&Da(n.prototype,r),o&&Da(n,o),t}();La.propTypes={loadSearchUnits:Fe.a.func.isRequired,searchString:Fe.a.string,unitsSearchList:Fe.a.object,selectedTab:Fe.a.string};var Ra=Object(l.connect)(function(e){return{unitsSearchList:e.search.units}},function(e){return{dispatch:e,loadSearchUnits:function(t,n){return e(Y(t,n))},loadPublicUnits:function(){return e(Y())}}},null,{withRef:!0})(La);function Ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ma(e){return(Ma=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ua(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qa(e,t){return(qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ba=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Ua(e):t}(this,Ma(t).call(this,e,n))).onTitleClick=r.onTitleClick.bind(Ua(r)),r.onLearnSelect=r.onLearnSelect.bind(Ua(r)),r.onCopyShareableLink=r.onCopyShareableLink.bind(Ua(r)),r}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qa(e,t)}(t,a.a.Component),n=t,(r=[{key:"onLearnSelect",value:function(){window.open("/curriculum/modules/"+this.props.module.uuid+"/","_blank")}},{key:"onTitleClick",value:function(){window.open("/curriculum/modules/"+this.props.module.uuid+"/","_blank")}},{key:"onCopyShareableLink",value:function(e){io()(window.location.origin+"/curriculum/module/"+this.props.module.uuid+"/")}},{key:"render",value:function(){return a.a.createElement(to.a,{xl:2,lg:3,md:4,sm:6,xs:12,className:"curriculum-card",style:{cursor:"pointer"}},a.a.createElement("div",{onClick:this.onTitleClick,style:{paddingBottom:"1rem",overflow:"hidden",borderRadius:"15px"}},a.a.createElement(Ue,{image:this.props.module.image})),a.a.createElement("div",null,a.a.createElement(Oa,{module:this.props.module}),a.a.createElement("div",{onClick:this.onTitleClick,className:"blue-text",style:{fontSize:"2rem"}},this.props.module.name),a.a.createElement("div",{style:{fontSize:"1rem",color:"gray",textAlign:"left",margin:"0 0.5rem 0 0.5rem"}},"Created ",a.a.createElement(ro.a,{fromNow:!0},this.props.module.created_on)," ∙ Last updated ",a.a.createElement(ro.a,{fromNow:!0},this.props.module.updated_on))))}}])&&Ia(n.prototype,r),o&&Ia(n,o),t}();function Fa(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wa(e){return(Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function za(e,t){return(za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ba.propTypes={module:Fe.a.object.isRequired};var Va=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Qa(e):t}(this,Wa(t).call(this,e))).doSearch=n.doSearch.bind(Qa(n)),n.loadNextPage=n.loadNextPage.bind(Qa(n)),n.state={modules:[],hasMoreItems:!1,nextHref:null},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&za(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){if(this.props.selectedTab!==e.selectedTab&&"Modules"===e.selectedTab&&this.props.loadSearchModules(this.props.searchString),this.props.modulesSearchList!==e.modulesSearchList&&e.modulesSearchList)if(null==e.modulesSearchList.previous)this.setState({modules:e.modulesSearchList.results,hasMoreItems:Boolean(e.modulesSearchList.next),nextHref:e.modulesSearchList.next});else{var t=[].concat(Fa(this.state.modules),Fa(e.modulesSearchList.results));this.setState({modules:t,hasMoreItems:Boolean(e.modulesSearchList.next),nextHref:e.modulesSearchList.next})}}},{key:"loadNextPage",value:function(e){this.state.hasMoreItems&&this.props.loadSearchModules(this.props.searchString,this.state.nextHref)}},{key:"doSearch",value:function(){this.props.loadSearchModules(this.props.searchString)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.searchString===e.searchString}},{key:"render",value:function(){var e=[];return this.state.modules.map(function(t,n){e.push(a.a.createElement(Ba,{key:t.uuid,module:t}))}),a.a.createElement(Zr.a,{fluid:!0},this.props.modulesSearchList?a.a.createElement("div",null,a.a.createElement(ia.a,{pageStart:0,loadMore:this.loadNextPage,hasMore:this.state.hasMoreItems,loader:a.a.createElement("div",{key:this.state.nextHref,style:{clear:"both"}})},a.a.createElement(eo.a,null,e)),0===this.props.modulesSearchList.results.length?a.a.createElement("h4",null,"Sorry, we couldn't find any results for this query."):null):a.a.createElement(eo.a,null,a.a.createElement(to.a,{sm:12,md:12},a.a.createElement("div",{style:{height:"10rem",marginLeft:"50%"}},a.a.createElement($e.RingLoader,{color:"#1caff6",loading:Boolean(!0)})))))}}])&&Ha(n.prototype,r),o&&Ha(n,o),t}();Va.propTypes={loadSearchModules:Fe.a.func.isRequired,searchString:Fe.a.string,modulesSearchList:Fe.a.object,selectedTab:Fe.a.string};var Ka=Object(l.connect)(function(e){return{modulesSearchList:e.search.modules}},function(e){return{dispatch:e,loadSearchModules:function(t,n){return e(J(t,n))},loadPublicModules:function(){return e(J())}}},null,{withRef:!0})(Va);function $a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xa(e){return(Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ga(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ya(e,t){return(Ya=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ja=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Ga(e):t}(this,Xa(t).call(this,e,n))).onTitleClick=r.onTitleClick.bind(Ga(r)),r.onLearnSelect=r.onLearnSelect.bind(Ga(r)),r.onForkSelect=r.onForkSelect.bind(Ga(r)),r.onCopyShareableLink=r.onCopyShareableLink.bind(Ga(r)),r}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ya(e,t)}(t,a.a.Component),n=t,(r=[{key:"onLearnSelect",value:function(){window.open("/curriculum/lessons/"+this.props.lesson.uuid+"/","_blank")}},{key:"onTitleClick",value:function(){window.open("/curriculum/lessons/"+this.props.lesson.uuid+"/","_blank")}},{key:"onCopyShareableLink",value:function(e){io()(window.location.origin+"/curriculum/lesson/"+this.props.lesson.uuid+"/")}},{key:"onForkSelect",value:function(e){}},{key:"render",value:function(){return a.a.createElement(to.a,{xl:2,lg:3,md:4,sm:6,xs:12,className:"curriculum-card",style:{cursor:"pointer"}},a.a.createElement("div",{onClick:this.onTitleClick,style:{paddingBottom:"1rem",overflow:"hidden",borderRadius:"15px"}},a.a.createElement(Ue,{image:this.props.lesson.image})),a.a.createElement("div",null,a.a.createElement(Oa,{lesson:this.props.lesson}),a.a.createElement("div",{onClick:this.onTitleClick,className:"blue-text",style:{fontSize:"2rem"}},this.props.lesson.name),a.a.createElement("div",{style:{fontSize:"1rem",color:"gray",textAlign:"left",margin:"0 0.5rem 0 0.5rem"}},"Created ",a.a.createElement(ro.a,{fromNow:!0},this.props.lesson.created_on)," ∙ Last updated ",a.a.createElement(ro.a,{fromNow:!0},this.props.lesson.updated_on))))}}])&&$a(n.prototype,r),o&&$a(n,o),t}();function Za(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function es(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ts(e){return(ts=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ns(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rs(e,t){return(rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ja.propTypes={lesson:Fe.a.object.isRequired};var os=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?ns(e):t}(this,ts(t).call(this,e))).doSearch=n.doSearch.bind(ns(n)),n.loadNextPage=n.loadNextPage.bind(ns(n)),n.state={lessons:[],hasMoreItems:!1,nextHref:null},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rs(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){if(this.props.selectedTab!==e.selectedTab&&"Lessons"===e.selectedTab&&this.props.loadSearchLessons(this.props.searchString),this.props.lessonsSearchList!==e.lessonsSearchList&&e.lessonsSearchList)if(null==e.lessonsSearchList.previous)this.setState({lessons:e.lessonsSearchList.results,hasMoreItems:Boolean(e.lessonsSearchList.next),nextHref:e.lessonsSearchList.next});else{var t=[].concat(Za(this.state.lessons),Za(e.lessonsSearchList.results));this.setState({lessons:t,hasMoreItems:Boolean(e.lessonsSearchList.next),nextHref:e.lessonsSearchList.next})}}},{key:"loadNextPage",value:function(e){this.state.hasMoreItems&&this.props.loadSearchLessons(this.props.searchString,this.state.nextHref)}},{key:"doSearch",value:function(){this.props.loadSearchLessons(this.props.searchString)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.searchString===e.searchString}},{key:"render",value:function(){var e=[];return this.state.lessons.map(function(t,n){e.push(a.a.createElement(Ja,{key:t.uuid,lesson:t}))}),a.a.createElement(Zr.a,{fluid:!0},this.props.lessonsSearchList?a.a.createElement("div",null,a.a.createElement(ia.a,{pageStart:0,loadMore:this.loadNextPage,hasMore:this.state.hasMoreItems,loader:a.a.createElement("div",{key:this.state.nextHref,style:{clear:"both"}})},a.a.createElement(eo.a,null,e)),0===this.props.lessonsSearchList.results.length?a.a.createElement("h4",null,"Sorry, we couldn't find any results for this query."):null):a.a.createElement(eo.a,null,a.a.createElement(to.a,{sm:12,md:12},a.a.createElement("div",{style:{height:"10rem",marginLeft:"50%"}},a.a.createElement($e.RingLoader,{color:"#1caff6",loading:Boolean(!0)})))))}}])&&es(n.prototype,r),o&&es(n,o),t}();os.propTypes={loadSearchLessons:Fe.a.func.isRequired,searchString:Fe.a.string,lessonsSearchList:Fe.a.object,selectedTab:Fe.a.string};var is=Object(l.connect)(function(e){return{lessonsSearchList:e.search.lessons}},function(e){return{dispatch:e,loadSearchLessons:function(t,n){return e(Z(t,n))},loadPublicLessons:function(){return e(Z())}}},null,{withRef:!0})(os);function as(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ss(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function us(e){return(us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ls(e,t){return(ls=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ss(this,us(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ls(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){MathJax.Hub.Config(Ct),MathJax.Hub.Queue(["Typeset",MathJax.Hub])}},{key:"render",value:function(){return a.a.createElement(to.a,{sm:12,md:12,className:"staff-user-row"},a.a.createElement(eo.a,null,a.a.createElement(to.a,{sm:2,md:2},a.a.createElement("div",{style:{padding:"1rem",overflow:"hidden",borderRadius:"15px"}},this.props.question?a.a.createElement(Ae.a,{fluid:!0,src:this.props.question.image}):null)),a.a.createElement(to.a,{sm:10,md:10},a.a.createElement(Oa,{question:this.props.question}),a.a.createElement("div",{style:{fontSize:"2rem"},onClick:this.onTitleClick},this.props.question.text),a.a.createElement("div",{style:{fontSize:"1.5rem",margin:"1rem 0 1rem 0"},onClick:this.onTitleClick},this.props.question.lesson.name),a.a.createElement("div",{style:{fontSize:"1rem",color:"gray",textAlign:"left",margin:"0 0.5rem 0 0"}},"Created ",a.a.createElement(ro.a,{fromNow:!0},this.props.question.created_on)," ∙ Last updated ",a.a.createElement(ro.a,{fromNow:!0},this.props.question.updated_on)))))}}])&&as(n.prototype,r),o&&as(n,o),t}();function ps(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function hs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fs(e){return(fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ds(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ms(e,t){return(ms=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}cs.propTypes={question:Fe.a.object.isRequired};var gs=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?ds(e):t}(this,fs(t).call(this,e))).doSearch=n.doSearch.bind(ds(n)),n.loadNextPage=n.loadNextPage.bind(ds(n)),n.state={questions:[],hasMoreItems:!1,nextHref:null},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ms(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){if(this.props.selectedTab!==e.selectedTab&&"Questions"===e.selectedTab&&this.props.loadSearchQuestions(this.props.searchString),this.props.questionsSearchList!==e.questionsSearchList&&e.questionsSearchList)if(null==e.questionsSearchList.previous)this.setState({questions:e.questionsSearchList.results,hasMoreItems:Boolean(e.questionsSearchList.next),nextHref:e.questionsSearchList.next});else{var t=[].concat(ps(this.state.questions),ps(e.questionsSearchList.results));this.setState({questions:t,hasMoreItems:Boolean(e.questionsSearchList.next),nextHref:e.questionsSearchList.next})}}},{key:"loadNextPage",value:function(e){this.state.hasMoreItems&&this.props.loadSearchQuestions(this.props.searchString,this.state.nextHref)}},{key:"doSearch",value:function(){this.props.loadSearchQuestions(this.props.searchString)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.searchString===e.searchString}},{key:"render",value:function(){var e=[];return this.state.questions.map(function(t,n){e.push(a.a.createElement(cs,{key:t.uuid,question:t}))}),a.a.createElement(Zr.a,{fluid:!0},this.props.questionsSearchList?a.a.createElement("div",null,a.a.createElement(ia.a,{pageStart:0,loadMore:this.loadNextPage,hasMore:this.state.hasMoreItems,loader:a.a.createElement("div",{key:this.state.nextHref,style:{clear:"both"}})},e),0===this.props.questionsSearchList.results.length?a.a.createElement("h4",null,"Sorry, we couldn't find any results for this query."):null):a.a.createElement(eo.a,null,a.a.createElement(to.a,{sm:12,md:12},a.a.createElement("div",{style:{height:"10rem",marginLeft:"50%"}},a.a.createElement($e.RingLoader,{color:"#1caff6",loading:Boolean(!0)})))))}}])&&hs(n.prototype,r),o&&hs(n,o),t}();gs.propTypes={loadSearchQuestions:Fe.a.func.isRequired,searchString:Fe.a.string,questionsSearchList:Fe.a.object,selectedTab:Fe.a.string};var vs=Object(l.connect)(function(e){return{questionsSearchList:e.search.questions}},function(e){return{dispatch:e,loadSearchQuestions:function(t,n){return e(ee(t,n))},loadPublicQuestions:function(){return e(ee())}}},null,{withRef:!0})(gs);var ys=n(772);function bs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Es(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cs(e){return(Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ws(e,t){return(ws=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Os=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Es(this,Cs(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ws(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement(eo.a,{style:{paddingTop:"2rem"}},a.a.createElement(to.a,{sm:10,md:10},a.a.createElement(oi.a,null,a.a.createElement(ii.a,null,a.a.createElement(ys.a,{type:"text",value:this.props.searchString,placeholder:"Search",onChange:this.props.handleSearchString,onKeyUp:this.props.handleSearchInputKeyUp}),a.a.createElement(ii.a.Append,null,a.a.createElement(ri.a,{variant:"light",onClick:this.props.searchButtonClick},a.a.createElement(s.F,null)),a.a.createElement(ri.a,{variant:"light",onClick:this.props.clearSearchButtonClick},a.a.createElement(s.H,null)))))),a.a.createElement(to.a,{sm:2,md:2},a.a.createElement(ri.a,{disabled:!0},"Filter")))}}])&&bs(n.prototype,r),o&&bs(n,o),t}();function Ss(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _s(e){return(_s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ks(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ts(e,t){return(Ts=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Os.propTypes={searchButtonClick:Fe.a.func.isRequired,handleSearchString:Fe.a.func.isRequired,handleSearchInputKeyUp:Fe.a.func.isRequired,clearSearchButtonClick:Fe.a.func.isRequired,searchString:Fe.a.string.isRequired};var js=["newSlides","popularSlides","recentSlides"],xs=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?ks(e):t}(this,_s(t).call(this,e))).state={searchString:"",searchEnabeled:!1,selectedTab:"",selectedOption:[],popularSlides:[],popularNextPageUrl:null,recentSlides:[],recentNextPageUrl:null,newSlides:[],newNextPageUrl:null},n.handleSelectTab=n.handleSelectTab.bind(ks(n)),n.handleSearchString=n.handleSearchString.bind(ks(n)),n.searchButtonClick=n.searchButtonClick.bind(ks(n)),n.populateSlides=n.populateSlides.bind(ks(n)),n.onAddRemoveFromDashboardSildes=n.onAddRemoveFromDashboardSildes.bind(ks(n)),n.handleSearchInputKeyUp=n.handleSearchInputKeyUp.bind(ks(n)),n.clearSearchButtonClick=n.clearSearchButtonClick.bind(ks(n)),n.doTabsSearch=n.doTabsSearch.bind(ks(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ts(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.props.loadPopularCurricula(),this.props.loadRecentCurricula(),this.props.loadNewCurricula()}},{key:"alreadyInSlides",value:function(e,t){return function(e,t){for(var n=0;n<e.length;n++)if(e[n].props.curriculum.uuid===t)return!0;return!1}(e,t)}},{key:"getPrefixFromSlidesName",value:function(e){return function(e){return e.replace("Slides","")}(e)}},{key:"onAddRemoveFromDashboardSildes",value:function(e,t){var n=this.state.recentSlides;if("remove"===e)for(var r=0;r<n.length;r++)if(n[r].props.curriculum.uuid===t.uuid)return n.splice(r,1),void this.setState({recentSlides:n});"add"===e&&(this.alreadyInSlides(n,t.uuid)||(n.push(a.a.createElement(ra,{className:"swiper-slide",key:t.uuid,onAddRemoveFromDashboardSildes:this.onAddRemoveFromDashboardSildes,slidesListName:"recentSlides",curriculum:t})),this.setState({recentSlides:n})))}},{key:"populateSlides",value:function(e,t){var n=[],r=t.popularCurricula;if("recentSlides"===e&&(r=t.recentCurricula),"newSlides"===e&&(r=t.newCurricula),!r)return[];for(var o in this.state[e]&&this.state[e].length>0&&(n=this.state[e]),r.results)this.alreadyInSlides(n,r.results[o].uuid)||n.push(a.a.createElement(ra,{className:"swiper-slide",key:r.results[o].uuid,onAddRemoveFromDashboardSildes:this.onAddRemoveFromDashboardSildes,slidesListName:e,curriculum:r.results[o]}));return n}},{key:"componentWillReceiveProps",value:function(e){for(var t=0,n=js.length;t<n;t++){var r=this.getPrefixFromSlidesName(js[t]);if(e[r+"Curricula"]&&e[r+"Curricula"]!==this.props[r+"Curricula"]){var o=this.populateSlides(js[t],e),i={};i[r+"NextPageUrl"]=e[r+"Curricula"].next,i[js[t]]=o,this.setState(i)}}}},{key:"handleSearchString",value:function(e){e.target.value?this.setState({searchString:e.target.value}):(this.setState({searchString:e.target.value},this.doTabsSearch),this.setState({searchEnabeled:!1}),this.searchView=null)}},{key:"clearSearchButtonClick",value:function(e){this.setState({searchString:""},this.doTabsSearch),this.setState({searchEnabeled:!1}),this.searchView=null}},{key:"handleSelectTab",value:function(e){e!==this.state.selectedTab&&this.setState({selectedTab:e})}},{key:"doTabsSearch",value:function(){"Units"===this.state.selectedTab&&this.searchUnitsView.getWrappedInstance().doSearch(),"Modules"===this.state.selectedTab&&this.searchModulesView.getWrappedInstance().doSearch(),"Lessons"===this.state.selectedTab&&this.searchLessonsView.getWrappedInstance().doSearch(),"Questions"===this.state.selectedTab&&this.searchQuestionsView.getWrappedInstance().doSearch()}},{key:"searchButtonClick",value:function(e){this.state.searchString&&(this.setState({searchEnabeled:!0}),this.searchView&&this.searchView.getWrappedInstance().doSearch(),this.doTabsSearch())}},{key:"handleSearchInputKeyUp",value:function(e){13===e.keyCode&&this.searchButtonClick()}},{key:"loadNextSlides",value:function(e,t){this.state.recentSlides.length<=e+5&&this.state.recentNextPageUrl&&"recentSlides"===t&&this.props.loadRecentCurricula(this.state.recentNextPageUrl),this.state.popularSlides.length<=e+5&&this.state.popularNextPageUrl&&"popularSlides"===t&&this.props.loadPopularCurricula(this.state.popularNextPageUrl),this.state.newSlides.length<=e+5&&this.state.newNextPageUrl&&"newSlides"===t&&this.props.loadNewCurricula(this.state.newNextPageUrl)}},{key:"getSliderParams",value:function(e){var t=this;return{dots:!1,infinite:!1,speed:500,initialSlide:0,slidesToShow:5,slidesToScroll:5,lazyLoad:!0,arrows:!0,beforeChange:function(n,r){return t.loadNextSlides(r,e)},responsive:[{breakpoint:1800,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:1600,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:1400,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:1200,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1}}]}}},{key:"render",value:function(){var e=this,t="block";return this.state.searchEnabeled&&(t="none"),a.a.createElement("div",null,a.a.createElement(Zr.a,{fluid:!0},a.a.createElement(Os,{searchButtonClick:this.searchButtonClick,handleSearchString:this.handleSearchString,handleSearchInputKeyUp:this.handleSearchInputKeyUp,clearSearchButtonClick:this.clearSearchButtonClick,searchString:this.state.searchString})),a.a.createElement("div",{className:"pop-up-window"},a.a.createElement("div",{className:"tab-links"},a.a.createElement(Do.Tabs,{name:"browseAppTabs",className:"tabs",handleSelect:this.handleSelectTab,selectedTab:this.state.selectedTab},a.a.createElement(Do.TabLink,{to:"Сurricula"},"Courses"),a.a.createElement(Do.TabLink,{to:"Units"},"Units"),a.a.createElement(Do.TabLink,{to:"Modules"},"Modules"),a.a.createElement(Do.TabLink,{to:"Lessons"},"Lessons"),a.a.createElement(Do.TabLink,{to:"Questions"},"Questions"),a.a.createElement("div",{className:"content"},a.a.createElement(Do.TabContent,{for:"Сurricula"},this.state.searchEnabeled?a.a.createElement(ha,{ref:function(t){t&&(e.searchView=t)},curriculaSearchString:this.state.searchString}):null,a.a.createElement("div",{style:{display:t}},a.a.createElement(Zr.a,{fluid:!0},a.a.createElement(eo.a,null,a.a.createElement(to.a,{sm:12,md:12},a.a.createElement("div",{className:"blue-title",style:{lineHeight:"7rem"}},"Course dashboard"),this.state.recentSlides.length>0?a.a.createElement("div",{className:"blue-text",style:{lineHeight:"3rem",fontSize:"2rem"}},"My dashboard"):null,a.a.createElement(Ki.a,this.getSliderParams("recentSlides"),this.state.recentSlides),a.a.createElement("div",{className:"blue-text",style:{lineHeight:"3rem",fontSize:"2rem"}},"Popular"),a.a.createElement(Ki.a,this.getSliderParams("popularSlides"),this.state.popularSlides),a.a.createElement("div",{className:"blue-text",style:{lineHeight:"3rem",fontSize:"2rem"}},"New"),a.a.createElement(Ki.a,this.getSliderParams("newSlides"),this.state.newSlides)))))),a.a.createElement(Do.TabContent,{for:"Units"},a.a.createElement(Ra,{ref:function(t){t&&(e.searchUnitsView=t)},searchString:this.state.searchString,selectedTab:this.state.selectedTab})),a.a.createElement(Do.TabContent,{for:"Modules"},a.a.createElement(Ka,{ref:function(t){t&&(e.searchModulesView=t)},searchString:this.state.searchString,selectedTab:this.state.selectedTab})),a.a.createElement(Do.TabContent,{for:"Lessons"},a.a.createElement(is,{ref:function(t){t&&(e.searchLessonsView=t)},searchString:this.state.searchString,selectedTab:this.state.selectedTab})),a.a.createElement(Do.TabContent,{for:"Questions"},a.a.createElement(vs,{ref:function(t){t&&(e.searchQuestionsView=t)},searchString:this.state.searchString,selectedTab:this.state.selectedTab})))))))}}])&&Ss(n.prototype,r),o&&Ss(n,o),t}();xs.propTypes={loadRecentCurricula:Fe.a.func.isRequired,loadPopularCurricula:Fe.a.func.isRequired,loadNewCurricula:Fe.a.func.isRequired,popularCurricula:Fe.a.object,recentCurricula:Fe.a.object,newCurricula:Fe.a.object,tab:Fe.a.string};var Ds=Object(l.connect)(function(e){return{popularCurricula:e.filteredCurricula.popularCurricula,recentCurricula:e.filteredCurricula.recentCurricula,newCurricula:e.filteredCurricula.newCurricula,tab:e.studioTabs.tab}},function(e){return{dispatch:e,loadRecentCurricula:function(t){return e(K(t,"recent"))},loadNewCurricula:function(t){return e(K(t,null,"-created_on"))},loadPopularCurricula:function(t){return e(K(t,null,"-number_of_learners_denormalized"))}}})(xs);function Ps(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ns(e){return(Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function As(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ls(e,t){return(Ls=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rs=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?As(e):t}(this,Ns(t).call(this,e))).onEditCurriculumProfileClick=n.onEditCurriculumProfileClick.bind(As(n)),n.onDeleteCurriculumClick=n.onDeleteCurriculumClick.bind(As(n)),n.handleTabUserChange=n.handleTabUserChange.bind(As(n)),n.state={showEditCurriculumProfile:!1,toEditCurriculumUuid:null},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ls(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){"/browse/"===this.props.match.path&&this.props.match.isExact&&this.props.changeTab("browse","tab"),"/studio/"===this.props.match.path&&this.props.match.isExact&&this.props.changeTab("studio","tab"),0===this.props.location.pathname.lastIndexOf("/studio/profile/",0)&&(this.props.changeTab("studio","tab"),this.setState({showEditCurriculumProfile:!0}))}},{key:"componentWillReceiveProps",value:function(e){this.props&&!this.props.match.isExact&&e.match.isExact&&this.setState({showEditCurriculumProfile:!1})}},{key:"handleTabUserChange",value:function(e,t){"studio"!==e?D.push("/"+e+"/"):D.push("/studio/"),this.props.changeTab(e,t)}},{key:"onEditCurriculumProfileClick",value:function(e){this.setState({toEditCurriculumUuid:e,showEditCurriculumProfile:!this.state.showEditCurriculumProfile}),D.push("/studio/profile/"+e+"/")}},{key:"onDeleteCurriculumClick",value:function(e){confirm("Are you sure you want to delete this curriculum?")&&(this.props.deleteCurriculum(e),D.push("/studio/"))}},{key:"render",value:function(){var e=this;return a.a.createElement(xo,null,a.a.createElement(Do.Tabs,{name:"tab",className:"tabs",handleSelect:this.handleTabUserChange,selectedTab:this.props.tab},a.a.createElement("div",{className:"tab-links"},a.a.createElement(Do.TabLink,{to:"browse"},"Browse Courses"),a.a.createElement(Do.TabLink,{to:"studio"},"Course studio")),a.a.createElement("div",{className:"content"},a.a.createElement(Do.TabContent,{for:"browse"},a.a.createElement(Ds,null)),a.a.createElement(Do.TabContent,{for:"studio"},this.state.showEditCurriculumProfile?a.a.createElement(u.Route,{path:"/studio/profile/:uuid/",component:zi}):a.a.createElement("div",null,a.a.createElement("div",{className:"lightgrey-round-background-studio"},"Create a new curriculum from scratch below. Or, to add content from other courses or to fork a curriculum visit the ",a.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.props.changeTab("browse","tab")}},"Browse Courses")," tab. Tutorial and additional help here"),a.a.createElement(Zo,{onEditCurriculumProfileClick:this.onEditCurriculumProfileClick,onDeleteCurriculumClick:this.onDeleteCurriculumClick}))))))}}])&&Ps(n.prototype,r),o&&Ps(n,o),t}();Rs.propTypes={tab:Fe.a.string,changeTab:Fe.a.func.isRequired,deleteCurriculum:Fe.a.func.isRequired};var Is=Object(l.connect)(function(e){return{tab:e.studioTabs.tab}},function(e){return{changeTab:function(t,n){return e(function(e,t){return{type:W.STUDIO_TAB_CHANGED,tab:e,namespace:t}}(t,n))},deleteCurriculum:function(t){return e(se(t))}}})(Rs);function Ms(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qs(e,t,n){return t&&Us(e.prototype,t),n&&Us(e,n),e}function Bs(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Fs(e):t}function Fs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hs(e){return(Hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ws(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qs(e,t)}function Qs(e,t){return(Qs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"store",function(){return Ys});var zs=function(e){function t(){return Ms(this,t),Bs(this,Hs(t).apply(this,arguments))}return Ws(t,a.a.Component),qs(t,[{key:"componentDidMount",value:function(){this.props.dispatch(X())}},{key:"render",value:function(){return a.a.createElement(xo,null,a.a.createElement(jt,{link:"/studio/"}),a.a.createElement(Br,{uuid:this.props.match.params.uuid}))}}]),t}();zs=Object(l.connect)()(zs);var Vs=function(e){function t(){return Ms(this,t),Bs(this,Hs(t).apply(this,arguments))}return Ws(t,a.a.Component),qs(t,[{key:"componentDidMount",value:function(){this.props.dispatch(fe(this.props.match.params.uuid))}},{key:"render",value:function(){return a.a.createElement(xo,null,a.a.createElement(Ut,{uuid:this.props.match.params.uuid}))}}]),t}();Vs=Object(l.connect)()(Vs);var Ks=function(e){function t(){return Ms(this,t),Bs(this,Hs(t).apply(this,arguments))}return Ws(t,a.a.Component),qs(t,[{key:"componentDidMount",value:function(){this.props.dispatch(be(this.props.match.params.uuid))}},{key:"render",value:function(){return a.a.createElement(xo,{type:"problem"},a.a.createElement(Er,{uuid:this.props.match.params.uuid}))}}]),t}();Ks=Object(l.connect)()(Ks);var $s=function(e){function t(e){var n;return Ms(this,t),(n=Bs(this,Hs(t).call(this,e))).handleNextClick=n.handleNextClick.bind(Fs(n)),n.handlePreviousClick=n.handlePreviousClick.bind(Fs(n)),n.handleAddQuestionClick=n.handleAddQuestionClick.bind(Fs(n)),n.handleQuestionDroppedBefore=n.handleQuestionDroppedBefore.bind(Fs(n)),n}return Ws(t,a.a.Component),qs(t,[{key:"componentDidMount",value:function(){this.props.dispatch(ge(this.props.match.params.uuid))}},{key:"handleQuestionDroppedBefore",value:function(e,t){var n,r;this.props.dispatch((n=t.uuid,r=e,function(e,t){var o,i=t(),a=i.questions[n].lesson;if(r)o=i.questions[r].position;else{var s=i.lessons[a];o=i.questions[s.questions[s.questions.length-1]].position+1}$.ajax({async:!0,url:F+"questions/"+n+"/",method:"PATCH",data:{position:o},success:function(t,o,i){e({type:W.QUESTION_MOVED,uuid:n,beforeUuid:r,lessonUuid:a})}})}))}},{key:"handlePreviousClick",value:function(){this.props.dispatch(Ce(this.props.previousQuestion))}},{key:"handleNextClick",value:function(){this.props.dispatch(Ce(this.props.nextQuestion))}},{key:"handleAddQuestionClick",value:function(){this.props.dispatch(we(this.props.match.params.uuid))}},{key:"render",value:function(){var e=[];for(var t in this.props.questions)e.push(a.a.createElement(_,{key:this.props.questions[t],onDrop:this.handleQuestionDroppedBefore.bind(null,this.props.questions[t]),itemType:S,selfUuid:this.props.questions[t]},a.a.createElement(Jr,{key:this.props.questions[t],uuid:this.props.questions[t],selected:this.props.currentQuestion===this.props.questions[t]})));return a.a.createElement("div",{className:"lesson-editor"},a.a.createElement(xo,{type:"problem"},a.a.createElement(Vr,{uuid:this.props.match.params.uuid}),0===this.props.lesson_type&&a.a.createElement("div",{className:"lesson-questions"},a.a.createElement("a",{onClick:this.handlePreviousClick,className:"btn btn-light btn-arrow"+(this.props.previousQuestion?"":" disabled")},a.a.createElement(s.d,null)),e,a.a.createElement(_,{onDrop:this.handleQuestionDroppedBefore.bind(null,null),itemType:S},a.a.createElement("a",{onClick:this.handleAddQuestionClick,className:"btn btn-light btn-add",style:{cursor:"pointer"}},a.a.createElement(s.E,null),a.a.createElement("br",null),"Add question")),a.a.createElement("a",{onClick:this.handleNextClick,className:"btn btn-light btn-arrow"+(this.props.nextQuestion?"":" disabled")},a.a.createElement(s.s,null))),0===this.props.lesson_type&&this.props.currentQuestion&&a.a.createElement("div",null,a.a.createElement("hr",null),a.a.createElement(Er,{uuid:this.props.currentQuestion}))))}}]),t}();$s=Object(l.connect)(function(e,t){var n,r,o=e.lessons[t.match.params.uuid],i=[];if(e.currentQuestion&&o){var a=o.questions.indexOf(e.currentQuestion);a>0&&(n=o.questions[a-1]),a<o.questions.length-1&&(r=o.questions[a+1]),i=o.questions}return{questions:i,currentQuestion:e.currentQuestion,previousQuestion:n,nextQuestion:r,lesson_type:o&&o.lesson_type}})($s);var Xs=function(e){function t(){return Ms(this,t),Bs(this,Hs(t).apply(this,arguments))}return Ws(t,a.a.Component),qs(t,[{key:"render",value:function(){return a.a.createElement(h.ConnectedRouter,{history:D},a.a.createElement(u.Switch,null,a.a.createElement(u.Route,{path:"/studio/editor/curricula/:uuid",component:zs}),a.a.createElement(u.Route,{path:"/studio/editor/modules/:uuid",component:Vs}),a.a.createElement(u.Route,{path:"/studio/editor/lessons/:uuid",component:$s}),a.a.createElement(u.Route,{path:"/studio/editor/questions/:uuid",component:Ks}),a.a.createElement(u.Route,{path:"/curriculum/profile/:uuid",component:po}),a.a.createElement(u.Route,{path:"/studio/",component:Is}),a.a.createElement(u.Route,{path:"/browse/",component:Is})))}}]),t}();Xs=Object(f.DragDropContext)(j.a)(Xs);var Gs=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.compose,Ys=Object(c.createStore)(Object(h.connectRouter)(D)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=jo(e,t);if(t.type===W.PRESERVE_ANSWERS){n.preservedAnswers=Object.assign({},e.preservedAnswers||{});var r=e.questions[t.question],o=Object.assign({},n.preservedAnswers[t.question]||{});o[r.answer_type]=r.answers,n.preservedAnswers[t.question]=o}else n.preservedAnswers=e.preservedAnswers||{};return n}),Gs(Object(c.applyMiddleware)(p.a,Object(h.routerMiddleware)(D))));o.a.render(a.a.createElement(l.Provider,{store:Ys},a.a.createElement(Xs,null)),document.getElementById("editor-app"))},27:function(e,t,n){"use strict";n.d(t,"c",function(){return f}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return g}),n.d(t,"d",function(){return b});var r=n(0),o=n.n(r);function i(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=50,f=function e(t,n){p(this,e),this.x=t,this.y=n},d=function(){function e(t,n,r){p(this,e),this.canvas=t,r=r||"red";var o=[Math.round(n.x/h)*h,Math.round(n.y/h)*h,n.x,n.y];this.startPointer={x:n.x,y:n.y},this.onCanvas=!1,this.line=new fabric.Line(o,{strokeWidth:5,fill:r,stroke:r,originX:"center",originY:"center"});var i=(this.line.x1+this.line.x2)/2,a=(this.line.y1+this.line.y2)/2;this.deltaX=this.line.left-i,this.deltaY=this.line.top-a,this.triangle=new fabric.Triangle({left:this.line.get("x1")+this.deltaX,top:this.line.get("y1")+this.deltaY,originX:"center",originY:"center",hasBorders:!1,hasControls:!1,lockScalingX:!0,lockScalingY:!0,lockRotation:!0,pointType:"arrow_start",angle:0,width:20,height:20,fill:r}),this.canvas&&(this.canvas.add(this.line,this.triangle),this.drawing=!0)}return c(e,[{key:"calcArrowAngle",value:function(e,t,n,r){var o=n-e,i=r-t;return 180*(0===o?0===i?0:i>0?Math.PI/2:3*Math.PI/2:0===i?o>0?0:Math.PI:o<0?Math.atan(i/o)+Math.PI:i<0?Math.atan(i/o)+2*Math.PI:Math.atan(i/o))/Math.PI+90}},{key:"draw",value:function(e){this.drawing&&(this.line.set({x2:e.x,y2:e.y}),this.triangle.set({left:e.x+this.deltaX,top:e.y+this.deltaY,angle:this.calcArrowAngle(this.line.x1,this.line.y1,this.line.x2,this.line.y2)}),this.canvas&&this.canvas.renderAll())}},{key:"complete",value:function(e){this.drawing=!1;var t=Math.round(e.x/h)*h,n=Math.round(e.y/h)*h,r=Math.round((e.x+this.deltaX)/h)*h,o=Math.round((e.y+this.deltaY)/h)*h;this.endPointer={x:t,y:n},this.line.set({x2:t-4*Math.sin(this.calcArrowAngle(this.line.x1,this.line.y1,t,n)*Math.PI/180),y2:n+4*Math.cos(this.calcArrowAngle(this.line.x1,this.line.y1,t,n)*Math.PI/180)}),this.triangle.set({left:r-9*Math.sin(this.calcArrowAngle(this.line.x1,this.line.y1,t,n)*Math.PI/180),top:o+9*Math.cos(this.calcArrowAngle(this.line.x1,this.line.y1,t,n)*Math.PI/180),angle:this.calcArrowAngle(this.line.x1,this.line.y1,t,n)}),this.canvas&&(0==this.getVectorMagnitude()&&(this.canvas.remove(this.line),this.triangle.set({left:r,top:o,angle:0})),this.canvas.renderAll())}},{key:"getVectorMagnitude",value:function(){return Math.sqrt(Math.pow(Math.round((this.line.x2-this.line.x1)/h)*h,2)+Math.pow(Math.round((this.line.y2-this.line.y1)/h)*h,2))/h}},{key:"getVectorAngle",value:function(){var e=this.calcArrowAngle(this.line.x1,this.line.y1,this.line.x2,this.line.y2);return e>=360&&(e-=360),e}},{key:"getXComponent",value:function(){return Math.round((this.line.x2-this.line.x1)/h)}},{key:"getYComponent",value:function(){return Math.round((this.line.y1-this.line.y2)/h)}},{key:"addToCanvas",value:function(e){this.canvas=e,this.startPointer&&this.endPointer&&(this.canvas.add(this.line,this.triangle),this.canvas.bringToFront(this.line,this.triangle))}},{key:"delete",value:function(){this.canvas&&this.canvas.remove(this.line,this.triangle)}},{key:"isOutOfBounds",value:function(){return!(!this.endPointer||!(this.endPointer.x>300||this.endPointer.x<0||this.endPointer.y>300||this.endPointer.y<0))}}]),e}(),m={fontSize:20,textAlign:"center",lineHeight:.7,fontFamily:"Helvetica",fill:"green"},g=function(){function e(t,n,r,o){p(this,e),o=o||{};var i=Object.assign({},m,n,o);this.canvas=t,this.answerText=new fabric.Text(r,i),this.canvas&&this.canvas.add(this.answerText)}return c(e,[{key:"addToCanvas",value:function(e){this.canvas=e,this.canvas.add(this.answerText)}},{key:"delete",value:function(){this.canvas&&this.canvas.remove(this.answerText)}}]),e}(),v=function(){function e(){p(this,e)}return c(e,[{key:"getXComponent",value:function(){return null}},{key:"getYComponent",value:function(){return null}},{key:"delete",value:function(){}}]),e}(),y=function(e){function t(){return p(this,t),i(this,a(t).apply(this,arguments))}return s(t,o.a.Component),c(t,[{key:"onChange",value:function(e){this.props.onChange(e)}},{key:"render",value:function(){var e={},t={},n=this.props.checked;return this.props.isAnswer?(e.pointerEvents="none",t.backgroundColor="rgb(127, 250, 127)",n=!0):this.props.isNotAnswer?(e.pointerEvents="none",t.backgroundColor="red",n=!0):this.props.allowInput&&!this.props.submitted||(e.pointerEvents="none"),o.a.createElement("div",{id:"nullVector",className:"checkbox",style:e},o.a.createElement("label",{id:"highlightGreen",style:t},o.a.createElement("input",{id:"nullVectorCheckbox",type:"checkbox",checked:n,onChange:this.onChange.bind(this)}),"Null vector"))}}]),t}(),b=function(e){function t(){var e;return p(this,t),(e=i(this,a(t).call(this))).objects=[],e.state={checked:!1,submitted:!1},e.drawColor="red",e.fadedColor="#ffcccc",e}return s(t,o.a.Component),c(t,[{key:"componentDidMount",value:function(){this.canvas=new fabric.Canvas("c",{selection:!1,hasControls:!1}),this.drawObjects(),this.drawGrid(),this.canvas.on("mouse:down",this.mouseDown.bind(this)),this.canvas.on("mouse:move",this.mouseMove.bind(this)),this.canvas.on("mouse:up",this.mouseUp.bind(this)),this.fixCanvas()}},{key:"componentDidUpdate",value:function(){var e={};this.props.clear&&this.state.checked&&(e.checked=!1),this.state.submitted&&this.props.clear&&(e.submitted=!1),Object.keys(e).length>0&&this.setState(e)}},{key:"refreshAnswer",value:function(){this.props.question&&this.arrow&&this.props.updateAnswer([this.props.question.uuid,{vector:{x_component:this.arrow.getXComponent(),y_component:this.arrow.getYComponent()}}])}},{key:"drawGrid",value:function(){for(var e=1;e<600/h;e++){var t=new fabric.Line([e*h,0,e*h,600],{stroke:"#ccc",hasControls:!1,hasBorders:!1,selectable:!1});this.canvas.add(t),this.canvas.sendToBack(t),t=new fabric.Line([0,e*h,600,e*h],{stroke:"#ccc",hasControls:!1,hasBorders:!1,selectable:!1}),this.canvas.add(t),this.canvas.sendToBack(t)}}},{key:"mouseDown",value:function(e){this.arrow&&(this.arrow instanceof v&&this.setState({checked:!1}),this.arrow.delete()),this.arrow=new d(this.canvas,this.canvas.getPointer(e.e),this.getColor())}},{key:"mouseMove",value:function(e){this.arrow&&this.arrow instanceof d&&this.arrow.draw(this.canvas.getPointer(e.e))}},{key:"mouseUp",value:function(e){this.arrow.complete(this.canvas.getPointer(e.e)),this.arrow.isOutOfBounds()?(this.arrow.delete(),this.arrow=null):0===this.arrow.getYComponent()&&0===this.arrow.getXComponent()?(this.arrow.delete(),this.arrow=new v,this.nullBoxCheck()):this.props.onComplete&&this.props.onComplete(this.arrow),this.refreshAnswer()}},{key:"nullBoxCheck",value:function(e){var t=!this.state.checked;t?(this.arrow&&this.arrow.delete(),this.arrow=new v,this.props.onComplete&&this.props.onComplete(this.arrow)):(this.arrow&&this.arrow.delete(),this.arrow=null),this.setState({checked:t}),this.refreshAnswer()}},{key:"getColor",value:function(){return this.props.fade?this.fadedColor:this.drawColor}},{key:"drawObjects",value:function(){if(this.canvas&&this.props.objects&&this.props.objects.length){var e=this.objects||[];this.objects=[];for(var t=0;t<this.props.objects.length;t++)this.props.objects[t].addToCanvas(this.canvas),this.objects.push(this.props.objects[t]);for(t=0;t<e.length;t++)e[t].delete()}}},{key:"fixCanvas",value:function(){for(var e=document.getElementsByClassName("canvas-container"),t=0;t<e.length;t++)e[t].addEventListener("touchmove",function(e){e.preventDefault()},!1)}},{key:"render",value:function(){if(this.props.clear){this.arrow&&this.arrow.delete(),this.arrow=null;for(var e=0;e<this.objects.length;e++)this.objects[e].delete();this.objects=[]}if(this.arrow&&this.arrow instanceof d){var t=new d(this.canvas,this.arrow.startPointer,this.getColor());t.complete(this.arrow.endPointer),this.arrow.delete(),this.arrow=t}this.drawObjects();var n={border:"1px solid #ccc"};!this.props.allowInput||this.state.submitted?(n.pointerEvents="none",$(".upper-canvas").css("pointer-events","none")):$(".upper-canvas").css("pointer-events","");var r="";return this.props.allowNull&&(r=o.a.createElement(y,{allowInput:this.props.allowInput,submitted:this.state.submitted,isAnswer:this.props.isNullAnswer,isNotAnswer:this.props.isNotNullAnswer,checked:this.state.checked,onChange:this.nullBoxCheck.bind(this)})),o.a.createElement("div",null,o.a.createElement("canvas",{id:"c",width:"300",height:"300",className:"lower-canvas",style:n}),o.a.createElement("div",null,r))}}],[{key:"calcVectorXStart",value:function(e){return e>2?2*h:e<-2?5*h:3*h}},{key:"calcVectorYStart",value:function(e){return e>2?4*h:e<-2?1*h:3*h}},{key:"calcCanvasMagnitude",value:function(e){return e*h}}]),t}()},273:function(e,t,n){var r,o,i,a,s,u,l,c,p,h={}.toString;function f(e,t){var n,r=function(o){return e.length>1?function(){var i=o?o.concat():[];return n=t&&n||this,i.push.apply(i,arguments)<e.length&&arguments.length?r.call(n,i):e.apply(n,i)}:e};return r()}r=n(1571),o=n(1572),i=n(1573),a=n(1574),s=n(1575),u=function(e){return e},l=f(function(e,t){return h.call(t).slice(8,-1)===e}),c=f(function(e,t){var n,r=[];for(n=0;n<e;++n)r.push(t);return r}),a.empty=o.empty,a.slice=o.slice,a.take=o.take,a.drop=o.drop,a.splitAt=o.splitAt,a.takeWhile=o.takeWhile,a.dropWhile=o.dropWhile,a.span=o.span,a.breakStr=o.breakList,(p={Func:r,List:o,Obj:i,Str:a,Num:s,id:u,isType:l,replicate:c}).each=o.each,p.map=o.map,p.filter=o.filter,p.compact=o.compact,p.reject=o.reject,p.partition=o.partition,p.find=o.find,p.head=o.head,p.first=o.first,p.tail=o.tail,p.last=o.last,p.initial=o.initial,p.empty=o.empty,p.reverse=o.reverse,p.difference=o.difference,p.intersection=o.intersection,p.union=o.union,p.countBy=o.countBy,p.groupBy=o.groupBy,p.fold=o.fold,p.foldl=o.foldl,p.fold1=o.fold1,p.foldl1=o.foldl1,p.foldr=o.foldr,p.foldr1=o.foldr1,p.unfoldr=o.unfoldr,p.andList=o.andList,p.orList=o.orList,p.any=o.any,p.all=o.all,p.unique=o.unique,p.uniqueBy=o.uniqueBy,p.sort=o.sort,p.sortWith=o.sortWith,p.sortBy=o.sortBy,p.sum=o.sum,p.product=o.product,p.mean=o.mean,p.average=o.average,p.concat=o.concat,p.concatMap=o.concatMap,p.flatten=o.flatten,p.maximum=o.maximum,p.minimum=o.minimum,p.maximumBy=o.maximumBy,p.minimumBy=o.minimumBy,p.scan=o.scan,p.scanl=o.scanl,p.scan1=o.scan1,p.scanl1=o.scanl1,p.scanr=o.scanr,p.scanr1=o.scanr1,p.slice=o.slice,p.take=o.take,p.drop=o.drop,p.splitAt=o.splitAt,p.takeWhile=o.takeWhile,p.dropWhile=o.dropWhile,p.span=o.span,p.breakList=o.breakList,p.zip=o.zip,p.zipWith=o.zipWith,p.zipAll=o.zipAll,p.zipAllWith=o.zipAllWith,p.at=o.at,p.elemIndex=o.elemIndex,p.elemIndices=o.elemIndices,p.findIndex=o.findIndex,p.findIndices=o.findIndices,p.apply=r.apply,p.curry=r.curry,p.flip=r.flip,p.fix=r.fix,p.over=r.over,p.split=a.split,p.join=a.join,p.lines=a.lines,p.unlines=a.unlines,p.words=a.words,p.unwords=a.unwords,p.chars=a.chars,p.unchars=a.unchars,p.repeat=a.repeat,p.capitalize=a.capitalize,p.camelize=a.camelize,p.dasherize=a.dasherize,p.values=i.values,p.keys=i.keys,p.pairsToObj=i.pairsToObj,p.objToPairs=i.objToPairs,p.listsToObj=i.listsToObj,p.objToLists=i.objToLists,p.max=s.max,p.min=s.min,p.negate=s.negate,p.abs=s.abs,p.signum=s.signum,p.quot=s.quot,p.rem=s.rem,p.div=s.div,p.mod=s.mod,p.recip=s.recip,p.pi=s.pi,p.tau=s.tau,p.exp=s.exp,p.sqrt=s.sqrt,p.ln=s.ln,p.pow=s.pow,p.sin=s.sin,p.tan=s.tan,p.cos=s.cos,p.acos=s.acos,p.asin=s.asin,p.atan=s.atan,p.atan2=s.atan2,p.truncate=s.truncate,p.round=s.round,p.ceiling=s.ceiling,p.floor=s.floor,p.isItNaN=s.isItNaN,p.even=s.even,p.odd=s.odd,p.gcd=s.gcd,p.lcm=s.lcm,p.VERSION="1.1.2",e.exports=p},280:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),a=y(i),s=n(46),u=y(n(311)),l=y(n(417)),c=y(n(1513)),p=y(n(1514)),h=y(n(419)),f=y(n(5)),d=y(n(1546)),m=y(n(1547)),g=n(504),v=n(1561);function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=(0,d.default)(function(e){return{classNames:o({},v.DEFAULT_CLASSNAMES,e)}}),C=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));w.call(n),e.inline||console.warn("[Deprecation] The inline attribute is deprecated and will be removed in v7.x.x, please use inputFieldPosition instead.");var r=e.suggestions,i=e.classNames;return n.state={suggestions:r,query:"",isFocused:!1,selectedIndex:-1,selectionMode:!1,classNames:o({},v.DEFAULT_CLASSNAMES,i)},n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleChange=n.handleChange.bind(n),n.moveTag=n.moveTag.bind(n),n.handlePaste=n.handlePaste.bind(n),n.resetAndFocusInput=n.resetAndFocusInput.bind(n),n.handleSuggestionHover=n.handleSuggestionHover.bind(n),n.handleSuggestionClick=n.handleSuggestionClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.autofocus,n=e.readOnly;t&&!n&&this.resetAndFocusInput()}},{key:"filteredSuggestions",value:function(e,t){var n=this;if(this.props.handleFilterSuggestions)return this.props.handleFilterSuggestions(e,t);var r=t.filter(function(t){return 0===n.getQueryIndex(e,t)}),o=t.filter(function(t){return n.getQueryIndex(e,t)>0});return r.concat(o)}},{key:"resetAndFocusInput",value:function(){this.setState({query:""}),this.textInput&&(this.textInput.value="",this.textInput.focus())}},{key:"handleDelete",value:function(e,t){this.props.handleDelete(e,t),this.props.resetInputOnDelete?this.resetAndFocusInput():this.textInput&&this.textInput.focus(),t.stopPropagation()}},{key:"handleTagClick",value:function(e,t){this.props.handleTagClick&&this.props.handleTagClick(e,t),this.props.resetInputOnDelete?this.resetAndFocusInput():this.textInput&&this.textInput.focus()}},{key:"handleChange",value:function(e){this.props.handleInputChange&&this.props.handleInputChange(e.target.value);var t=e.target.value.trim(),n=this.filteredSuggestions(t,this.props.suggestions),r=this.state.selectedIndex;this.setState({query:t,suggestions:n,selectedIndex:r>=n.length?n.length-1:r})}},{key:"handleFocus",value:function(e){var t=e.target.value;this.props.handleInputFocus&&this.props.handleInputFocus(t),this.setState({isFocused:!0})}},{key:"handleBlur",value:function(e){var t=e.target.value;this.props.handleInputBlur&&(this.props.handleInputBlur(t),this.textInput&&(this.textInput.value="")),this.setState({isFocused:!1})}},{key:"handleKeyDown",value:function(e){var t=this.state,n=t.query,r=t.selectedIndex,o=t.suggestions,i=t.selectionMode;if(e.keyCode===v.KEYS.ESCAPE&&(e.preventDefault(),e.stopPropagation(),this.setState({selectedIndex:-1,selectionMode:!1,suggestions:[]})),-1!==this.props.delimiters.indexOf(e.keyCode)&&!e.shiftKey){e.keyCode===v.KEYS.TAB&&""===n||e.preventDefault();var a=i&&-1!==r?o[r]:b({id:n},this.props.labelField,n);""!==a&&this.addTag(a)}e.keyCode===v.KEYS.BACKSPACE&&""===n&&this.props.allowDeleteFromEmptyInput&&this.handleDelete(this.props.tags.length-1,e),e.keyCode===v.KEYS.UP_ARROW&&(e.preventDefault(),this.setState({selectedIndex:r<=0?o.length-1:r-1,selectionMode:!0})),e.keyCode===v.KEYS.DOWN_ARROW&&(e.preventDefault(),this.setState({selectedIndex:0===o.length?-1:(r+1)%o.length,selectionMode:!0}))}},{key:"handlePaste",value:function(e){var t=this;if(this.props.allowAdditionFromPaste){e.preventDefault();var n=e.clipboardData||window.clipboardData,r=n.getData("text"),o=this.props.maxLength,i=void 0===o?r.length:o,a=Math.min(i,r.length),s=n.getData("text").substr(0,a),u=(0,g.buildRegExpFromDelimiters)(this.props.delimiters),l=s.split(u);(0,c.default)(l).forEach(function(e){return t.addTag(b({id:e},t.props.labelField,e))})}}},{key:"handleSuggestionClick",value:function(e){this.addTag(this.state.suggestions[e])}},{key:"handleSuggestionHover",value:function(e){this.setState({selectedIndex:e,selectionMode:!0})}},{key:"moveTag",value:function(e,t){var n=this.props.tags[e];this.props.handleDrag(n,e,t)}},{key:"render",value:function(){var e=this,t=this.getTagItems(),n=this.state.query.trim(),r=this.state.selectedIndex,o=this.state.suggestions,i=this.props,s=i.placeholder,u=i.name,l=i.id,c=i.maxLength,h=i.inline,d=i.inputFieldPosition,m=h?d:v.INPUT_FIELD_POSITIONS.BOTTOM,g=this.props.readOnly?null:a.default.createElement("div",{className:this.state.classNames.tagInput},a.default.createElement("input",{ref:function(t){e.textInput=t},className:this.state.classNames.tagInputField,type:"text",placeholder:s,"aria-label":s,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onPaste:this.handlePaste,name:u,id:l,maxLength:c,value:this.props.inputValue}),a.default.createElement(p.default,{query:n,suggestions:o,labelField:this.props.labelField,selectedIndex:r,handleClick:this.handleSuggestionClick,handleHover:this.handleSuggestionHover,minQueryLength:this.props.minQueryLength,shouldRenderSuggestions:this.props.shouldRenderSuggestions,isFocused:this.state.isFocused,classNames:this.state.classNames,renderSuggestion:this.props.renderSuggestion}));return a.default.createElement("div",{className:(0,f.default)(this.state.classNames.tags,"react-tags-wrapper")},m===v.INPUT_FIELD_POSITIONS.TOP&&g,a.default.createElement("div",{className:this.state.classNames.selected},t,m===v.INPUT_FIELD_POSITIONS.INLINE&&g),m===v.INPUT_FIELD_POSITIONS.BOTTOM&&g)}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.classNames;return E(t)}}]),t}();C.propTypes={placeholder:h.default.string,labelField:h.default.string,suggestions:h.default.arrayOf(h.default.shape({id:h.default.string.isRequired})),delimiters:h.default.arrayOf(h.default.number),autofocus:h.default.bool,inline:h.default.bool,inputFieldPosition:h.default.oneOf([v.INPUT_FIELD_POSITIONS.INLINE,v.INPUT_FIELD_POSITIONS.TOP,v.INPUT_FIELD_POSITIONS.BOTTOM]),handleDelete:h.default.func,handleAddition:h.default.func,handleDrag:h.default.func,handleFilterSuggestions:h.default.func,handleTagClick:h.default.func,allowDeleteFromEmptyInput:h.default.bool,allowAdditionFromPaste:h.default.bool,allowDragDrop:h.default.bool,resetInputOnDelete:h.default.bool,handleInputChange:h.default.func,handleInputFocus:h.default.func,handleInputBlur:h.default.func,minQueryLength:h.default.number,shouldRenderSuggestions:h.default.func,removeComponent:h.default.func,autocomplete:h.default.oneOfType([h.default.bool,h.default.number]),readOnly:h.default.bool,classNames:h.default.object,name:h.default.string,id:h.default.string,maxLength:h.default.number,inputValue:h.default.string,tags:h.default.arrayOf(h.default.shape({id:h.default.string.isRequired,className:h.default.string})),allowUnique:h.default.bool,renderSuggestion:h.default.func},C.defaultProps={placeholder:v.DEFAULT_PLACEHOLDER,labelField:v.DEFAULT_LABEL_FIELD,suggestions:[],delimiters:[v.KEYS.ENTER,v.KEYS.TAB],autofocus:!0,inline:!0,inputFieldPosition:v.INPUT_FIELD_POSITIONS.INLINE,handleDelete:l.default,handleAddition:l.default,allowDeleteFromEmptyInput:!0,allowAdditionFromPaste:!0,resetInputOnDelete:!0,autocomplete:!1,readOnly:!1,allowUnique:!0,allowDragDrop:!0,tags:[]};var w=function(){var e=this;this.getQueryIndex=function(t,n){return n[e.props.labelField].toLowerCase().indexOf(t.toLowerCase())},this.addTag=function(t){var n=e.props,r=n.tags,o=n.labelField,i=n.allowUnique;if(t.id&&t[o]){var a=r.map(function(e){return e.id.toLowerCase()});if(!(i&&a.indexOf(t.id.toLowerCase())>=0)){if(e.props.autocomplete){var s=e.filteredSuggestions(t[o],e.props.suggestions);(1===e.props.autocomplete&&1===s.length||!0===e.props.autocomplete&&s.length)&&(t=s[0])}e.props.handleAddition(t),e.setState({query:"",selectionMode:!1,selectedIndex:-1}),e.resetAndFocusInput()}}},this.getTagItems=function(){var t=e.props,n=t.tags,r=t.labelField,o=t.removeComponent,i=t.readOnly,s=t.allowDragDrop,u=e.state.classNames,l=s?e.moveTag:null;return n.map(function(t,n){return a.default.createElement(m.default,{key:t.id+"-"+n,index:n,tag:t,labelField:r,onDelete:e.handleDelete.bind(e,n),moveTag:l,removeComponent:o,onTagClicked:e.handleTagClick.bind(e,n),readOnly:i,classNames:u,allowDragDrop:s})})}};e.exports={WithContext:(0,s.DragDropContext)(u.default)(C),WithOutContext:C,KEYS:v.KEYS}},328:function(e,t,n){"use strict";var r=n(10);t.__esModule=!0,t.default=void 0;var o=r(n(0)).default.createContext({controlId:void 0});t.default=o,e.exports=t.default},329:function(e,t,n){(function(){var t,r,o,i,a,s,u,l,c,p,h,f,d,m,g,v,y,b,E,C,w,O,S,_,k=[].slice,T={}.toString;function j(e,t){var n,r=function(o){return e.length>1?function(){var i=o?o.concat():[];return n=t&&n||this,i.push.apply(i,arguments)<e.length&&arguments.length?r.call(n,i):e.apply(n,i)}:e};return r()}t=n(273),r=t.all,o=t.any,i=t.concatMap,a=t.each,t.filter,t.find,s=t.fold,u=t.isType,l=t.keys,c=t.map,p=t.Obj,h=t.objToPairs,t.partition,t.reverse,f=t.sortBy,d=j(function(e,t){return s(function(t,n){var r;return(r=t[t.length-1]).length<e?(r.push(n),t):[].concat(t,[[n]])},[[]])(t)}),m=j(function(e,t,n){return Math.max(t,Math.min(n,e))}),g=j(function(e,t,n){var r;return-1===(r=e.substr(n).indexOf(t))?[]:[n+r].concat(g(e,t,n+r+t.length))}),v=j(function(e,t){var n,r,o;return n=t[0],0===(r=k.call(t,1)).length?null!=(o=e[n])?o:null:void 0===e[n]?null:v(e[n],r)}),y=function(e){return 0===function(e){return e.length}(l(p.filter(function(e){return!!e})(e)))},b=j(function(e,t){return T.call(e).slice(8,-1)===T.call(t).slice(8,-1)&&(o(function(t){return u(t,e)})(["Boolean","Number","String","undefined"])?e===t:"Array"===T.call(e).slice(8,-1)?e.length===t.length&&r(function(n){return b(e[n],t[n])})(function(){var t,n,r=[];for(t=0,n=e.length;t<n;++t)r.push(t);return r}()):l(e).length===l(t).length&&r(function(n){return b(e[n],t[n])})(l(e)))}),E=j(function(e,t){var n,r,o,i,a,s;return 0===t.length?[[0,e.length]]:(r=(n=g(e,t,0))[0],o=n[n.length-1],0===n.length?[]:(i=o+t.length,a=c(function(e){return[e,e+t.length,!0]})(n),s=c(function(e){return[a[e][1],a[e+1][0],!1]})(function(){var e,t,n=[];for(e=0,t=a.length-1;e<t;++e)n.push(e);return n}()),(0===r?[]:[[0,r,!1]]).concat(f(function(e){return e[0]})(a.concat(s)),i===e.length?[]:[[i,e.length,!1]])))}),C=j(function(e,t,n,r){var o;return o=v(e,t),O(e,t,o?r(o,n):n)}),w=j(function(e,t){var n,r;return n=T.call(t).slice(8,-1),o(function(e){return e===n},["Boolean","Number","String","Function"])?t:null===e||"Undefined"===T.call(e).slice(8,-1)?t:0===(r=p.keys(t)).length?e:(a(function(n){return e[n]=w(p.keys(e[n]).length>0?function(e,t){var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}({},e[n]):e[n],t[n])})(r),e)}),O=j(function(e,t,n){var r,o,i;return r=t[0],(o=k.call(t,1)).length>0?(e[r]=null!=(i=e[r])?i:{},O(e[r],o,n)):(e[r]=n,e)}),S=function(e){return c(function(t){return c(function(e){return e[t]})(e)})(l(e[0]))},_=j(function(e,t,n){var r;return(r=j(function(e,t,n,o,a){return i(function(i){var a,s;return a=i[0],s=i[1],n<o?r(e,t.concat(a),n+1,o,s):e(t.concat(a),s)})(h(a))}))(e,[],0,t,n)}),e.exports={batch:d,clamp:m,findAll:g,get:v,isEmptyObject:y,isEqualToObject:b,mappend:C,partitionString:E,rextend:w,set:O,transpose:S,unwrap:_}}).call(this)},357:function(e,t,n){var r={"./af":121,"./af.js":121,"./ar":122,"./ar-dz":123,"./ar-dz.js":123,"./ar-kw":124,"./ar-kw.js":124,"./ar-ly":125,"./ar-ly.js":125,"./ar-ma":126,"./ar-ma.js":126,"./ar-sa":127,"./ar-sa.js":127,"./ar-tn":128,"./ar-tn.js":128,"./ar.js":122,"./az":129,"./az.js":129,"./be":130,"./be.js":130,"./bg":131,"./bg.js":131,"./bm":132,"./bm.js":132,"./bn":133,"./bn.js":133,"./bo":134,"./bo.js":134,"./br":135,"./br.js":135,"./bs":136,"./bs.js":136,"./ca":137,"./ca.js":137,"./cs":138,"./cs.js":138,"./cv":139,"./cv.js":139,"./cy":140,"./cy.js":140,"./da":141,"./da.js":141,"./de":142,"./de-at":143,"./de-at.js":143,"./de-ch":144,"./de-ch.js":144,"./de.js":142,"./dv":145,"./dv.js":145,"./el":146,"./el.js":146,"./en-SG":147,"./en-SG.js":147,"./en-au":148,"./en-au.js":148,"./en-ca":149,"./en-ca.js":149,"./en-gb":150,"./en-gb.js":150,"./en-ie":151,"./en-ie.js":151,"./en-il":152,"./en-il.js":152,"./en-nz":153,"./en-nz.js":153,"./eo":154,"./eo.js":154,"./es":155,"./es-do":156,"./es-do.js":156,"./es-us":157,"./es-us.js":157,"./es.js":155,"./et":158,"./et.js":158,"./eu":159,"./eu.js":159,"./fa":160,"./fa.js":160,"./fi":161,"./fi.js":161,"./fo":162,"./fo.js":162,"./fr":163,"./fr-ca":164,"./fr-ca.js":164,"./fr-ch":165,"./fr-ch.js":165,"./fr.js":163,"./fy":166,"./fy.js":166,"./ga":167,"./ga.js":167,"./gd":168,"./gd.js":168,"./gl":169,"./gl.js":169,"./gom-latn":170,"./gom-latn.js":170,"./gu":171,"./gu.js":171,"./he":172,"./he.js":172,"./hi":173,"./hi.js":173,"./hr":174,"./hr.js":174,"./hu":175,"./hu.js":175,"./hy-am":176,"./hy-am.js":176,"./id":177,"./id.js":177,"./is":178,"./is.js":178,"./it":179,"./it-ch":180,"./it-ch.js":180,"./it.js":179,"./ja":181,"./ja.js":181,"./jv":182,"./jv.js":182,"./ka":183,"./ka.js":183,"./kk":184,"./kk.js":184,"./km":185,"./km.js":185,"./kn":186,"./kn.js":186,"./ko":187,"./ko.js":187,"./ku":188,"./ku.js":188,"./ky":189,"./ky.js":189,"./lb":190,"./lb.js":190,"./lo":191,"./lo.js":191,"./lt":192,"./lt.js":192,"./lv":193,"./lv.js":193,"./me":194,"./me.js":194,"./mi":195,"./mi.js":195,"./mk":196,"./mk.js":196,"./ml":197,"./ml.js":197,"./mn":198,"./mn.js":198,"./mr":199,"./mr.js":199,"./ms":200,"./ms-my":201,"./ms-my.js":201,"./ms.js":200,"./mt":202,"./mt.js":202,"./my":203,"./my.js":203,"./nb":204,"./nb.js":204,"./ne":205,"./ne.js":205,"./nl":206,"./nl-be":207,"./nl-be.js":207,"./nl.js":206,"./nn":208,"./nn.js":208,"./pa-in":209,"./pa-in.js":209,"./pl":210,"./pl.js":210,"./pt":211,"./pt-br":212,"./pt-br.js":212,"./pt.js":211,"./ro":213,"./ro.js":213,"./ru":214,"./ru.js":214,"./sd":215,"./sd.js":215,"./se":216,"./se.js":216,"./si":217,"./si.js":217,"./sk":218,"./sk.js":218,"./sl":219,"./sl.js":219,"./sq":220,"./sq.js":220,"./sr":221,"./sr-cyrl":222,"./sr-cyrl.js":222,"./sr.js":221,"./ss":223,"./ss.js":223,"./sv":224,"./sv.js":224,"./sw":225,"./sw.js":225,"./ta":226,"./ta.js":226,"./te":227,"./te.js":227,"./tet":228,"./tet.js":228,"./tg":229,"./tg.js":229,"./th":230,"./th.js":230,"./tl-ph":231,"./tl-ph.js":231,"./tlh":232,"./tlh.js":232,"./tr":233,"./tr.js":233,"./tzl":234,"./tzl.js":234,"./tzm":235,"./tzm-latn":236,"./tzm-latn.js":236,"./tzm.js":235,"./ug-cn":237,"./ug-cn.js":237,"./uk":238,"./uk.js":238,"./ur":239,"./ur.js":239,"./uz":240,"./uz-latn":241,"./uz-latn.js":241,"./uz.js":240,"./vi":242,"./vi.js":242,"./x-pseudo":243,"./x-pseudo.js":243,"./yo":244,"./yo.js":244,"./zh-cn":245,"./zh-cn.js":245,"./zh-hk":246,"./zh-hk.js":246,"./zh-tw":247,"./zh-tw.js":247};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=357},362:function(e,t,n){(function(){var e,r,o,i,a,s=t||this;e=n(273),r=e.filter,o=e.map,i=e.objToPairs,a=e.Str,s.cancelEvent=function(e){e.preventDefault(),e.stopPropagation()},s.classNameFromObject=function(e){return a.join(" ")(o(function(e){return e[0]})(r(function(e){return!!e[1]})(i(e))))}}).call(this)},382:function(e,t,n){"use strict";var r=n(10);t.__esModule=!0,t.default=void 0;var o=r(n(14)),i=r(n(20)),a=r(n(5)),s=r(n(0)),u=r(n(358)),l=n(51),c=r(n(1562)),p=r(n(1563)),h=r(n(1564)),f=r(n(1567)),d=r(n(1568)),m=s.default.forwardRef(function(e,t){var n=e.bsPrefix,r=e.inline,u=e.className,c=e.validated,p=e.as,h=(0,i.default)(e,["bsPrefix","inline","className","validated","as"]);return n=(0,l.useBootstrapPrefix)(n,"form"),s.default.createElement(p,(0,o.default)({},h,{ref:t,className:(0,a.default)(u,c&&"was-validated",r&&n+"-inline")}))});m.displayName="Form",m.defaultProps={inline:!1,as:"form"},m.Row=(0,u.default)("form-row"),m.Group=c.default,m.Control=p.default,m.Check=h.default,m.Label=f.default,m.Text=d.default;var g=m;t.default=g,e.exports=t.default},419:function(e,t,n){e.exports=n(1515)()},501:function(e,t,n){var r=n(704),o=n(502);function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},502:function(e,t){e.exports=function(){}},503:function(e,t,n){var r=n(704),o=n(502),i=4294967295;function a(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=i,this.__views__=[]}a.prototype=r(o.prototype),a.prototype.constructor=a,e.exports=a},504:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildRegExpFromDelimiters=function(e){var t=e.map(function(e){var t=e-48*Math.floor(e/48);return String.fromCharCode(96<=e?t:e)}).join(""),n=(0,i.default)(t);return new RegExp("["+n+"]+")},t.canDrag=function(e){var t=e.moveTag,n=e.readOnly,r=e.allowDragDrop;return void 0!==t&&!n&&r},t.canDrop=function(e){var t=e.readOnly,n=e.allowDragDrop;return!t&&n};var r,o=n(1559),i=(r=o)&&r.__esModule?r:{default:r}},505:function(e,t,n){(function(){var t,r,o,i,a,s,u,l,c,p,h,f,d,m,g,v,y,b,E,C,w,O;function S(e,t){var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}(t=n(273)).each,t.filter,r=t.find,o=t.findIndex,i=t.id,t.initial,a=t.last,s=t.map,t.objToPairs,t.partition,u=t.reject,t.reverse,t.Str,t.sortBy,t.sum,t.values,t=n(329),l=t.clamp,c=t.isEqualToObject,h=(p=n(0)).createFactory,t=n(100),f=t.div,d=t.input,t.path,m=t.span,t.svg,g=n(16).findDOMNode,v=h(n(1577)),y=h(n(1578)),h(n(710)),b=h(n(1589)),E=h(n(1590)),C=h(n(1591)),t=n(362),w=t.cancelEvent,O=t.classNameFromObject,e.exports=function(e){(function(e,t){function n(){}n.prototype=(e.superclass=t).prototype,(e.prototype=new n).constructor=e,"function"==typeof t.extended&&t.extended(e);return e})((S(t,e).displayName="ReactSelectize",t),e).prototype;function t(){t.superclass.apply(this,arguments)}return t.prototype.focusLock=!1,t.defaultProps={anchor:null,autofocus:!1,cancelKeyboardEventOnSelection:!0,delimiters:[],disabled:!1,dropdownDirection:1,firstOptionIndexToHighlight:function(e){return 0},groupId:function(e){return e.groupId},groupsAsColumns:!1,highlightedUid:void 0,inputProps:{},onAnchorChange:function(e){},onBlur:function(e){},onEnter:function(e){},onFocus:function(e){},onHighlightedUidChange:function(e,t){},onKeyboardSelectionFailed:function(e){},onOpenChange:function(e,t){},onPaste:function(e){},onScrollLockChange:function(e){},onSearchChange:function(e,t){},onValuesChange:function(e,t){},open:!1,hideResetButton:!1,renderValue:function(e){var t;return t=e.label,f({className:"simple-value"},m(null,t))},renderToggleButton:v,renderResetButton:E,scrollLock:!1,search:"",style:{},theme:"default",uid:i,values:[]},t.prototype.render=function(){var e,t,n,r,i,u=this;return e=function(){var e;switch(!1){case!(void 0===this.props.anchor||null===this.props.anchor):return-1;default:return null!=(e=o(function(e){return u.isEqualToObject(e,u.props.anchor)},this.props.values))?e:this.props.values.length-1}}.call(this),t=function(e){return s(function(e){var t,n;return t=u.props.values[e],n=u.props.uid(t),b({key:u.uidToString(n),uid:n,item:t,renderItem:u.props.renderValue})})(e)},n=-1===this.props.dropdownDirection,f({className:O((r={"react-selectize":1},r[this.props.theme+""]=1,r["root-node"]=1,r[this.props.className+""]=1,r.disabled=this.props.disabled,r.open=this.props.open,r.flipped=n,r.tethered=this.props.tether,r)),style:this.props.style},this.props.name?d({type:"hidden",name:this.props.name,value:this.props.serialize(this.props.values)}):void 0,f({className:"react-selectize-control",ref:"control",onMouseDown:function(e){if(u.props.onAnchorChange(a(u.props.values),function(){return u.onOpenChange(!0,function(){})}),!u.props.open)return w(e)}},0===this.props.search.length&&0===this.props.values.length?f({className:"react-selectize-placeholder"},this.props.placeholder):void 0,f({className:"react-selectize-search-field-and-selected-values"},t(function(){var t,n,r=[];for(t=0,n=e;t<=n;++t)r.push(t);return r}()),C(((r=S({disabled:this.props.disabled},this.props.inputProps)).ref="search",r.type="text",r.value=this.props.search,r.onChange=function(e){var t;return t=e.currentTarget.value,u.props.onSearchChange(t,function(){return u.highlightAndScrollToSelectableOption(u.props.firstOptionIndexToHighlight(u.props.options),1)})},r.onFocus=function(e){var t;t=function(){return u.props.onFocus(e)},u.focusLock?t(u.focusLock=!1):u.onOpenChange(!0,function(){return t(!0)})},r.onBlur=function(e){if(!u.refs.dropdownMenu||document.activeElement!==g(u.refs.dropdownMenu))return u.closeDropdown(function(){return u.props.onBlur(e)})},r.onPaste=this.props.onPaste,r.onKeyDown=function(t){return u.handleKeydown({anchorIndex:e},t)},r)),t(function(){var t,n,r=[];for(t=e+1,n=this.props.values.length;t<n;++t)r.push(t);return r}.call(this))),this.props.values.length>0&&!this.props.hideResetButton?f({className:"react-selectize-reset-button-container",onClick:function(e){return u.props.onValuesChange([],function(){return u.props.onSearchChange("",function(){return u.highlightAndFocus()})}),w(e)}},this.props.renderResetButton()):void 0,f({className:"react-selectize-toggle-button-container",onMouseDown:function(e){return u.props.open?u.onOpenChange(!1,function(){}):u.props.onAnchorChange(a(u.props.values),function(){return u.onOpenChange(!0,function(){})}),w(e)}},this.props.renderToggleButton({open:this.props.open,flipped:n}))),y(((r=S({},this.props)).ref="dropdownMenu",r.className=O(((i={"react-selectize":1})[this.props.className+""]=1,i)),r.theme=this.props.theme,r.scrollLock=this.props.scrollLock,r.onScrollChange=this.props.onScrollChange,r.bottomAnchor=function(){return g(u.refs.control)},r.tetherProps=((i=S({},this.props.tetherProps)).target=function(){return g(u.refs.control)},i),r.highlightedUid=this.props.highlightedUid,r.onHighlightedUidChange=this.props.onHighlightedUidChange,r.onOptionClick=function(t){u.selectHighlightedUid(e,function(){})},r)))},t.prototype.handleKeydown=function(e,t){var n,o,i=this;switch(n=e.anchorIndex,t.persist(),t.which){case 8:if(this.props.search.length>0||-1===n)return;!function(){var e,t,o,a;e=n,t=n-1<0?void 0:i.props.values[n-1],o=i.props.values[n],i.props.onValuesChange(null!=(a=u(function(e){return i.isEqualToObject(e,o)})(i.props.values))?a:[],function(){return a=function(o){if(o&&(i.highlightAndScrollToSelectableOption(i.props.firstOptionIndexToHighlight(i.props.options),1),n===e&&(void 0===t||r(function(e){return i.isEqualToObject(e,t)})(i.props.values))))return i.props.onAnchorChange(t,function(){})},void 0===r(function(e){return i.isEqualToObject(e,o)},i.props.values)?i.props.restoreOnBackspace?i.props.onSearchChange(i.props.restoreOnBackspace(o),function(){return a(!0)}):a(!0):a(!1);var a})}(),w(t);break;case 27:(i.props.open?function(e){return i.onOpenChange(!1,e)}:function(e){return i.props.onValuesChange([],e)})(function(){return i.props.onSearchChange("",function(){return i.focusOnInput()})})}if(this.props.open&&function(e,t){var n=-1,r=t.length>>>0;for(;++n<r;)if(e===t[n])return!0;return!1}(t.which,[13].concat(this.props.delimiters))&&!(null!=t&&t.metaKey||null!=t&&t.ctrlKey||null!=t&&t.shiftKey)&&this.selectHighlightedUid(n,function(e){if(void 0===e)return i.props.onKeyboardSelectionFailed(t.which)})&&this.props.cancelKeyboardEventOnSelection)return w(t);if(0===this.props.search.length)switch(t.which){case 37:this.props.onAnchorChange(n-1<0||t.metaKey?void 0:this.props.values[l(n-1,0,this.props.values.length-1)],function(){});break;case 39:this.props.onAnchorChange(t.metaKey?a(this.props.values):this.props.values[l(n+1,0,this.props.values.length-1)],function(){})}switch(t.which){case 38:return this.props.onScrollLockChange(!0),o=function(){switch(!1){case void 0!==this.props.highlightedUid:return 0;default:return-1+this.optionIndexFromUid(this.props.highlightedUid)}}.call(this),this.highlightAndScrollToSelectableOption(o,-1,function(e){if(!e)return i.highlightAndScrollToSelectableOption(i.props.options.length-1,-1)});case 40:return this.props.onScrollLockChange(!0),o=function(){switch(!1){case void 0!==this.props.highlightedUid:return 0;default:return 1+this.optionIndexFromUid(this.props.highlightedUid)}}.call(this),this.highlightAndScrollToSelectableOption(o,1,function(e){if(!e)return i.highlightAndScrollToSelectableOption(0,1)})}},t.prototype.componentDidMount=function(){this.props.autofocus&&this.focus(),this.props.open&&this.highlightAndFocus()},t.prototype.componentDidUpdate=function(e){this.props.open&&!e.open&&void 0===this.props.highlightedUid&&this.highlightAndFocus(),!this.props.open&&e.open&&this.props.onHighlightedUidChange(void 0,function(){})},t.prototype.componentWillReceiveProps=function(e){void 0!==this.props.disabled&&!1!==this.props.disabled||void 0===e.disabled||!0!==e.disabled||this.onOpenChange(!1,function(){})},t.prototype.optionIndexFromUid=function(e){var t=this;return o(function(n){return c(e,t.props.uid(n))})(this.props.options)},t.prototype.closeDropdown=function(e){var t=this;this.onOpenChange(!1,function(){return t.props.onAnchorChange(a(t.props.values),e)})},t.prototype.blur=function(){this.refs.search.blur()},t.prototype.focus=function(){this.refs.search.focus()},t.prototype.focusOnInput=function(){var e;(e=g(this.refs.search))!==document.activeElement&&(this.focusLock=!0,e.focus(),e.value=e.value)},t.prototype.highlightAndFocus=function(){this.highlightAndScrollToSelectableOption(this.props.firstOptionIndexToHighlight(this.props.options),1),this.focusOnInput()},t.prototype.highlightAndScrollToOption=function(e,t){null==t&&(t=function(){}),this.refs.dropdownMenu.highlightAndScrollToOption(e,t)},t.prototype.highlightAndScrollToSelectableOption=function(e,t,n){var r=this;null==n&&(n=function(){}),(r.props.open?function(e){return e()}:function(e){return r.onOpenChange(!0,e)})(function(){return r.refs.dropdownMenu.highlightAndScrollToSelectableOption(e,t,n)})},t.prototype.isEqualToObject=function(){return c(this.props.uid(arguments[0]),this.props.uid(arguments[1]))},t.prototype.onOpenChange=function(e,t){return this.props.onOpenChange(!this.props.disabled&&e,t)},t.prototype.selectHighlightedUid=function(e,t){var n,o,i=this;return void 0===this.props.highlightedUid?(t(),!1):"number"!=typeof(n=this.optionIndexFromUid(this.props.highlightedUid))?(t(),!1):(o=this.props.options[n],i.props.onValuesChange(s(function(e){return i.props.values[e]},function(){var t,n,r=[];for(t=0,n=e;t<=n;++t)r.push(t);return r}()).concat([o],s(function(e){return i.props.values[e]},function(){var t,n,r=[];for(t=e+1,n=this.props.values.length;t<n;++t)r.push(t);return r}.call(i))),function(){var e;if(e=r(function(e){return i.isEqualToObject(e,o)},i.props.values))return i.props.onSearchChange("",function(){return i.props.onAnchorChange(e,function(){if(i.props.open)return i.highlightAndScrollToSelectableOption(n,1,function(n){if(!n)return i.highlightAndScrollToSelectableOption(i.props.firstOptionIndexToHighlight(i.props.options),1,function(n){return n?t(e):i.onOpenChange(!1,function(){return t(e)})});t(e)});t(e)})});t()}),!0)},t.prototype.uidToString=function(e){return("object"==typeof e?JSON.stringify:i)(e)},t}(p.Component)}).call(this)},701:function(e,t,n){var r=n(406),o=n(1526),i=n(413),a=1,s=2;e.exports=function(e,t,n,u,l,c){var p=n&a,h=e.length,f=t.length;if(h!=f&&!(p&&f>h))return!1;var d=c.get(e);if(d&&c.get(t))return d==t;var m=-1,g=!0,v=n&s?new r:void 0;for(c.set(e,t),c.set(t,e);++m<h;){var y=e[m],b=t[m];if(u)var E=p?u(b,y,m,t,e,c):u(y,b,m,e,t,c);if(void 0!==E){if(E)continue;g=!1;break}if(v){if(!o(t,function(e,t){if(!i(v,t)&&(y===e||l(y,e,n,u,c)))return v.push(t)})){g=!1;break}}else if(y!==b&&!l(y,b,n,u,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},702:function(e,t,n){var r=n(295)(n(262),"WeakMap");e.exports=r},703:function(e,t,n){var r=n(1544);e.exports=function(e){return null==e?"":r(e)}},704:function(e,t,n){var r=n(327),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},705:function(e,t,n){var r=n(1552),o=n(417),i=r?function(e){return r.get(e)}:o;e.exports=i},706:function(e,t,n){var r=n(1553),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],i=o.call(r,t)?n.length:0;i--;){var a=n[i],s=a.func;if(null==s||s==e)return a.name}return t}},707:function(e,t,n){"use strict";var r=n(10);t.__esModule=!0,t.default=void 0;var o=r(n(14)),i=r(n(20)),a=r(n(5)),s=r(n(0)),u=r(n(1)),l={type:u.default.string.isRequired,as:u.default.elementType},c=s.default.forwardRef(function(e,t){var n=e.as,r=e.className,u=e.type,l=(0,i.default)(e,["as","className","type"]);return s.default.createElement(n,(0,o.default)({},l,{ref:t,className:(0,a.default)(r,u&&u+"-feedback")}))});c.displayName="Feedback",c.propTypes=l,c.defaultProps={type:"valid",as:"div"};var p=c;t.default=p,e.exports=t.default},708:function(e,t,n){(function(){var t,r,o;t=n(0),r=n(100).svg,o=n(16).findDOMNode,e.exports=function(e){(function(e,t){function n(){}n.prototype=(e.superclass=t).prototype,(e.prototype=new n).constructor=e,"function"==typeof t.extended&&t.extended(e);return e})(((function(e,t){var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}(t,e)).displayName="SvgWrapper",t),e).prototype;function t(){t.superclass.apply(this,arguments)}return t.prototype.render=function(){return r(this.props)},t.prototype.componentDidMount=function(){o(this).setAttribute("focusable",!1)},t}(t.PureComponent)}).call(this)},709:function(e,t,n){"use strict";t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};o(n(0));var r=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}t.nameShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,leave:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,leave:r.default.string,leaveActive:r.default.string,appear:r.default.string,appearActive:r.default.string})])},710:function(e,t,n){(function(){var t,r,o,i;t=n(0),r=n(100).div,o=n(329).isEqualToObject,i=n(362).cancelEvent,e.exports=function(e){(function(e,t){function n(){}n.prototype=(e.superclass=t).prototype,(e.prototype=new n).constructor=e,"function"==typeof t.extended&&t.extended(e);return e})(((function(e,t){var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}(t,e)).displayName="OptionWrapper",t),e).prototype;function t(){t.superclass.apply(this,arguments)}return t.defaultProps={},t.prototype.render=function(){var e=this;return r({className:"option-wrapper "+(this.props.highlight?"highlight":""),onMouseDown:function(t){var n;return n=function(t){return e.props.onClick(t),window.removeEventListener("mouseup",n)},window.addEventListener("mouseup",n),i(t)},onMouseMove:this.props.onMouseMove,onMouseOut:this.props.onMouseOut,onMouseOver:this.props.onMouseOver},this.props.renderItem(this.props.item))},t.prototype.shouldComponentUpdate=function(e){var t,n,r;return!o(null!=e?e.uid:void 0,null!=(t=this.props)?t.uid:void 0)||(null!=e?e.highlight:void 0)!==(null!=(n=this.props)?n.highlight:void 0)||(null!=e?e.selectable:void 0)!==(null!=(r=this.props)?r.selectable:void 0)},t}(t.Component)}).call(this)},779:function(e,t,n){var r;"undefined"!=typeof self&&self,r=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.containCrop=t.makeAspectCrop=t.getPixelCrop=t.Component=t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=n(1),s=l(a),u=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return p=!0,!0}}))}catch(e){}function h(e){var t=void 0,n=void 0;if(e.touches){var r=i(e.touches,1)[0];t=r.pageX,n=r.pageY}else t=e.pageX,n=e.pageY;return{x:t,y:n}}function f(e,t,n){return Math.min(Math.max(e,t),n)}function d(e){return e&&e.width&&e.height&&!isNaN(e.width)&&!isNaN(e.height)}function m(e){var t=void 0;return"n"===e?t="s":"ne"===e?t="sw":"e"===e?t="w":"se"===e?t="nw":"s"===e?t="n":"sw"===e?t="ne":"w"===e?t="e":"nw"===e&&(t="se"),t}function g(e,t){if(isNaN(e.aspect)||isNaN(t))return console.warn("`crop.aspect` and `imageAspect` need to be numbers in order to make an aspect crop",e),e;var n=o({x:0,y:0},e);return e.width&&(n.height=e.width/e.aspect*t),e.height&&(n.width=(n.height||e.height)*(e.aspect/t)),e.y+(n.height||e.height)>100&&(n.height=100-e.y,n.width=n.height*e.aspect/t),e.x+(n.width||e.width)>100&&(n.width=100-e.x,n.height=n.width/e.aspect*t),n}function v(e,t){return e&&e.aspect&&function(e,t,n){return!!(!e.width&&e.height||e.width&&!e.height)||!(!e.width||!e.height||Math.round(n*(e.height/100)*e.aspect)===Math.round(t*(e.width/100)))}(e,t.naturalWidth,t.naturalHeight)?g(e,t.naturalWidth/t.naturalHeight):e}function y(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!t)return null;var r=n?e.naturalWidth:e.width,o=n?e.naturalHeight:e.height,i=Math.round(r*(t.x/100)),a=Math.round(o*(t.y/100)),s=Math.round(r*(t.width/100)),u=Math.round(o*(t.height/100));return{x:i,y:a,width:f(s,0,r-i),height:f(u,0,o-a)}}function b(e,t,n){var r=o({},t);t.aspect&&e.x>t.x&&t.height+t.y>=100&&(r.x=e.x);var i=!1;r.x+r.width>100?(r.width=t.width+(100-(t.x+t.width)),r.x=t.x+(100-(t.x+r.width)),i=!0):r.x<0&&(r.width=t.x+t.width,r.x=0,i=!0),i&&t.aspect&&(r.height=r.width/t.aspect*n,e.y>r.y&&(r.y=t.y+(t.height-r.height)));var a=!1;return r.y+r.height>100?(r.height=t.height+(100-(t.y+t.height)),r.y=t.y+(100-(t.y+r.height)),a=!0):r.y<0&&(r.height=t.y+t.height,r.y=0,a=!0),a&&t.aspect&&(r.width=r.height*t.aspect/n,r.x<t.x&&(r.x=t.x+(t.width-r.width))),r}var E=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.window=window,r.document=document,r.state={},r.onCropMouseTouchDown=function(e){var t=r.props,n=t.crop;if(!t.disabled){e.preventDefault();var o=h(e);r.componentRef.focus({preventScroll:!0});var i=e.target.dataset.ord,a="nw"===i||"w"===i||"sw"===i,s="nw"===i||"n"===i||"ne"===i,u=void 0;n.aspect&&(u=r.getElementOffset(r.cropSelectRef)),r.evData={clientStartX:o.x,clientStartY:o.y,cropStartWidth:n.width,cropStartHeight:n.height,cropStartX:a?n.x+n.width:n.x,cropStartY:s?n.y+n.height:n.y,xInversed:a,yInversed:s,xCrossOver:a,yCrossOver:s,startXCrossOver:a,startYCrossOver:s,isResize:e.target.dataset.ord,ord:i,cropOffset:u},r.mouseDownOnCrop=!0,r.setState({cropIsActive:!0})}},r.onComponentMouseTouchDown=function(e){var t=r.props,n=t.crop,o=t.disabled,i=t.locked,a=t.keepSelection,s=t.onChange,u=t.useNaturalImageDimensions;if(e.target===r.imageRef&&!(o||i||a&&d(n))){e.preventDefault();var l=h(e);r.componentRef.focus({preventScroll:!0});var c=r.getElementOffset(r.imageRef),p=(l.x-c.left)/r.imageRef.width*100,f=(l.y-c.top)/r.imageRef.height*100,m={aspect:n?n.aspect:void 0,x:p,y:f,width:0,height:0};r.evData={clientStartX:l.x,clientStartY:l.y,cropStartWidth:m.width,cropStartHeight:m.height,cropStartX:m.x,cropStartY:m.y,xInversed:!1,yInversed:!1,xCrossOver:!1,yCrossOver:!1,startXCrossOver:!1,startYCrossOver:!1,isResize:!0,ord:"nw"},r.mouseDownOnCrop=!0,s(m,y(r.imageRef,m,u)),r.setState({cropIsActive:!0})}},r.onDocMouseTouchMove=function(e){var t=r.props,n=t.crop,o=t.disabled,i=t.onChange,a=t.onDragStart;if(!o&&r.mouseDownOnCrop){e.preventDefault(),r.dragStarted||(r.dragStarted=!0,a());var s=r.evData,u=h(e);s.isResize&&n.aspect&&s.cropOffset&&(u.y=r.straightenYPath(u.x));var l=u.x-s.clientStartX;s.xDiffPc=l/r.imageRef.width*100;var c=u.y-s.clientStartY;s.yDiffPc=c/r.imageRef.height*100;var p=void 0;(p=s.isResize?r.resizeCrop():r.dragCrop())!==n&&i(p,y(r.imageRef,p))}},r.onComponentKeyDown=function(e){var n=r.props,o=n.crop,i=n.disabled,a=n.onChange,s=n.onComplete,u=n.useNaturalImageDimensions;if(!i){var l=e.which,c=!1;if(d(o)){var p=r.makeNewCrop();l===t.arrowKey.left?(p.x-=t.nudgeStep,c=!0):l===t.arrowKey.right?(p.x+=t.nudgeStep,c=!0):l===t.arrowKey.up?(p.y-=t.nudgeStep,c=!0):l===t.arrowKey.down&&(p.y+=t.nudgeStep,c=!0),c&&(e.preventDefault(),p.x=f(p.x,0,100-p.width),p.y=f(p.y,0,100-p.height),a(p,y(r.imageRef,p,u)),s(p,y(r.imageRef,p,u)))}}},r.onDocMouseTouchEnd=function(){var e=r.props,t=e.crop,n=e.disabled,o=e.onComplete,i=e.onDragEnd,a=e.useNaturalImageDimensions;n||r.mouseDownOnCrop&&(r.mouseDownOnCrop=!1,r.dragStarted=!1,i(),o(t,y(r.imageRef,t,a)),r.setState({cropIsActive:!1}))},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){var e=!!p&&{passive:!1};if(this.document.addEventListener("mousemove",this.onDocMouseTouchMove,e),this.document.addEventListener("touchmove",this.onDocMouseTouchMove,e),this.document.addEventListener("mouseup",this.onDocMouseTouchEnd,e),this.document.addEventListener("touchend",this.onDocMouseTouchEnd,e),this.document.addEventListener("touchcancel",this.onDocMouseTouchEnd,e),this.imageRef.complete||this.imageRef.readyState)if(0===this.imageRef.naturalWidth){var t=this.imageRef.src;this.imageRef.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",this.imageRef.src=t}else this.onImageLoad(this.imageRef)}},{key:"componentWillUnmount",value:function(){this.document.removeEventListener("mousemove",this.onDocMouseTouchMove),this.document.removeEventListener("touchmove",this.onDocMouseTouchMove),this.document.removeEventListener("mouseup",this.onDocMouseTouchEnd),this.document.removeEventListener("touchend",this.onDocMouseTouchEnd),this.document.removeEventListener("touchcancel",this.onDocMouseTouchEnd)}},{key:"onImageLoad",value:function(e){var t=this.props,n=t.crop,r=t.onComplete,o=t.onChange,i=t.onImageLoaded,a=t.useNaturalImageDimensions,s=v(n,e);!1!==i(e,y(e,s,a))&&s!==n&&(o(s,y(e,s,a)),r(s,y(e,s,a)))}},{key:"getElementOffset",value:function(e){var t=e.getBoundingClientRect(),n=this.document.documentElement;return{top:t.top+this.window.pageYOffset-n.clientTop,left:t.left+this.window.pageXOffset-n.clientLeft}}},{key:"getCropStyle",value:function(){var e=this.props.crop;return{top:e.y+"%",left:e.x+"%",width:e.width+"%",height:e.height+"%"}}},{key:"getNewSize",value:function(){var e=this.props,t=e.crop,n=e.minWidth,r=e.maxWidth,o=e.minHeight,i=e.maxHeight,a=this.evData,s=this.imageRef.width/this.imageRef.height,u=a.cropStartWidth+a.xDiffPc;a.xCrossOver&&(u=Math.abs(u)),u=f(u,n,r);var l=void 0;return l=t.aspect?u/t.aspect*s:a.cropStartHeight+a.yDiffPc,a.yCrossOver&&(l=Math.min(Math.abs(l),a.cropStartY)),l=f(l,o,i),t.aspect&&(u=f(l*t.aspect/s,0,100)),{width:u,height:l}}},{key:"dragCrop",value:function(){var e=this.makeNewCrop(),t=this.evData;return e.x=f(t.cropStartX+t.xDiffPc,0,100-e.width),e.y=f(t.cropStartY+t.yDiffPc,0,100-e.height),e}},{key:"resizeCrop",value:function(){var e=this.makeNewCrop(),n=this.evData,r=this.props,o=r.crop,i=r.minWidth,a=r.minHeight,s=n.ord,u=this.imageRef.width/this.imageRef.height;n.xInversed&&(n.xDiffPc-=2*n.cropStartWidth),n.yInversed&&(n.yDiffPc-=2*n.cropStartHeight);var l=this.getNewSize(),c=n.cropStartX,p=n.cropStartY;n.xCrossOver&&(c=e.x+(e.width-l.width)),n.yCrossOver&&(p=!1===n.lastYCrossover?e.y-l.height:e.y+(e.height-l.height));var h=b(this.props.crop,{x:c,y:p,width:l.width,height:l.height,aspect:e.aspect},u);return e.aspect||t.xyOrds.indexOf(s)>-1?(e.x=h.x,e.y=h.y,e.width=h.width,e.height=h.height):t.xOrds.indexOf(s)>-1?(e.x=h.x,e.width=h.width):t.yOrds.indexOf(s)>-1&&(e.y=h.y,e.height=h.height),n.lastYCrossover=n.yCrossOver,this.crossOverCheck(),i&&e.width<i?o:a&&e.height<a?o:e}},{key:"straightenYPath",value:function(e){var t=this.evData,n=t.ord,r=t.cropOffset,o=t.cropStartWidth/100*this.imageRef.width,i=t.cropStartHeight/100*this.imageRef.height,a=void 0,s=void 0;return"nw"===n||"se"===n?(a=i/o,s=r.top-r.left*a):(a=-i/o,s=r.top+(i-r.left*a)),a*e+s}},{key:"createCropSelection",value:function(){var e=this,t=this.props,n=t.disabled,r=t.locked,o=t.renderSelectionAddon,i=this.getCropStyle();return s.default.createElement("div",{ref:function(t){e.cropSelectRef=t},style:i,className:"ReactCrop__crop-selection",onMouseDown:this.onCropMouseTouchDown,onTouchStart:this.onCropMouseTouchDown,role:"presentation"},!n&&!r&&s.default.createElement("div",{className:"ReactCrop__drag-elements"},s.default.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),s.default.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),s.default.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),s.default.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),s.default.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw"}),s.default.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n"}),s.default.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne"}),s.default.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e"}),s.default.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se"}),s.default.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s"}),s.default.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw"}),s.default.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w"})),o&&o(this.state))}},{key:"makeNewCrop",value:function(){return o({},t.defaultCrop,this.props.crop)}},{key:"crossOverCheck",value:function(){var e=this.evData;(!e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiffPc>=0||e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiffPc<=0)&&(e.xCrossOver=!e.xCrossOver),(!e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiffPc>=0||e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiffPc<=0)&&(e.yCrossOver=!e.yCrossOver);var t=e.xCrossOver!==e.startXCrossOver,n=e.yCrossOver!==e.startYCrossOver;e.inversedXOrd=!!t&&m(e.ord),e.inversedYOrd=!!n&&m(e.ord)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,o=t.crossorigin,i=t.crop,a=t.disabled,u=t.locked,l=t.imageAlt,c=t.onImageError,p=t.src,h=t.style,f=t.imageStyle,m=this.state.cropIsActive,g=void 0;d(i)&&(g=this.createCropSelection());var v=["ReactCrop"];return m&&v.push("ReactCrop--active"),i&&(i.aspect&&v.push("ReactCrop--fixed-aspect"),!m||i.width&&i.height||v.push("ReactCrop--crop-invisible")),a&&v.push("ReactCrop--disabled"),u&&v.push("ReactCrop--locked"),r&&v.push.apply(v,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r.split(" "))),s.default.createElement("div",{ref:function(t){e.componentRef=t},className:v.join(" "),style:h,onTouchStart:this.onComponentMouseTouchDown,onMouseDown:this.onComponentMouseTouchDown,role:"presentation",tabIndex:1,onKeyDown:this.onComponentKeyDown},s.default.createElement("img",{ref:function(t){e.imageRef=t},crossOrigin:o,className:"ReactCrop__image",style:f,src:p,onLoad:function(t){return e.onImageLoad(t.target)},onError:c,alt:l}),n,g)}}]),t}();E.xOrds=["e","w"],E.yOrds=["n","s"],E.xyOrds=["nw","ne","se","sw"],E.arrowKey={left:37,up:38,right:39,down:40},E.nudgeStep=.2,E.defaultCrop={x:0,y:0,width:0,height:0},E.propTypes={className:u.default.string,crossorigin:u.default.string,children:u.default.oneOfType([u.default.arrayOf(u.default.node),u.default.node]),crop:u.default.shape({aspect:u.default.number,x:u.default.number,y:u.default.number,width:u.default.number,height:u.default.number}),disabled:u.default.bool,locked:u.default.bool,imageAlt:u.default.string,imageStyle:u.default.shape({}),keepSelection:u.default.bool,minWidth:u.default.number,minHeight:u.default.number,maxWidth:u.default.number,maxHeight:u.default.number,onChange:u.default.func.isRequired,onImageError:u.default.func,onComplete:u.default.func,onImageLoaded:u.default.func,onDragStart:u.default.func,onDragEnd:u.default.func,src:u.default.string.isRequired,style:u.default.shape({}),renderSelectionAddon:u.default.func},E.defaultProps={className:void 0,crop:void 0,crossorigin:void 0,disabled:!1,locked:!1,imageAlt:"",maxWidth:100,maxHeight:100,minWidth:0,minHeight:0,keepSelection:!1,onComplete:function(){},onImageError:function(){},onImageLoaded:function(){},onDragStart:function(){},onDragEnd:function(){},children:void 0,style:void 0,imageStyle:void 0,renderSelectionAddon:void 0,useNaturalImageDimensions:!0},t.default=E,t.Component=E,t.getPixelCrop=y,t.makeAspectCrop=g,t.containCrop=b},function(t,n){t.exports=e},function(e,n){e.exports=t}])},e.exports=r(n(0),n(1))},780:function(e,t,n){(function(){var t,r,o,i;t=n(1570),r=n(1576),o=n(1592),i=n(505),e.exports={HighlightedText:t,SimpleSelect:r,MultiSelect:o,ReactSelectize:i}}).call(this)},96:function(e,t,n){"use strict";var r=n(1569),o="Copy to clipboard: #{key}, Enter";e.exports=function(e,t){var n,i,a,s,u,l,c=!1;t||(t={}),n=t.debug||!1;try{if(a=r(),s=document.createRange(),u=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(n){n.stopPropagation(),t.format&&(n.preventDefault(),n.clipboardData.clearData(),n.clipboardData.setData(t.format,e))}),document.body.appendChild(l),s.selectNodeContents(l),u.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),c=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),i=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:o),window.prompt(i,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(s):u.removeAllRanges()),l&&document.body.removeChild(l),a()}return c}}});