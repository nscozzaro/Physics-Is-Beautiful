!function(e){function t(t){for(var r,a,c=t[0],u=t[1],l=t[2],s=0,p=[];s<c.length;s++)a=c[s],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(f&&f(t);p.length;)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={5:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var f=u;i.push([1623,0]),n()}({108:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return a});var r="NOTIFICATIONS_RECEIVE_NOTIFICATIONS",o="NOTIFICATIONS_SET_CANCEL_SOURCE",i="NOTIFICATIONS_RECEIVE_UNREAD_COUNT",a="PROFILE_RECEIVE_ME"},1623:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(16),a=n.n(i),c=n(787),u=n.n(c),l=n(789),f=n.n(l),s=document.getElementById("notifications-inbox-app"),p=f()({}),d=o.a.createElement(u.a,{store:p});a.a.render(d,s)},1950:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"receiveNotifications",function(){return U}),n.d(r,"setCancelSource",function(){return q}),n.d(r,"receiveUnreadCount",function(){return F}),n.d(r,"fetchNotifications",function(){return B}),n.d(r,"markAsRead",function(){return L}),n.d(r,"fetchUnReadCount",function(){return V});var o={};n.r(o),n.d(o,"receiveProfileMe",function(){return W}),n.d(o,"fetchProfileMe",function(){return D});var i=n(0),a=n.n(i),c=n(3),u=n(1),l=n.n(u);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,p(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("span",{className:"app"},this.props.children)}}])&&f(n.prototype,r),o&&f(n,o),t}();h.propTypes={children:l.a.shape().isRequired};var b=Object(c.connect)(function(e,t){return{}})(h),y=n(4),v=n(286),m=n.n(v),O=n(2),_=n(788),g=n.n(_),j=n(32),E=n(255),C=n.n(E),w=n(64),R=n.n(w),P=n(48),k=n.n(P),T=n(36),S=n.n(T);function N(){return S.a}function x(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}S.a.defaults.xsrfHeaderName="X-CSRFToken",S.a.defaults.xsrfCookieName="csrftoken";var A="/api/v1/notifications/",I="/api/v1/profiles/",M=n(108);function U(e){return{type:M.a,payload:{notifications:e}}}function q(e){return{type:M.c,payload:{cancelSource:e}}}function F(e){return{type:M.b,payload:{unReadCount:e}}}function B(e,t){var n=A;return e&&(n=e),t&&(n+="?"+function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(t)),function(e,t){var r=N().CancelToken.source();return e(q(r)),N().get(n,{cancelToken:r.token}).then(x).then(function(t){e(U(t.data))}).catch(function(e){if(!N().isCancel(e))throw e})}}function L(e,t){return function(n,r){return N().post(A+e.id+"/mark_as_"+t+"/").then(x).then(function(e){})}}function V(){return function(e,t){return N().get(A+"unread_count/").then(x).then(function(t){e(F(t.data))})}}function W(e){return{type:M.d,payload:{me:e}}}function D(){return function(e,t){return N().get(I+"me").then(x).then(function(t){e(W(t.data))})}}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=z(t).call(this,e))||"object"!=typeof o&&"function"!=typeof o?H(r):o).onSellAllClick=n.onSellAllClick.bind(H(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,a.a.Component),n=t,(r=[{key:"onSellAllClick",value:function(){this.props.profile&&(window.location.href="/profile/"+this.props.profile.id+"/notifications/")}},{key:"componentWillMount",value:function(){this.props.profileActions.fetchProfileMe(),this.props.notifications||this.props.notificationsActions.fetchNotifications(null,{filter:"unread"})}},{key:"render",value:function(){return a.a.createElement(C.a,{style:{width:"30rem",maxWidth:"100vw"}},a.a.createElement(R.a,null,a.a.createElement(k.a,{sm:12,md:12},this.props.notifications?a.a.createElement("div",null,0===this.props.notifications.results.length?a.a.createElement("span",null,"No unseen notifications",a.a.createElement("hr",null)):null,this.props.notifications.results.map(function(e,t){return a.a.createElement("div",{key:e.id},e.recipient.id!==e.actor.id?a.a.createElement("span",null,e.actor.display_name):a.a.createElement("span",null,"You've")," ",a.a.createElement("span",null,e.verb),e.action_object&&"thread"===e.action_object.content_type?a.a.createElement("span",null," ",e.action_object.title):null,e.action_object&&"badge"===e.action_object.content_type?a.a.createElement("span",null," ",e.action_object.title," badge"):null,!e.action_object||"lesson"!==e.action_object.content_type&&"module"!==e.action_object.content_type?null:a.a.createElement("span",null," ",e.action_object.name),e.target&&"thread"===e.target.content_type?a.a.createElement("span",null," on ",e.target.title):null,e.target&&"badge"===e.target.content_type?a.a.createElement("span",null," on ",e.target.title," badge"):null,!e.target||"lesson"!==e.target.content_type&&"module"!==e.target.content_type?null:a.a.createElement("span",null," on ",e.target.name),"  ",a.a.createElement("hr",null))}),a.a.createElement("div",{className:"text-center"},a.a.createElement("span",{onClick:this.onSellAllClick,style:{cursor:"pointer",color:"#1caff6"}},"See all items"))):a.a.createElement("div",{style:{margin:"0 auto",width:"60px"}},a.a.createElement(j.RingLoader,{color:"#1caff6",loading:Boolean(!0)})))))}}])&&J(n.prototype,r),o&&J(n,o),t}();Y.propTypes={notificationsActions:l.a.shape({fetchNotifications:l.a.func.isRequired}).isRequired,profileActions:l.a.shape({fetchProfileMe:l.a.func.isRequired}),notifications:l.a.object,profile:l.a.object};var G=Object(c.connect)(function(e){return{notifications:e.notifications.notifications,profile:e.profile.me}},function(e){return{dispatch:e,notificationsActions:Object(y.bindActionCreators)(r,e),profileActions:Object(y.bindActionCreators)(o,e)}})(Y);function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),e}function $(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?te(e):t}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oe=function(e){function t(e,n){var r;return K(this,t),(r=$(this,ee(t).call(this,e,n))).handleClick=r.handleClick.bind(te(r)),r}return ne(t,a.a.Component),Z(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.onClick(e)}},{key:"render",value:function(){var e=null;return this.props.unReadCount&&this.props.unReadCount.count&&(e=this.props.unReadCount.count>99?"99+":""+this.props.unReadCount.count),a.a.createElement("span",{onClick:this.handleClick,style:{padding:"1rem",cursor:"pointer"}},a.a.createElement(O.x,{title:"",style:{fontSize:"2rem"}}),e?a.a.createElement(g.a,{variant:"danger",style:{left:"2rem",position:"absolute"}},e):null)}}]),t}();oe.propTypes={onClick:l.a.func.isRequired,unReadCount:l.a.object};var ie=function(e){function t(){return K(this,t),$(this,ee(t).apply(this,arguments))}return ne(t,a.a.Component),Z(t,[{key:"componentWillMount",value:function(){this.props.notificationsActions.fetchUnReadCount()}},{key:"render",value:function(){return a.a.createElement(m.a,null,a.a.createElement(m.a.Toggle,{unReadCount:this.props.unReadCount,as:oe,id:"dropdown-custom-components"},"Custom toggle"),a.a.createElement(m.a.Menu,{alignRight:!0},a.a.createElement(G,null)))}}]),t}();ie.propTypes={notificationsActions:l.a.shape({fetchUnReadCount:l.a.func.isRequired}).isRequired,unReadCount:l.a.object};var ae=Object(c.connect)(function(e){return{unReadCount:e.notifications.unReadCount}},function(e){return{dispatch:e,notificationsActions:Object(y.bindActionCreators)(r,e)}})(ie);function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"default",function(){return se});var se=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ue(this,le(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(c.Provider,{store:this.props.store},a.a.createElement(b,null,a.a.createElement(ae,null))))}}])&&ce(n.prototype,r),o&&ce(n,o),t}();se.propTypes={store:l.a.shape().isRequired}},1960:function(e,t,n){"use strict";n.r(t);var r=n(106),o=n(4),i=n(108),a={};var c={};var u=Object(o.combineReducers)({notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.a:return Object.assign({},e,{notifications:t.payload.notifications});case i.c:return Object.assign({},e,{cancelSource:t.payload.cancelSource});case i.b:return Object.assign({},e,{unReadCount:t.payload.unReadCount});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.d:return Object.assign({},e,{me:t.payload.me});default:return e}}});function l(e,t){var n=Object(o.applyMiddleware)(r.a);return Object(o.createStore)(u,e,n)}n.d(t,"default",function(){return l})},787:function(e,t,n){e.exports=n(1950)},788:function(e,t,n){"use strict";var r=n(10);t.__esModule=!0,t.default=void 0;var o=r(n(14)),i=r(n(20)),a=r(n(5)),c=r(n(0)),u=n(51),l=c.default.forwardRef(function(e,t){var n=e.bsPrefix,r=e.variant,l=e.pill,f=e.className,s=(0,i.default)(e,["bsPrefix","variant","pill","className"]),p=(0,u.useBootstrapPrefix)(n,"badge");return c.default.createElement("span",(0,o.default)({ref:t},s,{className:(0,a.default)(f,p,l&&p+"-pill",r&&p+"-"+r)}))});l.displayName="Badge",l.defaultProps={pill:!1};var f=l;t.default=f,e.exports=t.default},789:function(e,t,n){e.exports=n(1960)}});